- en: Introduction to Linux
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Linux简介
- en: An **operating system** (**OS**) is a special piece of software running on your
    computer to make it possible to start and run programs such as Microsoft Word
    and Excel. Besides that, it handles your computer's input and output for you and
    delivers filesystem and hardware control. Examples of operating systems you may
    already know are Windows, macOS, iOS, or Android.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: '**操作系统**（**OS**）是一种特殊的软件，运行在您的计算机上，使得启动和运行诸如Microsoft Word和Excel之类的程序成为可能。除此之外，它还为您处理计算机的输入和输出，并提供文件系统和硬件控制。您可能已经了解的操作系统的例子有Windows、macOS、iOS或Android。'
- en: 'In this chapter, we''ll cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: An overview of the Linux system
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux系统概述
- en: Virtualization
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟化
- en: Installing VirtualBox and CentOS
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装VirtualBox和CentOS
- en: Working with VirtualBox
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用VirtualBox
- en: Connecting VMs through SSH
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过SSH连接虚拟机
- en: An overview of the Linux system
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Linux系统概述
- en: Linux is not the name of a specific and full working OS, but implements only
    the essential inner core of an OS, which is referred to as the kernel. Most types
    of Linux OS do not cost anything, but provide thousands of programs and software
    to use completely free of charge. Most of these programs are also open source,
    which means you can view the exact blueprint of how the program has been created
    and it can be changed by anyone. One very important area in which Linux is very
    popular and is used heavily is managing many network services. These are programs
    that run in the background of your Linux server, continuously waiting for external
    events to respond with some kind of action or information. Examples are popular
    internet services such as a web server, which presents websites to the user; main
    servers for email communications; and also database servers to store and deliver
    any kind of data. As mentioned before, Linux is only the name of the kernel part,
    not a full working OS. To make it complete, you need to bundle it together with
    all kinds of programs, which is then referred to as a **distribution**.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Linux不是特定和完整工作的操作系统的名称，而是仅实现操作系统的基本内核，称为内核。大多数类型的Linux操作系统都是免费的，但提供成千上万的程序和软件，完全免费使用。其中大多数程序也是开源的，这意味着您可以查看程序的确切蓝图，以及任何人都可以更改它。Linux非常流行并且被广泛使用的一个非常重要的领域是管理许多网络服务。这些是在Linux服务器后台运行的程序，不断等待外部事件以响应某种操作或信息。例如，流行的互联网服务如Web服务器，用于向用户呈现网站；用于电子邮件通信的主服务器；以及用于存储和传递任何类型数据的数据库服务器。如前所述，Linux只是内核部分的名称，而不是完整的工作操作系统。要使其完整，您需要将其与各种程序捆绑在一起，然后称为**发行版**。
- en: Nowadays, one can choose between an insane amount of different Linux distributions,
    all designed for a special purpose and all with their own pros and cons. The main
    difference between them is the software selected and bundled together with the
    Linux kernel. The most important Linux distribution families are Red Hat- and
    Debian-based Linux distributions. CentOS is one of the most important free Red
    Hat-based Linux server distributions out there at the moment. It's a very stable,
    secure, and reliable OS, which is why it's often used in running very critical
    networking services in enterprise environments. Also, it's good to know that the
    development of this OS is very strong and updates are well selected and suitably
    tested. The first chapter of this book is about installing Linux; here we will
    be starting easy by introducing you to the concepts of virtualization. Then, we
    will create a new CentOS 7 **virtual machine** (**VM**) using a free virtualization
    software called VirtualBox.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，人们可以在众多不同的Linux发行版中进行选择，每个都设计用于特定目的，各自具有优缺点。它们之间的主要区别在于所选软件与Linux内核捆绑在一起。最重要的Linux发行版家族是基于Red
    Hat和Debian的Linux发行版。CentOS是目前最重要的免费Red Hat基础Linux服务器发行版之一。它是一个非常稳定、安全和可靠的操作系统，因此经常用于在企业环境中运行非常关键的网络服务。此外，值得知道的是，该操作系统的开发非常强大，更新也经过精心选择和适当测试。本书的第一章是关于安装Linux；在这里，我们将通过向您介绍虚拟化的概念来轻松开始。然后，我们将使用名为VirtualBox的免费虚拟化软件创建一个新的CentOS
    7 **虚拟机**（**VM**）。
- en: Virtualization
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟化
- en: In this section, we will give you an overview of the concepts of virtualization.
    We will also show you how to work with VirtualBox, and afterward show you how
    you can install your first CentOS 7 virtual machine in VirtualBox. It is a very
    hot topic and the core IT skill at the moment is virtualization.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们将为您概述虚拟化的概念。我们还将向您展示如何使用VirtualBox，并在此之后向您展示如何在VirtualBox中安装您的第一个CentOS
    7虚拟机。虚拟化是一个非常热门的话题，目前的核心IT技能就是虚拟化。
- en: Simply put, it is a technology to run separate operating systems parallel to
    your main operating system on the same computer. For example, if you are currently
    working on a Windows computer, you can run another operating system such as Linux
    or macOS in parallel to a simple Windows application on your desktop. Modern virtualization
    software does not even limit you to run only one parallel OS, but you can run
    multiple systems in parallel. The limits are only defined by your own computer
    hardware. The applications for virtualization technology in modern IT are endless,
    and you will find them everywhere. The advantages can range from shifting IT infrastructure
    paradigms to undoing changes to your operating systems, which is quite ideal for
    beginners.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 简而言之，虚拟化是一种技术，可以在同一台计算机上并行运行独立的操作系统。例如，如果您目前正在使用Windows计算机，您可以在桌面上并行运行另一个操作系统，如Linux或macOS，以及一个简单的Windows应用程序。现代虚拟化软件甚至不限制您只能运行一个并行操作系统，而是可以并行运行多个系统。限制仅由您自己的计算机硬件定义。现代IT中虚拟化技术的应用是无穷无尽的，您将在各个领域找到它们。优势可以从转移IT基础设施范式到撤消操作系统更改，这对初学者来说非常理想。
- en: In cloud computing or modern data centers, powerful virtualization server clusters
    are running many different operating systems simultaneously, instead of using
    dedicated server hardware. If you wanted to use Linux before the age of virtualization,
    you needed access to dedicated physical computers. Also, most beginners will mess
    up their new Linux installation several times when starting out on Linux. Oftentimes,
    such system changes can be hard to reboot and the only efficient and useful consequence
    is to reinstall a complete system when getting stuck. Virtualization gets rid
    of all these problems. We will use it for conveniently working with all the examples
    throughout the entire chapter thanks to its powerful features such as cloning,
    taking snapshots, or creating images, which also eliminates the fear of breaking
    something. At the moment, there is a broad range of different virtualization products
    available for both desktop and non-graphical server environments to choose from,
    both in the commercial and open source sector.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在云计算或现代数据中心中，强大的虚拟化服务器集群同时运行许多不同的操作系统，而不是使用专用服务器硬件。如果您在虚拟化时代之前想要使用Linux，您需要访问专用的物理计算机。此外，大多数初学者在开始使用Linux时会多次搞砸他们的新Linux安装。通常，这种系统更改可能很难重新启动，唯一有效和有用的后果就是在卡住时重新安装完整系统。虚拟化摆脱了所有这些问题。由于其强大的功能，例如克隆、拍摄快照或创建图像，我们将在整个章节中方便地使用它来处理所有示例，这也消除了破坏某些东西的恐惧。目前，桌面和非图形服务器环境都有广泛的不同虚拟化产品可供选择，无论是商业还是开源领域。
- en: At the core level, all of these different virtualization products have the same
    basic features and common definitions, which we need to make clear before we can
    dive deeper. When we talk about operating systems running in parallel to your
    physical machine's operating system, we will refer to them as VMs, or virtual
    machines, from this point forward. In the same context, our main operating system
    running our physical machine which runs the virtualization software is called
    the **host system** or **hypervisor**. The VMs running on this host are called
    the **guest systems** or **guests**. Copying and cloning is one of the most important
    features of virtualization. This can save you precious time, for example, if you
    need another identical machine or to make your work more portable. Just copy the
    image to your laptop or a different data center and you're done. The portable
    copy of a VM is also called an **image**. Another awesome feature is taking snapshots
    of your VM. Taking such a snapshot only takes a few seconds but will save the
    complete and current state of your VM at any given point in time. This is very
    useful if you want to preserve a given version of your VM you may later want to
    revert to. Another feature different virtualization products have in common are
    the types of supported network modes.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在核心级别，所有这些不同的虚拟化产品都具有相同的基本功能和共同的定义，我们需要在深入研究之前搞清楚。当我们谈论在物理机操作系统的同时运行的操作系统时，我们将从现在开始称它们为VM或虚拟机。在同样的上下文中，运行虚拟化软件的主要操作系统称为主机系统或hypervisor。在此主机上运行的VM称为客户系统或客户。复制和克隆是虚拟化的最重要功能之一。这可以节省宝贵的时间，例如，如果您需要另一台相同的机器或使您的工作更具可移植性。只需将图像复制到笔记本电脑或不同的数据中心，您就完成了。虚拟机的便携式副本也称为图像。另一个令人敬畏的功能是拍摄虚拟机的快照。拍摄这样的快照只需要几秒钟，但会保存虚拟机在任何给定时间点的完整和当前状态。如果您想保留虚拟机的特定版本，以便以后恢复，这将非常有用。不同虚拟化产品共有的另一个特性是支持的网络模式类型。
- en: 'The different modes a VM can use to connect to a network can be as follows:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟机连接到网络的不同模式可以如下：
- en: '**NAT**: All incoming and outgoing network traffic of your guest VM will go
    through the host network adapter. This means that the VM is not visible in the
    network we are currently on and we only see our host''s MAC and IP addresses.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NAT：您的虚拟机的所有传入和传出网络流量都将通过主机网络适配器进行。这意味着该虚拟机在当前网络中不可见，我们只能看到主机的MAC和IP地址。
- en: '**Bridged**: This network mode means the VM exposes itself and connects to
    the surrounding physical network as if it were a normal physical machine with
    its own unique MAC address. A DHCP server in this network will give the machine
    its own IP address that differs from the host machine.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 桥接：这种网络模式意味着虚拟机会像正常的物理机一样暴露自己并连接到周围的物理网络，具有自己独特的MAC地址。此网络中的DHCP服务器将为该机器提供与主机机器不同的IP地址。
- en: '**Host-only**: This means that the VM can only communicate with and is visible
    to its host and not the rest of the network.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主机模式：这意味着虚拟机只能与其主机通信并对其可见，而不能与网络的其他部分通信。
- en: '**Specific virtual network**: This is a very great feature where you can define
    private and isolated subnet works, independent of the surrounding physical network,
    and then associate VMs to it. This can be useful so that only VMs can see and
    talk to other machines, which are in the same virtual network.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特定虚拟网络：这是一个非常好的功能，您可以在周围物理网络之外定义私有和隔离的子网，并将虚拟机关联到它。这可能很有用，以便只有虚拟机可以看到并与其他在同一虚拟网络中的机器进行通信。
- en: Installing VirtualBox and CentOS
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装VirtualBox和CentOS
- en: 'In this section, we will show you how to install the free virtualization software
    called **VirtualBox**, before creating a new CentOS 7 VM. We will also finish
    very important post-installation tasks, which we will need to perform in the upcoming
    sections. Installation of VirtualBox is really straightforward. Executable installers
    are available for every major operating system. The following are the steps to
    install VirtualBox:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将向您展示如何安装名为VirtualBox的免费虚拟化软件，然后创建一个新的CentOS 7虚拟机。我们还将完成非常重要的后安装任务，这些任务将在接下来的部分中执行。安装VirtualBox非常简单。可用于每个主要操作系统的可执行安装程序。安装VirtualBox的步骤如下：
- en: Open your favorite web browser and navigate to [https://www.virtualbox.org/](https://www.virtualbox.org/).
    Now, click on the download button that is clearly visible on the home page.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开你喜欢的网页浏览器，导航到[https://www.virtualbox.org/](https://www.virtualbox.org/)。现在，在主页上清晰可见的下载按钮上点击。
- en: Select a target host OS of your choice. In our example, we will select Windows.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你选择的目标主机操作系统。在我们的例子中，我们将选择Windows。
- en: Click on Windows hosts to start the download. Also, don't forget to download
    the VirtualBox extension pack that you can find on the same Downloads page.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击Windows hosts开始下载。同时，不要忘记下载你可以在同一下载页面上找到的VirtualBox扩展包。
- en: This is a package that will provide better USB support, among other useful features.
    After the download has finished, open the downloaded installer to run it and install
    it using the default settings.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个可以提供更好的USB支持等其他有用功能的软件包。下载完成后，打开下载的安装程序运行并使用默认设置进行安装。
- en: Now, let's create a new CentOS 7 VM in VirtualBox. In order to do so, we first
    need to download the CentOS 7 Minimal ISO file version 1611 from the official
    CentOS website ([https://www.centos.org/](https://www.centos.org/)). This contains
    only the most important software packages needed to run a non-graphical Linux
    server, which is exactly what we want.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们在VirtualBox中创建一个新的CentOS 7虚拟机。为了这样做，我们首先需要从官方CentOS网站([https://www.centos.org/](https://www.centos.org/))下载CentOS
    7 Minimal ISO文件版本1611。这个文件只包含运行非图形Linux服务器所需的最重要的软件包，这正是我们想要的。
- en: 'The following are the steps for creating a new CentOS 7 VM:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新的CentOS 7虚拟机的步骤如下：
- en: Open a web browser and navigate to [https://www.centos.org/](https://www.centos.org/).
    Navigate to Get CentOS Now | Minimal ISO.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个网页浏览器，导航到[https://www.centos.org/](https://www.centos.org/)。导航到Get CentOS
    Now | Minimal ISO。
- en: On the next screen, select the download URL near to your current location for
    fast download speed. I'm currently located in Germany, so my actual download URL
    will most likely be different than yours if you're somewhere else.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕上，选择靠近你当前位置的下载URL以获得更快的下载速度。我目前位于德国，所以我的实际下载URL很可能与你的不同，如果你在其他地方的话。
- en: Wait until the download has finished.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待下载完成。
- en: On a modern and fast computer, you can install a fully working operating system
    such as CentOS 7 inside VirtualBox within a few minutes.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在一台现代和快速的计算机上，你可以在几分钟内在VirtualBox中安装一个完全工作的操作系统，比如CentOS 7。
- en: 'Run VirtualBox on your system. Now, let''s reproduce the following steps to
    install our first CentOS 7 VM:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的系统上运行VirtualBox。现在，让我们重现以下步骤来安装我们的第一个CentOS 7虚拟机：
- en: Click on the New button to create a new VM. If you type the VM Name as `CentOS
    7`, VirtualBox will recognize the two other fields, Type and Version, to be Linux
    and Red Hat (64-bit) correctly for you.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击新建按钮创建一个新的虚拟机。如果你将虚拟机名称输入为`CentOS 7`，VirtualBox将会正确识别另外两个字段，类型和版本，为Linux和Red
    Hat (64位)。
- en: Click on the Next button to proceed to the next step.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下一步按钮继续下一步。
- en: Now, select how much memory or RAM your VM must have. If you don't want any
    performance issues for your host system, stay in the green area displayed to you
    in the Memory size window.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，选择你的虚拟机需要多少内存或RAM。如果你不想让主机系统出现性能问题，保持在内存大小窗口中显示给你的绿色区域内。
- en: For a basic headless server, which means a non-graphical server, at least 2
    GB of RAM is recommended. Don't worry, you can change this setting later too.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于一个基本的无头服务器，也就是一个非图形服务器，建议至少有2GB的RAM。不用担心，你以后也可以更改这个设置。
- en: Click on the Next button and on the next screen leave the default settings as
    is. Now, click on Create.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下一步按钮，在下一个屏幕上保持默认设置不变。现在，点击创建。
- en: Select the VDI option and click on Next. Now, on this screen, stay with the
    Dynamically allocated option. Click on Next.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择VDI选项，然后点击下一步。现在，在这个屏幕上，保持动态分配选项。点击下一步。
- en: On the next screen, double the virtual hard disk size to `16 GB`, as `8 GB`
    is way too little for our work.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕上，将虚拟硬盘大小加倍到`16GB`，因为`8GB`对我们的工作来说太少了。
- en: Finally, click on the Create button to create a fresh and empty VM ready for
    installation of CentOS 7.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击创建按钮创建一个新的空虚拟机，准备安装CentOS 7。
- en: 'Now, let''s install CentOS 7 in our empty VM:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们在空的虚拟机中安装CentOS 7：
- en: Select our CentOS 7 server VM and click on the green Start button to start it.
    Here, our downloaded CentOS 7 ISO file will be used as a virtual CD-ROM by VirtualBox
    and this is where it can be booted or started from.
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择我们的CentOS 7服务器虚拟机，然后点击绿色的启动按钮启动它。在这里，我们下载的CentOS 7 ISO文件将被VirtualBox用作虚拟CD-ROM，这是它可以被引导或启动的地方。
- en: To do this, click on the small folder symbol and navigate the file browser to
    your downloaded CentOS 7 Minimal ISO file, and then click on the Start button.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击小文件夹符号，导航文件浏览器到你下载的CentOS 7 Minimal ISO文件，然后点击开始按钮。
- en: Now, your VM will present you with a text-based start menu, where we will use
    the up arrow key on the keyboard to select Install CentOS Linux 7 and then press
    *Enter* to start the installer.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你的虚拟机将呈现一个基于文本的启动菜单，在这里我们将使用键盘上的上箭头键选择安装CentOS Linux 7，然后按*Enter*开始安装程序。
- en: After waiting for some time, you will be presented with the first graphical
    installation screen.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待一段时间后，你将看到第一个图形安装屏幕。
- en: Before we click or type something into the VM window for the first time, we
    need to know how we can switch back to our host system once we are in. If you
    click once on the guest window, a popup will show up telling you how you can switch
    controls back and forth.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们第一次点击或在VM窗口中输入之前，我们需要知道一旦进入，我们如何切换回主机系统。如果你在客户窗口上点击一次，一个弹出窗口将显示告诉你如何来回切换控制。
- en: Select the installer language. In our example, we used the default English language.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择安装程序语言。在我们的例子中，我们使用了默认的英语。
- en: This is not the language of your CentOS 7 installation. We will set this type
    of information on the next screen.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这不是你的CentOS 7安装语言。我们将在下一个屏幕上设置这种类型的信息。
- en: Click on Continue. Now, we are on the main installation screen, where we can
    customize our installation. You will need to wait until all the items have been
    loaded.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“继续”。现在，我们在主安装屏幕上，可以自定义我们的安装。您需要等待直到所有项目都已加载。
- en: Here, all the items which are marked with an exclamation mark need to be done
    before we can proceed with the installation, but you can also do optional settings
    here like setting your location information.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，所有标有感叹号的项目都需要在我们继续安装之前完成，但您也可以在此处进行可选设置，如设置位置信息。
- en: Next, we need to set the installation destination. Click on INSTALLATION DESTINATION.
    As we are using an empty VM, we will use the full hard disk for installation,
    which is the default, so just click on Done which is present at the top-left side
    of the screen.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要设置安装目标。单击“安装目标”。由于我们使用的是空的VM，我们将使用整个硬盘进行安装，这是默认设置，因此只需单击位于屏幕左上角的“完成”。
- en: Before we start the actual installation, let's quickly enable our Ethernet network
    card here, so we don't have to do this post installation using the command line.
    If you are behind a proxy, you can also add this kind of information here in this
    menu. Click on Done if you're ready.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在实际安装之前，让我们快速在这里启用我们的以太网网络卡，这样我们就不必在安装后使用命令行来执行此操作。如果您在代理后面，您也可以在此菜单中添加此类信息。如果准备好了，请单击“完成”。
- en: Now, let's click on Begin Installation. While the installation is ongoing, set
    a strong and secure password for the administrator or root account, which is the
    account that has all the rights and control over a system. Click on Done after
    setting up the strong password.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，让我们点击“开始安装”。在安装进行中，为管理员或root帐户设置一个强大和安全的密码，该帐户具有对系统的所有权限和控制。设置好强密码后，单击“完成”。
- en: Now, from the same screen, you can create a normal user account for your everyday
    work.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，从同一屏幕上，您可以为日常工作创建一个普通用户帐户。
- en: The first rule of any secure Linux system is never work with the root user unless
    you need to.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 任何安全的Linux系统的第一条规则是除非必须，否则不要使用root用户。
- en: Click on Done after creating the new user account.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建新用户帐户后，单击“完成”。
- en: Now wait until the installation has finished. Once the installation is finished,
    click on the Reboot button to restart your system.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在等待安装完成。安装完成后，单击“重新启动”按钮重新启动系统。
- en: Pressing the *Enter* key on the start screen will always select and use the
    latest kernel.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在启动屏幕上按*Enter*键将始终选择并使用最新的内核。
- en: Now, wait until you get a login screen in this window, which is also called
    our **Service Terminal**.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，等待直到您在此窗口中获得登录屏幕，这也称为我们的**服务终端**。
- en: Log in using the `root` user and password you set during the installation.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您在安装过程中设置的`root`用户和密码登录。
- en: 'Then, type the following command in the Terminal and press the *Enter* key:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，在终端中输入以下命令并按*Enter*键：
- en: '[PRE0]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This command will install all the latest software updates available for your
    CentOS 7 installation, as the installer media does not have them included.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 此命令将安装可用的所有最新软件更新，因为安装程序媒体中没有包含它们。
- en: If you get a new error while this command is running, something must be wrong
    with your internet connection, so troubleshoot internet connectivity on your host
    system.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果在运行此命令时出现新错误，则您的互联网连接可能出现问题，请在主机系统上排除互联网连接故障。
- en: If the core of the CentOS 7 system, which is called the **kernel**, has been
    updated, we need to reboot the system. So, type `reboot` in the Terminal, and
    then press *Enter*. After rebooting again, press the *Enter* key then wait for
    the login screen to load and log in again.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如果CentOS 7系统的核心（称为**内核**）已更新，我们需要重新启动系统。因此，在终端中输入`reboot`，然后按*Enter*。重新启动后，再次按*Enter*键，然后等待登录屏幕加载并重新登录。
- en: 'Next, we type in another two commands, which will clear out all our free space
    so that we can create a smaller backup image of the system. Now, type the following
    command with administrative/root access in the Terminal:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们输入另外两个命令，这将清除所有空闲空间，以便我们可以创建系统的较小备份映像。现在，在终端中使用管理员/根访问权限输入以下命令：
- en: '[PRE1]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '![](img/dd89f9b1-6c49-4d9c-bd2e-d1777de8164d.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/dd89f9b1-6c49-4d9c-bd2e-d1777de8164d.png)'
- en: Now, press the *Enter* key. This command will override all the free space of
    your Linux filesystem by creating one big file containing only zeros until the
    disk is full. This will take some time, so you will need to be patient. If this
    command outputs some text, it has been finished. You can ignore the error output
    as this is the expected behavior.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，按*Enter*键。此命令将通过创建一个包含仅零的大文件来覆盖Linux文件系统的所有空闲空间，直到磁盘已满。这将需要一些时间，因此您需要耐心等待。如果此命令输出一些文本，则已完成。您可以忽略错误输出，因为这是预期行为。
- en: 'Finally, for setting up SSH port forwarding, we need to write down the actual
    IP address of our VM''s connected network adapter. Run the following command:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，为了设置SSH端口转发，我们需要记下VM连接的网络适配器的实际IP地址。运行以下命令：
- en: '[PRE2]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Press *Enter* and, in the output line type in the IP address, which is the value
    after the word `inet`. In our example, it's `10.0.2.15`.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 按*Enter*，在输出行中输入IP地址，即在单词`inet`之后的值。在我们的示例中，它是`10.0.2.15`。
- en: 'To shut down the VM, use the following command and then press the *Enter* key:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 要关闭VM，请使用以下命令，然后按*Enter*键：
- en: '[PRE3]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Working with VirtualBox
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用VirtualBox
- en: In this section, we will learn the most important steps needed to properly work
    with the VirtualBox. Note that most of the settings discussed here can be directly
    translated from VirtualBox to any other desktop virtualization software such as
    KVM, VMware, Workstation, or Parallels Desktop.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习正确使用VirtualBox所需的最重要步骤。请注意，这里讨论的大多数设置可以直接从VirtualBox转换为任何其他桌面虚拟化软件，如KVM、VMware、Workstation或Parallels
    Desktop。
- en: 'Let''s follow these steps to export the VM image:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们按照以下步骤导出VM映像：
- en: Navigate your cursor to the top-left corner of the Oracle VM VirtualBox Manager
    screen. Here, click on the File menu and in the drop-down menu select Export Appliance....
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将光标移动到Oracle VM VirtualBox Manager屏幕的左上角。在这里，单击“文件”菜单，然后在下拉菜单中选择“导出设备...”。
- en: In the same drop-down menu, you'll find another menu item called Import Appliance...,
    which allows you to import an image file once it has been created.
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在同一个下拉菜单中，您会找到另一个名为“导入设备...”的菜单项，它允许您在创建图像文件后导入图像文件。
- en: Now, click on Export Appliance... to start the process.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，点击“导出设备...”开始该过程。
- en: In the Export Virtual Appliance screen, select the VM you want to create an
    image of and then click on Next.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“导出虚拟设备”屏幕上，选择要创建镜像的虚拟机，然后点击“下一步”。
- en: Now, on the Storage settings screen leave the default settings as it is and
    then click on Next again.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在存储设置屏幕上保持默认设置不变，然后再次点击“下一步”。
- en: Again, on the Appliance settings screen, we don't want to change anything, so
    click on the Export button to start the process. This will take some time, so
    you will need to be patient.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同样，在设备设置屏幕上，我们不想更改任何内容，所以点击“导出”按钮开始该过程。这将需要一些时间，所以您需要耐心等待。
- en: After the export process has been completed, let's examine what the resulting
    file will look like.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导出过程完成后，让我们来看看生成的文件会是什么样子。
- en: 'Go to the location where VirtualBox has exported your file (usually, you''ll
    find it in the `Documents` folder) and then right-click and select the Properties...
    option to view the file''s properties:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到VirtualBox导出文件的位置（通常在“文档”文件夹中找到），然后右键单击并选择“属性...”选项查看文件的属性：
- en: '![](img/84e27e87-2606-4198-be4b-93ece918959e.png)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![](img/84e27e87-2606-4198-be4b-93ece918959e.png)'
- en: As you can see, the exported VM size is over 600 MB in size, which is pretty
    awesome. This image file could now be copied to a backup location or transferred
    to another machine or data center for running it. The next thing we should do
    before working with our VM is also make a snapshot from the current state right
    after installation, so we can revert to the status quo whenever we need to.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，导出的VM大小超过600 MB，这非常棒。现在可以将此镜像文件复制到备份位置，或者转移到另一台机器或数据中心进行运行。在使用VM之前，我们还应该在安装后立即从当前状态创建一个快照，这样我们可以在需要时恢复到现状。
- en: 'Follow these steps to create a snapshot of the VM:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建VM的快照：
- en: Select the appropriate VM and then click on the Snapshots option for your marked
    VM. Give it a suitable name and an optional description.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适当的VM，然后点击标记的VM的“快照”选项。给它一个合适的名称和一个可选的描述。
- en: The next thing we want to do here is create some exact copies of our VM so that
    we have multiple CentOS 7 servers. To do this, right-click on the VM and select
    the Clone... option. Give it a suitable name and mark the option named Reinitialize
    the MAC address of all network cards, so it will be seen as a unique machine in
    our network.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们要做的下一件事是创建VM的一些精确副本，这样我们就有了多个CentOS 7服务器。为此，请右键单击VM，然后选择“克隆...”选项。给它一个合适的名称，并标记名为“重新初始化所有网络卡的MAC地址”的选项，这样它将被视为我们网络中的唯一机器。
- en: On the Clone type windows, select Full clone and click on Next to continue.
    Now, click on the Clone button while leaving the default option selected.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在克隆类型窗口中，选择“完全克隆”，然后点击“下一步”继续。现在，点击“克隆”按钮，同时保持默认选项选中。
- en: Repeat the previous steps to create another fully cloned VM.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复之前的步骤，创建另一个完全克隆的VM。
- en: 'Now, let''s demonstrate the power of working with snapshots. A snapshot should
    always be taken before doing something risky. For example, start one of our CentOS
    7 VMs and log in to the system. Now, let''s imagine we want to work on the `/boot`
    directory, where the Linux kernels reside. This is a critical directory, so it''s
    a good idea to create a snapshot of the current VM state before proceeding:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们演示使用快照的威力。在做一些冒险之前，应该始终先拍摄一个快照。例如，启动我们的一个CentOS 7 VM并登录系统。现在，让我们想象我们想要在“/boot”目录上工作，那里存放着Linux内核。这是一个关键目录，因此在继续之前创建当前VM状态的快照是一个好主意：
- en: '![](img/d48ee046-1913-4a74-a58a-256d28f88b26.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d48ee046-1913-4a74-a58a-256d28f88b26.png)'
- en: 'In the previous screenshot, you can see that I''ve made a severe mistake. I
    completely deleted the whole kernel directory, so the directory is now empty.
    What will happen if I restart the system now? Let''s see:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一张截图中，您可以看到我犯了一个严重的错误。我完全删除了整个内核目录，所以目录现在是空的。如果我现在重新启动系统会发生什么？让我们看看：
- en: '![](img/bf467dd6-3550-4fbb-925a-537770181535.png)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bf467dd6-3550-4fbb-925a-537770181535.png)'
- en: As you can see in the previous screenshot, I cannot boot without any kernel
    and the system is now completely unresponsive, and this gets really hard to fix.
    What is the best solution for this problem? Reverting to the state of your last
    snapshot.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 如前面的截图所示，我没有内核无法启动，系统现在完全无响应，这真的很难修复。对于这个问题，最好的解决方案是恢复到上一个快照的状态。
- en: 'Perform the following steps to revert the VM state to the previous snapshot:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 执行以下步骤将VM状态恢复到上一个快照：
- en: 'First shut down your VM. Now, select the snapshot of your choice and then click
    on the Restore button. This will ask you if you want to create a snapshot of the
    current state. If we don''t want to do this, then we click on the Restore button,
    as shown in the following screenshot:'
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先关闭VM。现在，选择您选择的快照，然后点击“还原”按钮。这将询问您是否要创建当前状态的快照。如果我们不想这样做，那么我们点击“还原”按钮，如下截图所示：
- en: '![](img/e3e6cd80-c64a-4825-84cf-816ead02378b.png)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e3e6cd80-c64a-4825-84cf-816ead02378b.png)'
- en: 'Now, you can start the VM. As you can see from the following screenshot, we
    are just about to execute the `delete` command:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您可以启动VM。如下截图所示，我们即将执行“删除”命令：
- en: '![](img/009ab1bc-88f1-436b-8356-4e05c96f302c.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/009ab1bc-88f1-436b-8356-4e05c96f302c.png)'
- en: If we start the machine again, all the problems are gone and we are back where
    we were before deleting the kernel files. It is recommended to use the snapshot
    feature often since it can save your precious time.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果我们再次启动机器，所有问题都消失了，我们回到了删除内核文件之前的状态。建议经常使用快照功能，因为它可以节省宝贵的时间。
- en: 'Finally, we can easily adjust our VM''s hardware parameters if we need to,
    as shown in the following screenshot:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，如果需要的话，我们可以轻松调整虚拟机的硬件参数，如下面的截图所示：
- en: '![](img/78ae2521-726f-4e1b-b095-44527e0b4f62.png)'
  id: totrans-106
  prefs: []
  type: TYPE_IMG
  zh: '![](img/78ae2521-726f-4e1b-b095-44527e0b4f62.png)'
- en: Before making any hardware changes, ensure that you shut down the VM and then
    proceed.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行任何硬件更改之前，请确保关闭虚拟机，然后继续。
- en: You can only do this on a part of the machine. Select your VM of choice and
    click on Settings and then on System, where you can adjust your memory. Also,
    you can adjust your virtual process here. Click on Display to change the Video
    Memory settings. Under Storage, you can attach virtual hard disks or create new
    ones. Under Network, you can create new network adapters for your VM and choose
    between different network modes. Under USB, select USB 2.0 (EHCI) Controller so
    that we can connect a physical USB device to our VM properly if we want to.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 您只能在机器的一部分上进行此操作。选择您选择的虚拟机，然后点击“设置”，然后点击“系统”，在那里您可以调整内存。此外，您还可以在这里调整虚拟进程。点击“显示”以更改视频内存设置。在存储下，您可以附加虚拟硬盘或创建新的硬盘。在网络下，您可以为您的虚拟机创建新的网络适配器，并在不同的网络模式之间进行选择。在USB下，选择USB
    2.0（EHCI）控制器，这样我们就可以正确地将物理USB设备连接到我们的虚拟机上。
- en: Connecting VMs through SSH
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过SSH连接虚拟机
- en: 'Working with your new Linux OS using its Terminal window through the VirtualBox
    user interface will get you started and can be used for configuring the most basic
    settings of your new server. A more convenient, efficient, and professional way
    of accessing your server''s command line is by using a terminal emulator program
    and SSH. A terminal emulator is an external program running outside VirtualBox
    in a separate window on your OS. It can be used exactly the same way as your server''s
    main black and white Terminal:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 通过VirtualBox用户界面使用新的Linux操作系统的终端窗口将使您开始，并可用于配置新服务器的最基本设置。访问服务器命令行的更便捷、高效和专业的方法是使用终端仿真器程序和SSH。终端仿真器是在您的操作系统的单独窗口中运行的外部程序。它可以与您服务器的主要黑白终端完全相同地使用：
- en: '![](img/f63d8094-3876-4c70-8f94-f9fac7a7018f.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f63d8094-3876-4c70-8f94-f9fac7a7018f.png)'
- en: It has a lot of convenient features, such as easy copy and paste in clipboards
    from your OS window and customizing font size and colors. Also, it uses tabs for
    better navigation, but how can you communicate with such a terminal emulator from
    your server? This is done using a client-server connection. The terminal emulator
    running on your host machine will be declined; we will connect to the CentOS 7
    server to execute commands on it. Such a connection can be done using SSH. This
    is a system for remotely accessing and using Linux servers. It uses strong encryption
    for secure connections. As SSH is one of the most fundamental core services for
    communication on any Linux server, it is already installed and enabled on CentOS
    7\. All we need to do is run an SSH client within our terminal emulator program,
    which can connect and communicate with any server running the SSH service on Linux
    and macOS, a terminal emulator program, and an open source, as a stage client
    is already installed by default and ready to use.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 它具有许多便利的功能，例如从操作系统窗口中轻松复制和粘贴剪贴板，以及自定义字体大小和颜色。此外，它使用选项卡进行更好的导航，但是您如何与这样的终端仿真器从您的服务器进行通信呢？这是通过客户端-服务器连接完成的。在您的主机上运行的终端仿真器将被拒绝；我们将连接到CentOS
    7服务器上执行命令。可以使用SSH进行这种连接。这是一种远程访问和使用Linux服务器的系统。它使用强加密进行安全连接。由于SSH是任何Linux服务器上通信的最基本核心服务之一，因此它已经安装并在CentOS
    7上启用。我们所需要做的就是在我们的终端仿真器程序中运行一个SSH客户端，它可以连接和与运行Linux和macOS上的SSH服务的任何服务器进行通信。
- en: On Windows, you need to install the program PuTTY, which contains not only the
    SSH client program, but is also a fully operational terminal emulator. Before
    we can access the CentOS 7 SSH service, we need to make its correct network address
    available to the host system where our terminal emulator is running. A correct
    network connection for communicating between a client and server always consists
    of an IP address, or domain name, bundled together with a specific port number.
    The domain name or IP is like a house number, whereas the port number is like
    the exact apartment number in that house. We always need both values for the correct
    delivery of network packages. By default, the ports of any guest VM are not available
    to the outside host system, so we first need to create the link between the host
    and the guest by using a feature that is called **port forwarding**. SSH, by default,
    is running on port `22`, but this low port number cannot be used for forwarding
    to by non admin users or route users. As we are running VirtualBox as a normal
    user, we need to forward port `22` to a user port higher than `1024`.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上，您需要安装PuTTY程序，其中不仅包含SSH客户端程序，还是一个完全操作的终端仿真器。在我们可以访问CentOS 7 SSH服务之前，我们需要使其正确的网络地址可用于运行终端仿真器的主机系统。用于客户端和服务器之间通信的正确网络连接始终包括IP地址或域名，以及特定端口号。域名或IP就像一个房子号码，而端口号就像房子里确切的公寓号码。我们总是需要这两个值来正确传递网络数据包。默认情况下，任何客户虚拟机的端口对外部主机系统不可用，因此我们首先需要使用称为**端口转发**的功能来创建主机和客户之间的链接。SSH默认运行在端口`22`上，但非管理员用户或路由用户不能使用低端口号进行转发。由于我们以普通用户身份运行VirtualBox，因此我们需要将端口`22`转发到高于`1024`的用户端口。
- en: 'In our example, we use port `2222`. To do this, perform the following steps:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的示例中，我们使用端口`2222`。要做到这一点，请执行以下步骤：
- en: Select your VM of choice and navigate to the Settings option. Click on the Network
    tab.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您选择的虚拟机，然后导航到“设置”选项。点击“网络”选项卡。
- en: Explore the Advanced option. Now, click on the Port Forwarding button to create
    a new port forwarding rule.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 探索高级选项。现在，点击“端口转发”按钮创建新的端口转发规则。
- en: 'In the Port Forwarding Rules window, click on the Adds new port forwarding
    rule button. Now, use the `127.0.0.1` IP for the Host IP section, which is the
    IP of the localhost, then the Host Port, `2222`. For the Guest IP section, type
    `10.0.2.15` and Guest Port `22`, as illustrated in the following screenshot:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“端口转发规则”窗口中，单击“添加新的端口转发规则”按钮。现在，使用`127.0.0.1` IP作为主机IP部分，这是本地主机的IP，然后是主机端口`2222`。对于客户端IP部分，输入`10.0.2.15`，客户端端口`22`，如下截图所示：
- en: '![](img/aca9aac7-0be6-4362-8fc0-7e861efd7dbc.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/aca9aac7-0be6-4362-8fc0-7e861efd7dbc.png)'
- en: Click on OK to create this rule.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击“确定”以创建此规则。
- en: Repeat the same for the other two CentOS 7 VMs we cloned earlier. Make sure
    to use different host ports so that we can create distinct network endpoint connections
    for every host.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对我们之前克隆的另外两个CentOS 7 VM重复相同的操作。确保使用不同的主机端口，以便为每个主机创建不同的网络端点连接。
- en: The first CentOS 7 VM server can now be accessed using the IP `127.0.0.1` with
    port `2222`, the second at port `2223`, and the third at port `2224`. Now, start
    all three of your CentOS 7 VMs.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一个CentOS 7 VM服务器现在可以使用IP`127.0.0.1`和端口`2222`访问，第二个使用端口`2223`，第三个使用端口`2224`。现在，启动所有三个CentOS
    7 VM。
- en: Open your favorite terminal emulator, for example, xterm, GNOME Terminal, or
    (as is in my example) the Xfce4 Terminal.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开您喜欢的终端仿真器，例如xterm、GNOME终端，或者（就像我例子中的那样）Xfce4终端。
- en: 'To log in to your first CentOS 7 server using the terminal emulator, use the
    root credentials. Type the following command in the Terminal window:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使用终端仿真器登录到您的第一个CentOS 7服务器，请使用root凭据。在终端窗口中输入以下命令：
- en: '[PRE4]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Press the *Enter* key. This command will connect your local SSH client to the
    SSH server running at the IP address `127.0.0.1` on port `2222`, which gets redirected
    to your VM's network address `10.0.2.15` at port `22`.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按下*Enter*键。此命令将把您的本地SSH客户端连接到IP地址`127.0.0.1`上运行的SSH服务器，端口为`2222`，该端口被重定向到VM的网络地址`10.0.2.15`上的端口`22`。
- en: When prompted, type `yes` in the Terminal, if you are logging into the server
    for the first time.
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果首次登录服务器，终端会提示输入`yes`。
- en: Now, enter the credentials of the root user you set during installation.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，输入您在安装过程中设置的root用户凭据。
- en: Here, we can now work and type commands as we would on the real Terminal screen.
    We can also log into the other two CentOS 7 VMs using the other two ports.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们可以像在真实的终端屏幕上一样工作和输入命令。我们还可以使用另外两个端口登录另外两个CentOS 7 VM。
- en: To exit the SSH session, type in `exit` and press *Enter*.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要退出SSH会话，请输入`exit`并按*Enter*。
- en: On a Windows system, you can use the free program named PuTTY to do exactly
    the same operations.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows系统上，您可以使用名为PuTTY的免费程序执行完全相同的操作。
- en: Just open the PuTTY graphical user interface, type in the SSH server's IP address,
    `127.0.0.1`, and use port `2222` for connection. Now, use the root account to
    access the VM.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 只需打开PuTTY图形用户界面，输入SSH服务器的IP地址`127.0.0.1`，并使用端口`2222`进行连接。现在，使用root帐户访问VM。
- en: After setting up port forwarding, the easiest way is to use the free SCP program
    available on Mac or Linux. On Windows, you need to download PSCP.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置端口转发后，最简单的方法是使用Mac或Linux上可用的免费SCP程序。在Windows上，您需要下载PSCP。
- en: 'To download a file called `/etc/passwd` from the CentOS 7 VM guest to the host
    using the root user in the current directory, type the following command:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从CentOS 7 VM客户机下载名为`/etc/passwd`的文件到主机上的当前目录，使用root用户，输入以下命令：
- en: '[PRE5]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'When asked, type in your root password. Now we can view the file locally:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当要求时，输入您的root密码。现在我们可以在本地查看文件：
- en: '![](img/3c35fec6-0326-4903-a313-e3297605db72.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3c35fec6-0326-4903-a313-e3297605db72.png)'
- en: The other way around to upload a local file called `my-local-file`, filled with
    some random data to the server, and type `scp -P 2222 my-local-file root@127.0.0.1:~`.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 另一种上传名为`my-local-file`的本地文件到服务器，并输入`scp -P 2222 my-local-file root@127.0.0.1:~`。
- en: Press *Enter*, and type your root's password. The file has now been uploaded
    to the server into the `/home` folder, which is specified by the `~`.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按下*Enter*，输入您的root密码。文件现在已上传到服务器的`/home`文件夹中，该文件夹由`~`指定。
- en: Summary
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we've covered the introductory concepts of Linux and VirtualBox.
    We started off by gaining an understanding of the working principle of an operating
    system and progressed towards virtualization. Next, we covered the installation
    of VirtualBox and CentOS. Then, we learned how to work with VirtualBox and connected
    it using SSH.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们介绍了Linux和VirtualBox的基本概念。我们首先了解了操作系统的工作原理，然后向虚拟化方向发展。接下来，我们介绍了VirtualBox和CentOS的安装。然后，我们学习了如何使用VirtualBox并使用SSH连接它。
- en: In the next chapter, we'll understand the workings of the command line.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将了解命令行的工作原理。
