- en: Chapter 13. CGL and LSB
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第13章。CGL和LSB
- en: In this chapter, you will be presented with information about the last topic
    of the book, the **Carrier Grade Linux** (**CGL**) and **Linux Standard Base**
    (**LSB**) initiative and of course, a parallel with what there is integrated and
    supported related to those two standards into the Yocto Project. This will also
    be mentioned here and you will not only be able to find a little bit about these
    standards and their specifications, but also about the level of support that Yocto
    offers for them. I will also present some of the initiatives adjacent to CGL,
    such as **Automotive Grade Linux** and **Carrier Grade Virtualization**. They
    also constitute viable solutions that are available in a wide palette of applications.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将了解本书最后一个主题的信息，即**Carrier Grade Linux**（**CGL**）和**Linux Standard Base**（**LSB**）倡议，当然还有与Yocto项目集成和支持相关的内容。这里也会提到这些标准及其规范的一些信息，以及Yocto为它们提供的支持水平。我还将介绍一些与CGL相关的倡议，如**Automotive
    Grade Linux**和**Carrier Grade Virtualization**。它们也构成了一系列可行的解决方案，适用于各种应用。
- en: In any Linux environment today, there is necessity for a common language for
    available Linux distributions. This common language would have not been achieved
    without defining actual specifications. A part of these specifications is also
    represented by the carrier grade alternative. It coexists with other specifications
    that are already presented in this book or in other similar books. Taking a look
    at the available specifications and standardizations only shows us how much the
    Linux ecosystem has evolved over time.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的任何Linux环境中，都需要一个可用的Linux发行版的通用语言。如果没有定义实际的规范，这种通用语言是无法实现的。这些规范的一部分也由载波级别的替代方案代表。它与本书或其他类似书籍中已经介绍的其他规范共存。查看可用的规范和标准化只会向我们展示Linux生态系统随着时间的推移已经发展了多少。
- en: The latest report published by the guys working at the Linux Foundation shows
    how the development of the Linux kernel is actually done nowadays, what it's like
    to work on it, who is sponsoring it, what changes are being made to it, and how
    fast things are moving. The report is available at [https://www.linuxfoundation.org/publications/linux-foundation/who-writes-linux-2015](https://www.linuxfoundation.org/publications/linux-foundation/who-writes-linux-2015).
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Linux基金会发布的最新报告显示了Linux内核的开发实际情况，工作情况，赞助情况，对其进行的更改以及发展速度。该报告可在[https://www.linuxfoundation.org/publications/linux-foundation/who-writes-linux-2015](https://www.linuxfoundation.org/publications/linux-foundation/who-writes-linux-2015)上找到。
- en: As depicted in the report, less than 20 percent of development on the kernel
    is done by individual developers. Most of the development is realized by companies,
    such as Intel, Red Hat, Linaro, Samsung, and others. This means that over 80 percent
    of the developers working at Linux kernel development are paid for their job.
    The fact that Linaro and Samsung are some of the companies with the most number
    of commits, only presents a favorable perception of the ARM processors in general,
    and Android in particular.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 报告中描述，不到20％的内核开发是由个人开发者完成的。大部分开发是由公司完成的，比如英特尔、红帽、Linaro、三星等。这意味着超过80％的Linux内核开发人员是为他们的工作而获得报酬的。Linaro和三星是提交次数最多的公司之一，这只是一种对ARM处理器和特别是Android的有利看法。
- en: Another interesting piece of information is that more than half of the Linux
    kernel developers are at their first commit. This means that a really small number
    of developers are doing the vast majority of work. This dysfunction in the development
    of the Linux kernel process is being tried to be reduced by the Linux Foundation
    by offering various programs for students to make them more involved in the development
    process. Whether this is a success, only time will tell, but it is my opinion
    that they are doing the right thing and are moving in the right direction.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个有趣的信息是，超过一半的Linux内核开发人员是第一次提交。这意味着只有很少一部分开发者在做大部分的工作。Linux基金会正在尝试通过为学生提供各种项目来减少Linux内核开发过程中的这种功能障碍。这是否成功，只有时间才能告诉我们，但我认为他们正在做正确的事情，朝着正确的方向发展。
- en: All of this information has been explained with regard to the Linux kernel,
    but parts of it are applicable for other open source components. The thing that
    I want to emphasize here is that the ARM support in Linux is much more mature
    than in architectures such as PowerPC or MIPS. This has started to not only be
    obvious, but is also an indication of the approach that the Intel x86 stage has
    taken. Until now, this approach was simply not disturbed by anyone.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些信息都是针对Linux内核解释的，但其中的一部分也适用于其他开源组件。我想在这里强调的是，Linux中的ARM支持比PowerPC或MIPS等架构要成熟得多。这不仅已经变得显而易见，而且也表明了英特尔x86阶段所采取的方法。到目前为止，这种方法还没有受到任何干扰。
- en: Linux Standard Base
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Linux标准基础
- en: LSB appeared to lower the costs of support offered by Linux platforms by reducing
    the differences between various available Linux distributions. It also helps with
    costs for porting applications. Every time a developer writes an application,
    they need to make sure that the source code produced on one Linux distribution
    will also be able to be executed on other distributions as well. They would also
    like to make sure that this remains possible over the years.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: LSB似乎降低了Linux平台提供的支持成本，通过减少各种可用Linux发行版之间的差异。它还有助于应用程序的移植成本。每当开发人员编写应用程序时，他们需要确保在一个Linux发行版上产生的源代码也能在其他发行版上执行。他们还希望确保这在多年内仍然可能。
- en: The LSB workgroup is a Linux Foundation project that tries to address these
    exact problems. For this purpose, LSB workgroup started working on a standard
    that could describe a set of APIs that a Linux distribution should support. With
    the standards defined, the workgroup also moved a few steps further and developed
    a set of tools and tests to measure the support levels. With this done, they were
    able to define certain sets of compliance and also detect the certain differences
    between various distributions.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: LSB工作组是Linux基金会的一个项目，旨在解决这些确切的问题。为此，LSB工作组开始制定一个描述Linux发行版应支持的一组API的标准。随着标准的定义，工作组还进一步开发了一套工具和测试来衡量支持水平。通过这样做，他们能够定义一定的符合性集，并检测各种发行版之间的差异。
- en: The LSB was the first effort to be made in this direction by the Linux Foundation
    and became an umbrella for all the workgroups that have tried to provide standardization
    to various areas of the Linux platform. All these workgroups have the same roadmap
    and they deliver their corresponding set of specifications, software components,
    such as conformance tests, developments tools, and other available samples and
    implementations.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: LSB是Linux基金会在这个方向上的首次努力，成为了所有试图为Linux平台的各个领域提供标准化的工作组的总称。所有这些工作组都有相同的路线图，并提供相应的规范、软件组件（如符合性测试、开发工具）以及其他可用的样本和实现。
- en: Every software component developed by one of the workgroups that is available
    inside the Linux Standard Base is defined as a `lsb` module. All of these modules
    have a common format to facilitate easier integration between them. There are
    modules that are required and optional. The required ones are the ones that meet
    the acceptance criteria for LSB. The optional ones are still a work in progress
    and are, at the moment of specifications defining, not written in the acceptance
    criteria, but will be included in future versions of the LSB standard.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 由工作组开发的每个软件组件，如果在Linux标准基础中可用，都被定义为`lsb`模块。所有这些模块都有一个共同的格式，以便更容易地进行集成。有必需的和可选的模块。必需的模块是符合LSB接受标准的模块。可选的模块仍在进行中，在规范定义的时候，还没有写入接受标准，但将包括在未来版本的LSB标准中。
- en: There are, of course, workgroups that do not produce `lsb` modules. They have
    not worked on the standard either but instead, they have integrated various patches
    in projects, such as the Linux kernel or other packages and even documentation.
    These are not the workgroups that this section is referring to. This section only
    takes LSB-related workgroups into account.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，也有一些工作组并不生产`lsb`模块。他们也没有制定标准，而是在项目中集成了各种补丁，比如Linux内核或其他软件包，甚至是文档。这一节只考虑与LSB相关的工作组。
- en: From time to time, whenever a new specification document is released, a testing
    kit is also made available to vendors to test the kit's compliance to a particular
    version. The vendors could test their product compliance, which can be in the
    form of an application or a Linux distribution. The result of the testing kit
    is a certification that indicates that their product is LSB certified. For an
    application we, of course, have an **LSB Application Testkit**. There is also
    a similar one for a Linux distribution as well as others that are available for
    a variety of distributions.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 不时地，每当发布新的规范文档时，测试工具包也会提供给供应商，以测试该工具包对特定版本的合规性。供应商可以测试他们的产品的合规性，可以是一个应用程序或一个Linux发行版。测试工具包的结果是一个证书，表明他们的产品是LSB认证的。对于应用程序，我们当然有一个**LSB应用程序测试工具包**。也有一个类似的工具包适用于Linux发行版，以及适用于各种发行版的其他工具包。
- en: For vendors who are interested in optional modules, these are not only available
    to help vendors prepare their future LSB compliance certification, but also to
    expose them to optional modules in order to get more vocal reviews and contributions
    from them. Also, the vendor's vote is related to the existence of these modules
    in future LSB specification documentations whose release is also important. The
    vendors could establish whether one optional module is eligible for future inclusions
    or not.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 对于对可选模块感兴趣的供应商，这些模块不仅可用于帮助供应商准备未来的LSB合规认证，还可以让他们接触到可选模块，以便从他们那里获得更多的评价和贡献。此外，供应商的投票与这些模块在未来LSB规范文档中的存在有关，这一发布也很重要。供应商可以确定一个可选模块是否符合未来的纳入条件。
- en: The LSB workgroup is governed by the Steering Committee and is led by a Chairperson
    who is elected. These two entities represent the interests of the workgroup. The
    workgroup operates on a rough consensus model. This indicates the solution of
    the group regarding a particular problem, that is, a solution that is determined
    by the elected Chairperson. If the contributor does not consider their decision
    and does not meet the criteria required to reach a rough consensus, then the Steering
    committee is appealed.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: LSB工作组由指导委员会管理，并由选举产生的主席领导。这两个实体代表了工作组的利益。工作组采用粗略共识模式运作。这表明了工作组对特定问题的解决方案，即由选举产生的主席确定的解决方案。如果贡献者不认同他们的决定，并且不符合达成粗略共识所需的标准，那么就会向指导委员会提出申诉。
- en: All business that is specific to the LSB workgroup is carried out inside an
    open forum. It can include a mailing list, conference, wiki page, or even a face-to-face
    meeting; the activities are not closed for members of workgroups. Also, membership
    is not restricted and decisions are clearly documented because there is always
    a possibility of having a further discussion on a particular subject at a later
    time.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: LSB工作组的所有业务都在一个开放的论坛内进行。它可以包括邮件列表、会议、维基页面，甚至是面对面的会议；这些活动对工作组成员都是开放的。此外，成员资格并不受限制，决定也都有明确的记录，因为随时可能会就某个特定主题进行进一步讨论。
- en: 'There are clearly defined roles in workgroups:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 工作组中有明确定义的角色：
- en: '**Contributor**: This refers to actively involved individuals. They always
    have list with them available for the Chairperson, but any individual may request
    inclusion to the Contributors list.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**贡献者**：这指的是积极参与的个人。他们始终有名单可供主席查阅，但任何个人都可以要求被列入贡献者名单。'
- en: '**Chairperson**: This refers to the representative Project leader. A person
    is elected to this position by Contributors and approved by the Steering Committee
    and the Linux Foundation board. Once elected, they are able to hold this position
    for two years. There is no limit to the number of times someone can be elected.
    Removal from this position can occur in case of a lack of confidence on behalf
    of the Steering Committee or the Linux Foundation board. After the position is
    vacant, a new election is carried out. During the vacancy period, the Steering
    Committee will assign an acting Chairperson.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主席**：这指的是代表项目领导者。一个人被贡献者选举到这个职位，并得到指导委员会和Linux基金会董事会的批准。一旦当选，他们可以连任两年。没有限制一个人可以当选的次数。如果指导委员会或Linux基金会董事会对其缺乏信任，就会被免职。职位空缺后，将进行新的选举。在空缺期间，指导委员会将指定一名代理主席。'
- en: '**Election Committee**: This refers to a committee of Contributors that are
    established by the Steering Committee for Chairperson election. It is responsible
    for selecting candidates for the position of Chairperson within at least 30 days
    before the Chairperson''s term expires or 10 days after the Chairperson''s position
    is vacant. It is responsible for conducting elections, which is done through electronic
    ballots. There is only one vote accepted from an individual; the votes are secret
    and only done by eligible members. The voting period is one week, and then the
    results are presented to the Steering Committee, which approves the votes and
    declares the winner.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**选举委员会**：这指的是由指导委员会为主席选举成立的贡献者委员会。它负责在主席任期到期前至少30天或主席职位空缺后10天内选择主席候选人。它负责进行选举，通过电子投票进行。每个人只能投一票；投票是秘密的，只有符合条件的成员才能进行投票。投票期为一周，然后结果提交给指导委员会，由其批准并宣布获胜者。'
- en: '**Steering Committee**: It consists of representative workgroup stakeholders.
    They may be distribution vendors, OEMs, ISVs, upstream developers, and the Chairpersons
    of the LSB sub workgroups that come under the LSB charter. The committee is appointed
    by the Chairperson and depending on their involvement in workgroup activities,
    they can keep the position indefinitely. One member can be removed from the Steering
    Committee by three entities: the Chairperson, the other Steering Committee members,
    or by the Linux Foundation board.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**指导委员会**：它由代表工作组利益相关者组成。他们可能是发行商、OEM厂商、ISV、上游开发人员，以及LSB宪章下的LSB子工作组的主席。该委员会由主席任命，并根据他们在工作组活动中的参与程度，可以无限期地保持职位。一个成员可以被指导委员会的三个实体之一罢免：主席、其他指导委员会成员，或Linux基金会董事会。'
- en: 'Here is an image depicting a more detailed structure of the LSB workgroup:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一张展示LSB工作组更详细结构的图片：
- en: '![Linux Standard Base](img/image00383.jpeg)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![Linux标准基础](img/image00383.jpeg)'
- en: The LSB is a fairly complex structure, as depicted in the preceding image, so
    more roles can be defined in a workgroup if necessary. The main focus of the workgroup
    remains its mission; for this to be achievable, new workgroups need to be promoted
    and nurtured. They require a certain level of independence, but also be accountable
    for the activities done in the LSB Chairperson. This mainly involves making sure
    that certain deadlines are met and that the project sticks to its roadmap.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: LSB是一个相当复杂的结构，正如前面的图片所示，因此如果需要，工作组可以定义更多的角色。工作组的主要焦点仍然是其使命；为了实现这一目标，需要推广和培育新的工作组。它们需要一定程度的独立性，但也需要对LSB主席所做的活动负责。这主要涉及确保满足某些截止日期，并确保项目按照其路线图进行。
- en: 'The first step in the interaction process with the LSB deliverables should
    be establishing the exact LSB requirements that need to be met by a target system.
    The specifications are available as two components: architecture-dependent and
    architecture-independent, or as it is also called, a generic component. The architecture-dependent
    components contain three modules:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 与LSB可交付成果互动的第一步应该是确定目标系统需要满足的确切LSB要求。规范分为两个组成部分：与体系结构相关和与体系结构无关，或者也称为通用组件。与体系结构相关的组件包含三个模块：
- en: Core
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 核心
- en: C++
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C++
- en: Desktop
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 桌面
- en: 'Architecture independent components contain five modules:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 与体系结构无关的组件包含五个模块：
- en: Core
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 核心
- en: C++
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: C++
- en: Desktop
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 桌面
- en: Printing
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 打印
- en: Languages
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 语言
- en: There is, of course, another structure used to order them. Here, I am referring
    to the fact that some of these are mandatory and others are in a state of trial
    and testing. The first category is in order to have a distribution that is compliant
    with LSB standards, while the second category is not a strict requirement for
    having a compliant distribution that could represent future candidates for the
    next few versions of LSB.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，还有另一种结构用于对它们进行排序。在这里，我指的是其中一些是强制性的，而另一些处于试验和测试阶段。第一类是为了拥有符合LSB标准的发行版，而第二类并不是拥有符合标准的发行版的严格要求，但可能代表未来几个版本LSB的候选人。
- en: The following image represents the key deliverable components of LSB. I hope
    it guides you through the components of this project as well as gathers the information
    that you need for future interaction with the various components of the LSB workgroup.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图片代表LSB的关键可交付组件。我希望它能指导您了解该项目的组件，并收集您未来与LSB工作组各个组件互动所需的信息。
- en: '![Linux Standard Base](img/image00384.jpeg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![Linux标准基础](img/image00384.jpeg)'
- en: Depending on the interest of users, they can chose to either interact with the
    distribution development or the development of the components of an application.
    As clearly depicted in the preceding image, each of the two roads has its tools
    for the job. Before starting a job, make sure that you take a look at the website
    of the LSB Navigator and gather the required information. For users who are interested
    in a demonstration of LSB navigator, there is one available in the following link
    that also involves the interaction of Yocto. Make sure that you check it out and
    interact with it to get an idea of how it works.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 根据用户的兴趣，他们可以选择与发行版开发或应用程序组件开发进行交互。正如前面的图像清楚地显示的那样，这两条道路都有适合工作的工具。在开始工作之前，请确保查看LSB
    Navigator的网站并收集所需的信息。对于对LSB导航器感兴趣的用户，可以在以下链接中找到一个演示，其中还涉及与Yocto的交互。确保您查看并与之交互，以了解其工作原理。
- en: Note
  id: totrans-39
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The LSB Navigator can be accessed at [http://www.linuxbase.org/navigator/commons/welcome.php](http://www.linuxbase.org/navigator/commons/welcome.php).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 可以在[http://www.linuxbase.org/navigator/commons/welcome.php](http://www.linuxbase.org/navigator/commons/welcome.php)访问LSB
    Navigator。
- en: Let's assume that the interaction is already done and you are now interested
    in collaborating with this project. Of course, there are multiple methods to do
    this. Whether you are a developer or a software vendor, your feedback is always
    helpful for any project. Also, for developers who would like to contribute with
    code, there are multiple components and tools that could benefit from your help.
    That is not all. There are a lot of testing frameworks and testing infrastructures
    that always require improvements, so someone can contribute not only with code
    but also bug fixing and development or the testing of tools. Also, remember that
    your feedback is always appreciated.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 假设交互已经完成，现在您有兴趣参与这个项目。当然，有多种方法可以做到这一点。无论您是开发人员还是软件供应商，您的反馈对任何项目都是有帮助的。此外，对于希望通过代码做出贡献的开发人员，有多个组件和工具可以从您的帮助中受益。这还不是全部。有许多测试框架和测试基础设施始终需要改进，因此某人不仅可以通过代码做出贡献，还可以进行错误修复和工具的开发或测试。还要记住，您的反馈总是受到赞赏的。
- en: Before moving to the next section, I want to introduce one more thing. As depicted
    in the previous diagram, any activity that is executed by a developer, with regard
    to the components of the LSB workgroup, should be done after the LSB specifications
    are inspected and the appropriate version is selected. For example, in the CGL
    Specifications, there is an explicit requirement of at least LSB 3.0, as well
    as the required modules, that are indicated in the same requirement description.
    For developers who want more information about the required specification and
    its components, refer to [http://refspecs.linuxfoundation.org/lsb.shtml](http://refspecs.linuxfoundation.org/lsb.shtml).
    Make sure that you also inspect the progress made on the newly available LSB 5
    specifications, which passed the beta stage and, at the moment, is in its RC1
    state. More information about this is available at [https://www.linuxfoundation.org/collaborate/workgroups/lsb/lsb-50-rc1](https://www.linuxfoundation.org/collaborate/workgroups/lsb/lsb-50-rc1).
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在进入下一节之前，我想再介绍一件事。如前图所示，任何由开发人员执行的与LSB工作组组件相关的活动，都应在检查LSB规范并选择适当版本之后进行。例如，在CGL规范中，至少需要LSB
    3.0，并且在相同的要求描述中指出了所需的模块。对于希望了解所需规范及其组件的开发人员，请参阅[http://refspecs.linuxfoundation.org/lsb.shtml](http://refspecs.linuxfoundation.org/lsb.shtml)。确保您还检查了新推出的LSB
    5规范的进展，该规范已经通过了测试阶段，目前处于RC1状态。有关此的更多信息，请访问[https://www.linuxfoundation.org/collaborate/workgroups/lsb/lsb-50-rc1](https://www.linuxfoundation.org/collaborate/workgroups/lsb/lsb-50-rc1)。
- en: Note
  id: totrans-43
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about the LSB is available at [http://www.linuxfoundation.org/collaborate/workgroups/lsb](http://www.linuxfoundation.org/collaborate/workgroups/lsb).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 有关LSB的更多信息，请访问[http://www.linuxfoundation.org/collaborate/workgroups/lsb](http://www.linuxfoundation.org/collaborate/workgroups/lsb)。
- en: Carrier grade options
  id: totrans-45
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运营商级别选项
- en: Multiple options will be discussed in this section, and we'll start by defining
    the term *carrier grade*. This seems like the perfect start. So, what does this
    term mean in a telecommunications environment? It refers to a system, software,
    and even hardware components that are really reliable. Here, I am not referring
    only to the five-nines or six-nines that CGL provides because not all industries
    and scenarios require this kind of reliability. We are only going to refer to
    something that can be defined as reliable in the scope of a project. For a system,
    software, or hardware component to be defined as carrier grade, it should also
    prove itself as well tested along with all sorts of functionalities, such as high
    availability, fault tolerance, and so on.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 本节将讨论多种选项，并且我们将从定义术语*运营商级别*开始。这似乎是一个完美的开始。那么，在电信环境中，这个术语是什么意思呢？它指的是一个真正可靠的系统、软件，甚至硬件组件。在这里，我不仅指的是CGL提供的五个九或六个九，因为并非所有行业和场景都需要这种可靠性。我们只会提到在项目范围内可以定义为可靠的东西。要将系统、软件或硬件组件定义为运营商级别，它还应该经过全面测试，并具有各种功能，如高可用性、容错性等。
- en: These five-nines and six-nines refer to the fact that a product is available
    99.999 or 99.9999 percent of the time. This translates per year in a downtime
    of around 5 minutes for five-nines and 30 seconds for six-nines requirements.
    Having explained this, I will move on and present the available options of carrier
    grade.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这些五个九和六个九指的是产品可用时间占99.999或99.9999％。这意味着每年的停机时间约为五个九的5分钟和六个九的30秒。解释完这一点后，我将继续介绍运营商级别的可用选项。
- en: Carrier Grade Linux
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运营商级别Linux
- en: It is the first and oldest option available. It appeared as a necessity for
    the telecommunication industry in order to define a set of specifications, which
    in turn defined a set of standards for Linux-based operating systems. After implementations,
    this would make the system carrier grade capable.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这是第一个也是最古老的选项。它出现是因为电信行业需要定义一组规范，从而为基于Linux的操作系统定义一组标准。实施后，这将使系统具备运营商级别的能力。
- en: The motivation behind the CGL is to present an open architecture as a possible
    solution or an alternative to the already available proprietary and closed source
    available solutions that were already available in telecommunication systems.
    The open architecture alternative is the best not only because it avoids a monolithically
    form, is not hard to maintain, scale, and develop, but also it offers the advantage
    of speed. It is faster and cheaper to have a system that is decoupled and makes
    its components accessible to a larger number of software or hardware engineers.
    All of these components would be able to serve the same purpose in the end.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: CGL背后的动机是提出一个开放架构作为电信系统中已有的专有和闭源解决方案的可能解决方案或替代方案。开放架构的替代方案不仅因为它避免了单一形式，不难维护、扩展和开发，而且它还提供了速度的优势。拥有一个解耦并使其组件对更多软件或硬件工程师可访问的系统更快、更便宜。所有这些组件最终都能够达到相同的目的。
- en: The workgroup was initially started by the **Open Source Development Lab** (**OSDL**),
    which after its merger with Free Standards Group formed The Linux Foundation.
    Now all the work moved there together with the workgroup. The latest available
    release for CGL is 5.0 and it includes registered Linux distributions, such as
    Wind River, MontaVista, and Red Flag.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 该工作组最初由**开放源开发实验室**（**OSDL**）发起，后来与自由标准组合并形成了Linux基金会。现在所有工作都转移到那里，包括工作组。CGL的最新可用版本是5.0，其中包括Wind
    River、MontaVista和Red Flag等注册的Linux发行版。
- en: 'The OSDL CGL workgroup has three categories of applications that CGL could
    fit into:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: OSDL CGL工作组有三类CGL可能适用的应用程序：
- en: '**Signalling server applications**: This includes products that provide control
    services for calls and services, such as routing, session control, and status.
    These products usually handle a large number of connections, around 10000 or 100000
    simultaneous ones, and also because that they have real-time requirements that
    require obtaining results from processes under a millisecond.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**信令服务器应用程序**：包括为呼叫和服务提供控制服务的产品，如路由、会话控制和状态。这些产品通常处理大量连接，大约有1万到10万个同时连接，而且由于它们有需要在毫秒内从进程中获取结果的实时要求。'
- en: '**Gateway applications**: These provide the bridging of technology and administrative
    domains. Besides the characteristics that have been mentioned already, these handle
    a large number of connections in a real-time environment over a not very large
    number of interfaces. These are also required to not lose frames or packages in
    the communication process.'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网关应用程序**：提供技术和管理域的桥接。除了已经提到的特征，这些应用程序在实时环境中处理大量连接，但接口数量并不是很多。它们还要求在通信过程中不丢失帧或数据包。'
- en: '**Management applications**: These usually provide billing operations, network
    management, and other traditional services. They does not have the same strong
    requirements for real-time operations, but instead, concentrate on fast database
    operations and other communication-oriented requests.'
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理应用程序**：通常提供计费操作、网络管理和其他传统服务。它们对实时操作没有同样强烈的要求，而是集中于快速数据库操作和其他面向通信的请求。'
- en: To make sure that it is able to satisfy the preceding categories, the CGL workgroup
    focuses on two main activities. The first one involves communicating with all
    the preceding categories, the identification of their requirements, and the writing
    specifications that should be implemented by distribution vendors. The second
    one involves gathering and helping projects that meet the requirements defined
    in the specifications. As a conclusion to what I mentioned previously, CGL tries
    to represent not only the telecommunication industry representatives and Linux
    distributions, but also end users and service providers; it also provides carrier
    grade options for each one of these categories.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保它能满足前述类别，CGL工作组专注于两项主要活动。第一项涉及与前述类别的沟通，确定它们的需求，并编写应该由分发供应商实施的规范。第二项涉及收集和帮助满足规范中定义的要求的项目。总之，CGL试图代表的不仅是电信行业代表和Linux发行版，还有最终用户和服务提供商；它还为每个类别提供了运营商级别的选项。
- en: Each distribution vendor who wants to get the CGL certification offers its implementation
    as a template. It is filled with versions of packages, names, and other extra
    information. However, it does this without disclosing too much information about
    the implementation process; these packages have the possibility of being proprietary
    software. Also, the disclosed information is owned and maintained by the vendor.
    The CGL workgroup only displays the link offered by the vendor.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 每个希望获得CGL认证的发行供应商都会提供其实施作为模板。它填充了软件包的版本、名称和其他额外信息。然而，它在不披露太多有关实施过程的信息的情况下进行，这些软件包可能是专有软件。此外，披露的信息由供应商拥有和维护。CGL工作组只显示供应商提供的链接。
- en: The specification document is now at version 5.0 and contains both requirements
    that are, in fact, mandatory for applications or optional and are related to the
    implementations made in the Linux distribution for a carrier grade certification.
    The mandatory ones are described by the P1 priority level and the optional ones
    are marked as P2\. The other elements are related to the gap aspect that represents
    a functionality, which is not implemented since an open source implementation
    is not available for it. The requirements are presented in the specification document
    to motivate distribution developers contribute to them.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 规范文档现在已经到了5.0版本，包含了对于载波级认证的Linux发行版中实际上是强制性的或可选的应用程序的要求。强制性的要求由P1优先级描述，可选的要求标记为P2。其他元素与缺口方面有关，表示一个功能，由于没有针对它的开源实现，因此未实现。规范文档中提出了这些要求，以激励发行版开发人员为其做出贡献。
- en: 'As depicted in the following image and as emphasized in the information contained
    in the specification document, the CGL system should provide a large number of
    functionalities:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如下图所示，并且在规范文档中强调的信息中所述，CGL系统应提供大量功能：
- en: '![Carrier Grade Linux](img/image00385.jpeg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![Carrier Grade Linux](img/image00385.jpeg)'
- en: 'Since the requirement for number of functionalities is big, the workgroup decided
    to group them into various categories as follows:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 由于功能数量的要求很大，工作组决定将它们分成以下各类：
- en: '**Availability**: It is relevant for single node availability and recovery.'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可用性**：对于单节点的可用性和恢复是相关的。'
- en: '**Clustering**: It describes components that are useful in building a cluster
    from individual systems. The key target behind this is the high availability of
    the system and load balancing that could also bring some performance improvements.'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集群**：它描述了在从个体系统构建集群中有用的组件。其背后的关键目标是系统的高可用性和负载平衡，这也可能带来一些性能改进。'
- en: '**Serviceability**: It covers the maintenance and servicing features of the
    system.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可维护性**：它涵盖了系统的维护和维修功能。'
- en: '**Performance**: It describes features, such as real-time requirements and
    others, that could help the system attain better performance.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**性能**：它描述了一些功能，如实时要求等，可以帮助系统实现更好的性能。'
- en: '**Standards**: These are provided as references to various APIs, standards,
    and specifications.'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准**：这些作为各种API、标准和规范的参考。'
- en: '**Hardware**: It presents various hardware-specific support that is necessary
    for a carrier grade operating system. Much of it comes from hardware vendors who
    are themselves involved in this process and the requirements from this section
    has been highly diminished in the latest CGL specification release.'
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**硬件**：它提供了必要的载波级操作系统的各种硬件特定支持。其中大部分来自参与此过程的硬件供应商，而这一部分的要求在最新的CGL规范发布中已大大减少。'
- en: '**Security**: It represents the relevant features needed to build a secure
    system.'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全**：它代表了构建安全系统所需的相关功能。'
- en: Note
  id: totrans-69
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on CGL requirements, refer to [https://www.linuxfoundation.org/sites/main/files/CGL_5.0_Specification.pdf](https://www.linuxfoundation.org/sites/main/files/CGL_5.0_Specification.pdf).
    You can also refer to the CGL workgroup at [https://www.linuxfoundation.org/collaborate/workgroups/cgl](https://www.linuxfoundation.org/collaborate/workgroups/cgl).
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 有关CGL要求的更多信息，请参考[https://www.linuxfoundation.org/sites/main/files/CGL_5.0_Specification.pdf](https://www.linuxfoundation.org/sites/main/files/CGL_5.0_Specification.pdf)。您还可以参考CGL工作组[https://www.linuxfoundation.org/collaborate/workgroups/cgl](https://www.linuxfoundation.org/collaborate/workgroups/cgl)。
- en: Automotive Grade Linux
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 汽车级Linux
- en: Automotive Grade Linux is also a Linux Foundation workgroup. It is newly formed
    and tries to offer an open source solution that has automotive applications. Its
    primary focus is the In-Vehicle-Infotainment sector, but it includes telematics
    systems and instrument clusters. It efforts are based on open source components
    that are already available. These are suitable for its purposes and try to also
    enable rapid development, which is much needed in this industry.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 汽车级Linux也是Linux基金会的一个工作组。它是新成立的，试图提供一个具有汽车应用的开源解决方案。它的主要重点是车载信息娱乐领域，但它还包括远程信息系统和仪表盘。它的努力基于已经可用的开源组件。这些组件适用于它的目的，并且还试图实现快速开发，这在这个行业中是非常需要的。
- en: 'The goals of the workgroup are:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 工作组的目标是：
- en: A transparent, collaborative, and open environment for involved elements.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个透明、协作和开放的环境，涉及到的元素。
- en: A Linux operating system stack that is focused on automotives and uses the open
    source community represented by exponents, such as developers, academic components,
    and companies as back support.
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个专注于汽车的Linux操作系统堆栈，利用开源社区的支持，如开发人员、学术组件和公司。
- en: A collective voice for interaction in the open source community released this
    time in the reverse form, from the AGL to the community.
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开源社区的集体声音这次以相反的形式发布，从AGL到社区。
- en: An embedded Linux distribution used for fast prototyping.
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于快速原型设计的嵌入式Linux发行版。
- en: By using projects, such as Tizen, as the reference distribution and having projects,
    such as Jaguar, Nissan, Land Rover, or Toyoto, this project is interesting enough
    to be followed closely. It has just been developed but has potential for improvements.
    For those of you interested in it, refer to [https://www.linuxfoundation.org/collaborate/workgroups/automotive-grade-linux](https://www.linuxfoundation.org/collaborate/workgroups/automotive-grade-linux).
    The project's wiki page is an interesting resource and can be consulted at [https://wiki.automotivelinux.org/](https://wiki.automotivelinux.org/).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用项目，如Tizen，作为参考发行版，并拥有像Jaguar、Nissan、路虎或丰田这样的项目，这个项目足够有趣，值得密切关注。它刚刚被开发出来，但有改进的潜力。对于那些对此感兴趣的人，请参考[https://www.linuxfoundation.org/collaborate/workgroups/automotive-grade-linux](https://www.linuxfoundation.org/collaborate/workgroups/automotive-grade-linux)。该项目的维基页面是一个有趣的资源，可以在[https://wiki.automotivelinux.org/](https://wiki.automotivelinux.org/)上查阅。
- en: Carrier Grade Virtualization
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运营商级虚拟化
- en: The recent development of CGL made virtualization an interesting option for
    the carrier grade field because it involved a reduction in costs as well as transparency
    in leveraging multicore equipment that runs single-core designed applications.
    Virtualization options also needed to meet the same expectations as the other
    carrier grade systems.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: CGL的最新发展使得虚拟化成为运营商级领域的一个有趣选择，因为它涉及到降低成本以及透明地利用运行单核设计应用程序的多核设备。虚拟化选项也需要满足其他运营商级系统的期望。
- en: Carrier Grade Virtualization has tried to become a vital component to be integrated
    in carrier grade platforms that are already available. This is done to preserve
    the attributes and performance of the system. It also tries to extend the appliance
    target and permits **Original Equipment Manufacturer** (**OEM**) to derive the
    benefits from the same support as the CGL. These benefits are in the form of well
    established targets.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 运营商级虚拟化一直试图成为集成在已有的运营商级平台中的一个重要组成部分。这是为了保留系统的属性和性能。它还试图扩展设备目标，并允许**原始设备制造商**（OEM）从与CGL相同的支持中获益。这些好处以成熟的目标形式存在。
- en: Virtualization's application is more widespread, which can be seen ranging from
    the x86 architecture to ARM and DSP-based processors as well as a variety of domains.
    The examination of virtualization from a carrier grade point of view is the focus
    of this solution because, in this way, you can get a clearer perspective of the
    areas that require improvements. In this way, these can be identified and enhancements
    can also be applied as required. Unfortunately, this initiative has not been as
    exposed as some other ones, but is still a very good source of documentation and
    is available from virtualLogix at [http://www.linuxpundit.com/documents/CGV_WP_Final_FN.pdf](http://www.linuxpundit.com/documents/CGV_WP_Final_FN.pdf).
    I hope you enjoy its content.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 虚拟化的应用更加广泛，可以看到从x86架构到基于ARM和DSP的处理器以及各种领域。从运营商级的角度来看虚拟化的研究是这个解决方案的重点，因为这样可以更清晰地看到需要改进的领域。通过这种方式，可以识别这些领域，并根据需要进行改进。不幸的是，这个倡议并没有像其他一些倡议那样被广泛宣传，但它仍然是一个非常好的文档来源，并且可以从virtualLogix的[http://www.linuxpundit.com/documents/CGV_WP_Final_FN.pdf](http://www.linuxpundit.com/documents/CGV_WP_Final_FN.pdf)获取。希望你喜欢它的内容。
- en: Specific support for the Yocto Project
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Yocto项目的特定支持
- en: In the Poky reference system, support is provided for the development of LSB
    and LSB compatible applications. Inside Poky, there is a special `poky-lsb.conf`
    distribution policy configuration that is defined in case a distribution is interested
    in developing applications that are LSB-compliant. This holds true when generating
    a Linux distribution that is LSB-compliant or at least prepares to take the LSB
    certification. The build steps required for a Linux distribution that prepares
    for an LSB certification will be presented here. In case you are interested in
    developing LSB-compliant applications, the process is simpler and will also be
    briefly presented here; however, it is in contrast to the former.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在Poky参考系统中，支持LSB和兼容LSB应用程序的开发。在Poky中，有一个特殊的`poky-lsb.conf`分发策略配置，如果一个发行版有兴趣开发符合LSB标准的应用程序，就需要定义这个配置。这在生成一个符合LSB标准的Linux发行版或者至少准备获得LSB认证时是成立的。这里将介绍准备LSB认证所需的Linux发行版构建步骤。如果你有兴趣开发符合LSB标准的应用程序，这个过程会更简单，也会在这里简要介绍；然而，这与前者相反。
- en: 'The first step is simple: it only requires cloning the poky repository and
    the `meta-qt3` dependency layer because of the requirements of the LSB modules:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 第一步很简单：只需要克隆poky存储库和`meta-qt3`依赖层，因为LSB模块的要求。
- en: '[PRE0]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Next, the build directory needs to be created:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，需要创建构建目录：
- en: '[PRE1]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Inside the `conf/bblayers.conf` file, only the `meta-qt3` layer needs to be
    added. Inside the `conf/local.conf` file, the corresponding machine should be
    selected. I would suggest a capable platform, but using an emulated architecture,
    such as `qemuppc`, ought to be enough for such a demo if enough CPU power and
    memory is offered to it. Also, make sure that you change the `DISTRO` variable
    to `poky-lsb`. Having all these in place, the build process can start. The command
    necessary for this is is:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在`conf/bblayers.conf`文件中，只需要添加`meta-qt3`层。在`conf/local.conf`文件中，应选择相应的机器。我建议选择一个性能强大的平台，但如果为这样的演示提供了足够的CPU和内存，使用模拟架构，比如`qemuppc`，也应该足够了。还要确保将`DISTRO`变量更改为`poky-lsb`。所有这些准备就绪后，构建过程可以开始。这需要以下命令：
- en: '[PRE2]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'After the resulting binaries are generated and booted on the selected machine,
    the user is able to either run all the tests using the `LSB_Test.sh` script, which
    also sets the LSB test framework environment, or run specific test suites:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 生成的二进制文件在所选的机器上生成并引导后，用户可以使用`LSB_Test.sh`脚本运行所有测试，该脚本还设置了LSB测试框架环境，或者运行特定的测试套件：
- en: '[PRE3]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'You can also use the following command:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用以下命令：
- en: '[PRE4]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'If various tests are not passing, the system needs to be reconfigured to ensure
    the required compatibility level. Inside `meta/recipes-extended/images`, besides
    the core`-image-lsb.bb` recipes, there are also two similar recipes:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 如果各种测试未通过，系统需要重新配置以确保所需的兼容性水平。在`meta/recipes-extended/images`中，除了`core-image-lsb.bb`配方外，还有两个类似的配方：
- en: '`core-image-lsb-sdk.bb`: It includes a `meta-toolchain` and the necessary libraries
    and development headers that are needed to generate an SDK for application development'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`core-image-lsb-sdk.bb`：它包括一个`meta-toolchain`和生成应用程序开发所需的必要库和开发头文件'
- en: '`core-image-lsb-dev.bb`: It is suitable for development work on targets since
    it includes `dev-pkgs`, which exposes the necessary headers and libraries for
    image-specific packages'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`core-image-lsb-dev.bb`：适用于目标开发工作，因为它包括`dev-pkgs`，这些包暴露了特定于图像的软件包所需的头文件和库'
- en: 'Inside the Yocto Project, is a layer defined as `meta-cgl`, which intends to
    be the stepping stone for the CGL initiative. It aggregates all the available
    and required packages defined by the CGL workgroup. This layer''s format tries
    to set the stage for the next implementations that will be made to support CGL
    on various machines. Inside the `meta-cgl` layer, there are two subdirectories:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在Yocto项目中，有一个名为`meta-cgl`的层，旨在成为CGL倡议的基石。它汇集了CGL工作组定义的所有可用和必需的软件包。该层的格式试图为将来支持各种机器上的CGL设置舞台。在`meta-cgl`层内，有两个子目录：
- en: '`meta-cgl-common`: It is the focus place of the activity and the subdirectory
    that offers support for machines available inside poky, such as `qemuarm`, `qemuppc`,
    and so on.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`meta-cgl-common`：这是活动的焦点位置，也是在poky内提供支持的子目录，例如`qemuarm`，`qemuppc`等。'
- en: '`meta-cgl-fsl-ppc`: It is a subdirectory that defines BSP-specific support.
    Such layers should be made available if the support for other machines is required.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`meta-cgl-fsl-ppc`：这是一个定义BSP特定支持的子目录。如果需要其他机器的支持，应该提供这样的层。'
- en: As I've already mentioned, the `meta-cgl` layer is responsible for the CGL support.
    As mentioned previously, one of the requirements of CGL is to have LSB support
    and this support is available inside Poky. It is integrated inside this layer
    as a specific requirement. Another recommendation for the `meta-cg`l layer is
    to group all the available packages into package groups that define various categories.
    The available package groups are very generic, but all the available ones are
    integrated in a core one called `packagegroup-cgl.bb`.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我已经提到的，`meta-cgl`层负责CGL支持。正如之前提到的，CGL的要求之一是具有LSB支持，而这种支持在Poky内是可用的。它作为一个特定要求集成在这个层内。`meta-cgl`层的另一个建议是将所有可用的软件包分组到定义各种类别的软件包组中。可用的软件包组非常通用，但所有可用的软件包都集成在一个称为`packagegroup-cgl.bb`的核心软件包组中。
- en: The layer also exposes a CGL-compliant operating system image. This image tries
    to include various CGL-specific requirements for starters, and intends to grow
    by including all the requirements defined in the CGL specification document. Besides
    the resultant Linux operating system that will be compliant with the CGL requirements
    and is ready for the CGL certification, the layer also tries to define a CGL-specific
    testing framework. The task may seem similar to the one required for the LSB checking
    compliance, but I assure you it is not. It not only requires a CGL-specific language
    definition that has to be made according to the defined specifications, but also
    a number of tests definitions that should be in sync with what the language defines.
    Also, there are requirements that could be met with one package or the functionality
    of a package and these things should be gathered together and combined. There
    are various other scenarios that can be interpreted and answered correctly; this
    is a condition that makes the testing of CGL a hard task to accomplish.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 该层还公开了一个符合CGL的操作系统镜像。该镜像试图首先包含各种CGL特定的要求，并打算通过包含CGL规范文档中定义的所有要求来增长。除了符合CGL要求并准备进行CGL认证的结果Linux操作系统外，该层还试图定义一个特定于CGL的测试框架。这项任务可能看起来类似于LSB检查兼容性所需的任务，但我向您保证它并不相同。它不仅需要根据定义的规范制定一个特定于CGL的语言定义，还需要一系列与语言定义保持同步的测试定义。此外，有一些要求可以通过一个软件包或软件包的功能来满足，这些要求应该被收集并组合在一起。还有各种其他情景可以被解释和正确回答；这是使CGL测试成为一项艰巨任务的条件。
- en: 'Inside the `meta-cgl` layer, there are recipes for the following packages:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在`meta-cgl`层内，有以下软件包的配方：
- en: '`cluster-glue`'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cluster-glue`'
- en: '`cluster-resource-agents`'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`cluster-resource-agents`'
- en: '`corosync`'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`corosync`'
- en: '`heartbeat`'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`heartbeat`'
- en: '`lksctp-tools`'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`lksctp-tools`'
- en: '`monit`'
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`monit`'
- en: '`ocfs2-tools`'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ocfs2-tools`'
- en: '`openais`'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openais`'
- en: '`pacemaker`'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`pacemaker`'
- en: '`openipmi`'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`openipmi`'
- en: 'Besides these recipes, there are also other ones that are necessary for various
    CGL requirements. The fact that the `meta-cgl` initiative is shown in the support
    it offers as described in the previous sections. It is not complete but it will
    be in time. It will also contain these packages:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 除了这些配方，还有其他一些对于各种CGL要求是必要的。`meta-cgl`倡议所提供的支持正如前面所述的那样。它还将包含这些软件包：
- en: '`evlog`'
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`evlog`'
- en: '`mipv6-daemon-umip`'
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mipv6-daemon-umip`'
- en: '`makedumpfile`'
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`makedumpfile`'
- en: All of these are necessary to offer a Linux-based operating system that has
    LSB support and CGL compliance. This will be carried out in time, and maybe by
    the time this book reaches your hands, the layer will be in its final format and
    be the standard for CGL compliance.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些都是必要的，以提供具有LSB支持和CGL兼容性的基于Linux的操作系统。这将在适当的时候完成，也许当这本书到达您手中时，该层将以其最终格式存在，并成为CGL兼容性的标准。
- en: I will now start to explain a couple of packages that you might come across
    in the CGL environment. I will first start with the Heartbeat daemon, which provides
    communication and membership for cluster services. Having it in place will enable
    clients to determine the present state of the processes available on other machines
    and establish communication with them.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 我现在将开始解释一些您可能在CGL环境中遇到的软件包。我将首先从Heartbeat守护程序开始，它为集群服务提供通信和成员资格。将其放置在那里将使客户端能够确定其他机器上可用进程的当前状态，并与它们建立通信。
- en: 'To make sure that the Heartbeat daemon is useful, it needs to be put together
    with a **Cluster Resource Manager** (**CRM**), which is the component responsible
    for starting and stopping various services to obtain a highly available Linux
    system. This CRM was called **Pacemaker** and it was unable to detect resource-level
    fails and was only able to interact with two nodes. In time, it evolved, and it
    now has better support and additional user interfaces available. Some of these
    services are as follows:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保Heartbeat守护程序是有用的，它需要与**集群资源管理器**（**CRM**）一起使用，后者负责启动和停止各种服务，以获得高可用性的Linux系统。这个CRM被称为**Pacemaker**，它无法检测资源级别的故障，只能与两个节点进行交互。随着时间的推移，它得到了改进，现在有更好的支持和额外的用户界面可用。其中一些服务如下：
- en: '**crm shell**: It is a command-line interface realized by Dejan Muhamedagic
    to hide the XML configuration and help with interactions.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**crm shell**：这是由Dejan Muhamedagic实现的命令行界面，用于隐藏XML配置并帮助进行交互。'
- en: '**The high availability web console**: It is an AJAX frontend'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高可用性Web控制台**：这是一个AJAX前端'
- en: '**Heartbeat GUI**: It is an advanced XML editor that offers a lot of relevant
    information'
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Heartbeat GUI**：这是一个提供大量相关信息的高级XML编辑器'
- en: '**Linux Cluster Management Console (LCMC)**: It started as **DRBD-Management
    Console** (**DRBD-MC**) and is a Java platform that is used for the management
    purposes of Pacemaker.'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Linux集群管理控制台（LCMC）**：它最初是**DRBD-管理控制台**（**DRBD-MC**），是一个用于Pacemaker管理目的的Java平台。'
- en: 'Pacemaker accepts three types of resource agents (a resource agent represents
    a standard interface between the cluster resources). The Resource Agents is a
    project that is also managed by Linux-HA. It is available and maintained by the
    guys at ClusterLabs. Depending on the type that is selected, it is able to perform
    operation, such as start/stop for a given resource, monitor, validation, and so
    on. The Resource Agents that are supported are:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: Pacemaker接受三种类型的资源代理（资源代理代表集群资源之间的标准接口）。资源代理是Linux-HA管理的项目，由ClusterLabs的人员提供和维护。根据所选择的类型，它能够执行操作，如对给定资源的启动/停止，监视，验证等。支持的资源代理包括：
- en: LSB Resource Agents
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LSB资源代理
- en: OCF Resource Agents
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OCF资源代理
- en: The legacy Heartbeat Resource Agent
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 传统的Heartbeat资源代理
- en: '**Cluster Glue** is a set of libraries, utilities, and tools used in conjuncture
    with Pacemaker/Heartbeat. It is the glue that basically puts everything together
    between the cluster resource manager (I am referring to Pacemaker) and the messaging
    layer (which could be Heartbeat). It is now managed as a separate component by
    the Linux-HA subproject, although it started as a component of Heartbeat. It has
    a number of interesting components:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cluster Glue**是与Pacemaker/Heartbeat一起使用的一组库、实用程序和工具。它基本上是将集群资源管理器（我指的是Pacemaker）和消息传递层（可能是Heartbeat）之间的一切联系在一起的粘合剂。尽管它最初是Heartbeat的一个组件，但现在它作为Linux-HA子项目的一个独立组件进行管理。它有一些有趣的组件：'
- en: '**Local Resource Manager (LRM)**: It acts as an interface between Pacemaker
    and the Resource Agent and is not cluster-aware. Its tasks include the processing
    of commands received from the CRM, passing them to the resource agent, and reporting
    these activities.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Local Resource Manager (LRM)**：它充当Pacemaker和资源代理之间的接口，不具备集群感知能力。其任务包括处理从CRM接收的命令，将其传递给资源代理，并报告这些活动。'
- en: '**Shoot The Other Node In The Head (STONITH)**: It is a mechanism used for
    the purpose of node fencing by making a node that is considered dead by a cluster
    so that it can be removed from it and prevent any interaction risks.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Shoot The Other Node In The Head (STONITH)**：这是一种机制，用于通过使集群认为已经死亡的节点来进行节点围栏，以便将其从中移除并防止任何交互风险。'
- en: '**hb_report**: It is an error reporting utility often used for bug fixing and
    isolation problems.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**hb_report**：这是一个经常用于故障修复和隔离问题的错误报告实用程序。'
- en: '**Cluster Plumbing Library**: It is a low-level intercluster communication
    library.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集群管道库**：这是一个低级别的集群间通信库。'
- en: Note
  id: totrans-134
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'For more information related to Linux-HA the following link could be of help:
    [http://www.linux-ha.org/doc/users-guide/users-guide.html](http://www.linux-ha.org/doc/users-guide/users-guide.html)'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 有关Linux-HA的更多信息，以下链接可能会有所帮助：[http://www.linux-ha.org/doc/users-guide/users-guide.html](http://www.linux-ha.org/doc/users-guide/users-guide.html)
- en: 'The next element is the Corosync cluster engine. It is a project derived from
    OpenAIS, which will be presented shortly. It is a Group Communication System with
    a set of features and implementations that try to offer high-availability support
    and is licensed under BSD. Its features include the following:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来的元素是Corosync集群引擎。它是从OpenAIS衍生出来的项目，即将介绍。它是一个具有一系列功能和实现的组通信系统，试图提供高可用性支持，并在BSD许可下授权。其功能包括以下内容：
- en: An availability manager for the restarting of an application in case of failure.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于在故障发生时重新启动应用程序的可用性管理器。
- en: A quorum system that notifies about the state of a quorum and whether it's been
    achieved or not.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个关于仲裁状态及其是否已经实现的仲裁系统通知。
- en: A closed process group communication model with support for synchronization
    to replicate state machines.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个支持同步以复制状态机的封闭进程组通信模型。
- en: A configuration and statistics database that resides in the memory. It provides
    the ability to receive, retrieve, set, and change various notifications.
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个驻留在内存中的配置和统计数据库。它提供了接收、检索、设置和更改各种通知的能力。
- en: Next, we'll take a look at OpenAIS. It is the open implementation for **Application
    Interface Specification** (**AIS**) provided by **Service Availability Forum**
    (**SA** or **SA Forum** as it is also called). It represents an interface that
    provides high-availability support. The source code available in OpenAIS was refactored
    over time in OpenAIS and only remained SA Forum-specific APIs and in Corosync.
    It was also placed in all the core infrastructure components. OpenAIS is very
    similar to Heartbeat; it is, in fact, an alternative to it, which is industry
    standard-specific. It is also supported by Pacemaker.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看看OpenAIS。这是由**Service Availability Forum**（**SA**或**SA Forum**）提供的**Application
    Interface Specification**（**AIS**）的开放实现。它代表了提供高可用性支持的接口。OpenAIS中的源代码随着时间的推移在OpenAIS中进行了重构，只剩下了SA
    Forum特定的API和Corosync中的核心基础设施组件。OpenAIS与Heartbeat非常相似；事实上，它是Heartbeat的替代品，是行业标准特定的。它也得到了Pacemaker的支持。
- en: Note
  id: totrans-142
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about AIS can be found by referring to its Wikipedia page and
    the SA Forum web site at [http://www.saforum.org/page/16627~217404/Service-Availability-Forum-Application-Interface-Specification](http://www.saforum.org/page/16627~217404/Service-Availability-Forum-Application-Interface-Specification).
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 有关AIS的更多信息可以在其维基百科页面和SA论坛网站上找到[http://www.saforum.org/page/16627~217404/Service-Availability-Forum-Application-Interface-Specification](http://www.saforum.org/page/16627~217404/Service-Availability-Forum-Application-Interface-Specification)。
- en: Next is the `ocfs2-tools` package. It is a collection of utilities that enable
    the work to be done with the OCFS2 filesystem in the form of creating, debugging,
    repairing, or managing it. It includes tools that are very similar to the ones
    a Linux user is accustomed to, such as `mkfs.ocfs2`, `mount.ocfs2 fsck.ocfs2`,
    `tunefs.ocfs2`, and `debugfs.ocfs2`.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是`ocfs2-tools`软件包。这是一组实用程序，可以以创建、调试、修复或管理OCFS2文件系统的形式进行工作。它包括与Linux用户习惯的非常相似的工具，如`mkfs.ocfs2`、`mount.ocfs2
    fsck.ocfs2`、`tunefs.ocfs2`和`debugfs.ocfs2`。
- en: '**Oracle Cluster File System** (**OCFS**) was the first shared disk filesystem
    developed by Oracle and was released under GNU General Public License. It was
    not a POSIX compliant filesystem, but this changed when OCFS2 appeared and was
    integrated into the Linux kernel. In time, it became a distributed lock manager
    capable of providing both high availability and high performance. It is now used
    in a variety of places, such as virtualization, database clusters, and middleware,
    and appliances. These are some of its most notable features:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '**Oracle Cluster File System** (**OCFS**)是由Oracle开发的第一个共享磁盘文件系统，并在GNU通用公共许可证下发布。它不是一个符合POSIX标准的文件系统，但当OCFS2出现并集成到Linux内核中时，情况发生了变化。随着时间的推移，它成为了一个分布式锁管理器，能够提供高可用性和高性能。现在它被用于各种场合，如虚拟化、数据库集群、中间件和设备。以下是它的一些显著特点：'
- en: Optimized allocations
  id: totrans-146
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 优化的分配
- en: REFLINKs
  id: totrans-147
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: REFLINKs
- en: Metadata checksums
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 元数据校验和
- en: Indexed directories
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 索引目录
- en: Extended attributes per inode
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个inode的扩展属性
- en: User and group quotas
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户和组配额
- en: Advanced security, such as SELinux and POSIX ACLs support
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级安全性，如SELinux和POSIX ACL支持
- en: Cluster-aware tools such as the ones mentioned previously and include mkfs,
    tunefs, fsck, mount, and debugfs
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 集群感知工具，如前面提到的工具，包括mkfs、tunefs、fsck、mount和debugfs
- en: In-built Clusterstack with a Distributed Lock Manager
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内置的具有分布式锁管理器的Clusterstack
- en: Journaling
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日志记录
- en: Variable block and cluster size
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可变块和簇大小
- en: Buffered, memory mapped, splice, direct, asynchronous I/Os
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 缓冲，内存映射，拼接，直接，异步I/O
- en: Architecture and endian neutral
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 架构和端中立
- en: The `lksctp-tools` package is a Linux user space utility that includes a library
    and appropriate C language headers for the purpose of interaction with the SCTP
    interface. The Linux kernel has had support for SCTP since the 2.6 release, so
    the existence of the user space compatibility tools is no surprise for anyone.
    Lksctp offers access to the SCTP socket-based API. The implementation is made
    according to the IETF Internet draft available at [http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-15](http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-15).
    It provides a flexible and consistent method of developing socket-based applications
    that takes advantage of **Stream Control Transmission Protocol** (**SCTP**).
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '`lksctp-tools`软件包是一个Linux用户空间实用程序，包括一个库和适当的C语言头文件，用于与SCTP接口进行交互。自2.6版本以来，Linux内核就支持SCTP，因此用户空间兼容性工具的存在对任何人来说都不足为奇。Lksctp提供对SCTP基于套接字的API的访问。该实现是根据IETF互联网草案制定的，可在[http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-15](http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-15)上找到。它提供了一种灵活和一致的开发基于套接字的应用程序的方法，利用了**Stream
    Control Transmission Protocol**（**SCTP**）。'
- en: 'SCTP is a message-oriented transport protocol. As a transport layer protocol,
    it runs over IPv4 or Ipv6 implementations and besides the functionality of TCP,
    it also provides support for these features:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: SCTP是一种面向消息的传输协议。作为传输层协议，它在IPv4或IPv6实现上运行，并且除了TCP的功能外，还提供对这些功能的支持：
- en: Multistreaming
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多流
- en: Message framing
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 消息帧
- en: Multihoming
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多宿
- en: Ordered and unordered message delivery
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有序和无序消息传递
- en: Security and authentication
  id: totrans-165
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安全和认证
- en: These special features are necessary for industry carrier graded systems and
    are used in fields such as telephony signaling.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 这些特殊功能对于行业载波级系统是必要的，并且在电话信令等领域中使用。
- en: Note
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about SCTP is available at [http://www.ietf.org/rfc/rfc2960.txt](http://www.ietf.org/rfc/rfc2960.txt)
    and [http://www.ietf.org/rfc/rfc3286.txt](http://www.ietf.org/rfc/rfc3286.txt)
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 有关SCTP的更多信息，请访问[http://www.ietf.org/rfc/rfc2960.txt](http://www.ietf.org/rfc/rfc2960.txt)和[http://www.ietf.org/rfc/rfc3286.txt](http://www.ietf.org/rfc/rfc3286.txt)
- en: Now, I will change the pace a bit and explain **monit**, a very small yet powerful
    utility to monitor and manage the system. It is very useful in automatic maintenance
    and repairing Unix systems, such as BSD distribution, various Linux distributions,
    and other platforms that can include OS X. It can be used for a large variety
    of tasks ranging from file monitoring, changes in filesystems, and interaction
    with event processes if various thresholds were passed.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我将稍微改变一下节奏，解释一下**monit**，这是一个非常小但功能强大的实用程序，用于监视和管理系统。它在自动维护和修复Unix系统方面非常有用，例如BSD发行版、各种Linux发行版以及可能包括OS
    X在内的其他平台。它可用于各种任务，包括文件监视、文件系统更改以及与事件进程的交互，如果通过各种阈值。
- en: It is easy to configure and control monit since all the configurations are based
    on a token-oriented syntax that is easy to grasp. Also, it offers a variety of
    logs and notifications about its activities. It also provides a web browser interface
    for easier access. So, having a general system resource manager, which is also
    easy to interact with, makes monit an option for a carrier graded Linux system.
    If you are interested in finding more about it, access the project's website at
    [http://mmonit.com/monit/](http://mmonit.com/monit/).
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 很容易配置和控制monit，因为所有配置都基于易于理解的基于令牌的语法。此外，它提供了各种日志和关于其活动的通知。它还提供了一个网页浏览器界面，以便更容易访问。因此，拥有一个通用的系统资源管理器，也很容易与之交互，使monit成为运营商级Linux系统的选择。如果您有兴趣了解更多信息，请访问项目的网站[http://mmonit.com/monit/](http://mmonit.com/monit/)。
- en: '**OpenIPMI** is an implementation of **Intelligent Platform Management Interface**
    (**IPMI**) that tries to offers access to all the functionalities of IPMI and
    also offers abstractions for easier usage. It is comprised of two components:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '**OpenIPMI**是**智能平台管理接口**（**IPMI**）的实现，旨在提供对IPMI所有功能的访问，并为更容易使用提供抽象。它由两个组件组成：'
- en: A kernel driver insertable in the Linux kernel
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可插入Linux内核的内核驱动程序
- en: A library that offers the abstraction functionality of IPMI and also provides
    access to various services used by an operating system
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供IPMI的抽象功能并提供对操作系统使用的各种服务的访问的库
- en: IPMI represents a set of computer interface specifications that try to reduce
    the total cost of ownership by offering an intelligent and autonomous system that
    is able to monitor and manage the capabilities of the host system. Here, we are
    referring to only about an operating system but also the firmware and CPU itself.
    The development of this intelligent interface was led by Intel and is now supported
    by an impressive number of companies.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: IPMI代表一组计算机接口规范，旨在通过提供智能和自主的系统来监视和管理主机系统的功能，从而降低总体拥有成本。这里我们不仅指的是操作系统，还包括固件和CPU本身。这个智能接口的开发由英特尔领导，现在得到了令人印象深刻的公司的支持。
- en: Note
  id: totrans-175
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about IPMI, OpenIMPI, and other supported IPMI drivers and
    functionality are available at [http://openipmi.sourceforge.net/](http://openipmi.sourceforge.net/)
    and [http://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html](http://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html).
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 有关IPMI、OpenIMPI和其他支持的IPMI驱动程序和功能的更多信息，请访问[http://openipmi.sourceforge.net/](http://openipmi.sourceforge.net/)和[http://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html](http://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html)。
- en: There are some of packages that also should be present in the `meta-cgl` layer,
    but at the time of writing this chapter, they were still not available there.
    I will start with `mipv6-daemon-umip`, which tries to provide data distribution
    for **Mobile Internet Protocol version 6** (**MIPv6**) daemons. **UMIP** is an
    open source Mobile IPv6 stack for Linux based on MIPL2 and maintains the latest
    kernel versions. The packages is a set of patches for MIPL2 by the **UniverSAl
    playGround** **for Ipv6** (**USAGI**) Project, which tries to offers industry
    ready quality for IPsec (for both IPv6 and IPv4 options) and IPv6 protocol stack
    implementations for the Linux system.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: '`meta-cgl`层中还应该有一些软件包，但在撰写本章时，它们仍然不可用。我将从`mipv6-daemon-umip`开始，它试图为**移动互联网协议版本6**（**MIPv6**）守护程序提供数据分发。**UMIP**是一个基于MIPL2的开源移动IPv6堆栈，维护着最新的内核版本。该软件包是**UniverSAl
    playGround** **for Ipv6**（**USAGI**）项目对MIPL2的一组补丁，该项目试图为Linux系统提供IPsec（IPv6和IPv4选项）和IPv6协议栈实现的行业就绪质量。'
- en: Note
  id: totrans-178
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: More information about UMIP is available at [http://umip.linux-ipv6.org/index.php?n=Main.Documentation](http://umip.linux-ipv6.org/index.php?n=Main.Documentation).
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 有关UMIP的更多信息，请访问[http://umip.linux-ipv6.org/index.php?n=Main.Documentation](http://umip.linux-ipv6.org/index.php?n=Main.Documentation)。
- en: '**Makedumfile** is a tool that offers the possibility of compressing the size
    of dump files and can also exclude memory pages that are not required for analysis.
    For some of the Linux distributions, it comes along with a package called `kexec-tools`
    that can be installed in your distribution using RPM, the package manager supported
    by the carrier graded specifications. It is quite similar to commands, such as
    `gzip` or `split`. The fact that it receives input only from files an ELF format,
    makes it the first choice for `kdumps`.'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '**Makedumfile**是一个工具，可以压缩转储文件的大小，并且还可以排除不需要进行分析的内存页面。对于一些Linux发行版，它与一个名为`kexec-tools`的软件包一起提供，可以使用运营商级规范支持的软件包管理器RPM在您的发行版中安装。它与`gzip`或`split`等命令非常相似。它只接收来自ELF格式文件的输入，这使得它成为`kdumps`的首选。'
- en: Another interesting project is `evlog`, a **Linux Event Logging system** for
    Enterprise-class systems. It also is compliant with POSIX standards and provides
    logging for a variety of forms that range from `printk` to `syslog` as well as
    other kernel and user space functions. The output events are available in a POSIX-compliant
    format. It also offers support while selecting logs that match certain defined
    filters or even register a special event format. These can only be notified about
    when the registered event filter is met. Its features certainly make this package
    interesting and are available at [http://evlog.sourceforge.net/](http://evlog.sourceforge.net/).
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个有趣的项目是`evlog`，这是一个**用于企业级系统的Linux事件记录系统**。它也符合POSIX标准，并提供了从`printk`到`syslog`以及其他内核和用户空间函数的各种形式的日志记录。输出事件以符合POSIX标准的格式提供。它还在选择与特定定义的过滤器匹配的日志或注册特殊事件格式时提供支持。只有在满足注册的事件过滤器时才能通知这些事件。它的功能确实使这个软件包变得有趣，并且可以在[http://evlog.sourceforge.net/](http://evlog.sourceforge.net/)上找到。
- en: There are a number of other packages that could be included into the `meta-cgl`
    layer. Taking a look at the registered CGL distribution could help you understand
    the complexity of such a project. For easier access to this list, refer to [http://www.linuxfoundation.org/collaborate/workgroups/cgl/registered-distributions](http://www.linuxfoundation.org/collaborate/workgroups/cgl/registered-distributions)
    in order to simplify the search procedure.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 还有许多其他软件包可以包含到`meta-cgl`层中。查看注册的CGL发行版可以帮助你了解这样一个项目的复杂性。为了更容易地访问这个列表，请参考[http://www.linuxfoundation.org/collaborate/workgroups/cgl/registered-distributions](http://www.linuxfoundation.org/collaborate/workgroups/cgl/registered-distributions)以简化搜索过程。
- en: 'To interact with the `meta-cgl` layer, the first necessary step would be to
    make sure that all the interdependent layers are available. The latest information
    about how to build a carrier graded compatible Linux image is always available
    in the attached `README` file. I''ve also given you an example here for purpose
    of demonstrating it:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 与`meta-cgl`层互动的第一步是确保所有相互依赖的层都可用。关于如何构建兼容运营级的Linux镜像的最新信息始终可以在附加的`README`文件中找到。我在这里也给出了一个示例以进行演示：
- en: '[PRE5]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Next, the build directory needs to be created and configured:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，需要创建和配置构建目录：
- en: '[PRE6]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Inside the `conf/bblayers.conf` file, these are the layers that need to be
    added:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在`conf/bblayers.conf`文件中，需要添加以下层：
- en: '[PRE7]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Inside the `conf/local.conf` file, the corresponding machine should be selected.
    I would suggest `qemuppc`, as well as the `DISTRO` variable that can be changed
    to `poky-cgl. BBMASK` should be made available due to duplication of recipes:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在`conf/local.conf`文件中，应选择相应的机器。我建议选择`qemuppc`，以及可以更改为`poky-cgl`的`DISTRO`变量。由于食谱的重复，应该提供`BBMASK`：
- en: '[PRE8]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Having all these place, the build process can start. The necessary command
    for this is:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些准备，构建过程就可以开始了。这个过程的必要命令是：
- en: '[PRE9]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: Make sure that you have time to spend on this because the build could take a
    while, depending on the configuration of your host system.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你有时间花在这上面，因为构建可能需要一段时间，这取决于你的主机系统的配置。
- en: Summary
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you were presented with information about the specifications
    required for the Carrier Grade Linux and Linux Standard Base. Other options, such
    as Automotive Grade and Carrier Grade Virtualization, were also explained and
    in the end, support for the Yocto Project and a couple of demonstrations were
    shown to you to complete this learning process.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你们了解了运营级Linux和Linux标准基础所需的规范信息。其他选项，如汽车级和运营级虚拟化，也得到了解释，最后，为了完成这个学习过程，我向你们展示了对Yocto项目的支持和一些演示。
- en: This is the last chapter of this book and I hope you've enjoyed the journey.
    Also, I hope I was able to pass on some of the information I have acquired on
    to you. Since we're at the end of this book, I must admit that I have also learned
    and gathered new information in the process of writing the book. I hope that you
    catch the Yocto bug as well and are also able to add your contributions to the
    Yocto Project and the open source community in general. I am confident that from
    now on, the embedded world holds fewer secrets for you. Make sure you shed some
    light about this topic on others too!
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 这是本书的最后一章，我希望你们喜欢这段旅程。同时，我希望我能够把我所学到的一些信息传递给你们。既然我们已经到了这本书的结尾，我必须承认在写书的过程中我也学到了新的信息。我希望你们也能对Yocto项目产生兴趣，并且能够为Yocto项目和开源社区做出贡献。我相信从现在开始，嵌入式世界对你来说将不再有太多秘密。确保你也向其他人阐明这个话题！
