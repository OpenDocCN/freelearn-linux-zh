- en: Chapter 10. Testing, Auditing, and Hardening IPCop
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第10章。测试、审计和加固IPCop
- en: In this chapter, we will examine some common attitudes towards security and
    patch management, and discuss how we may want to treat these topics within the
    context of IPCop. We will also discuss some common security risks, some common
    security and auditing tools and tests, and find out where to go next.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将研究对安全和补丁管理的一些常见态度，并讨论在IPCop的背景下我们可能如何处理这些主题。我们还将讨论一些常见的安全风险，一些常见的安全和审计工具和测试，并找出下一步该去哪里。
- en: Security and Patch Management
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全和补丁管理
- en: Security is, very loosely, the process of keeping our systems in such a state
    that either they are deemed to be impractical to break into, or in which the vulnerabilities
    and risks entailed in keeping those systems operational are understood, managed,
    and either compensated for or accepted. Contrary to received wisdom (and intuition,
    for some), there is no such thing as a secure system.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 安全，非常宽泛地说，是保持我们的系统处于一种状态的过程，要么被认为是不可行的入侵，要么是对保持这些系统运行所带来的漏洞和风险的理解、管理，并且进行补偿或接受。与常识相反（对于一些人来说，也与直觉相反），没有绝对安全的系统。
- en: There is a well-used aphorism among the security community, "*Security is a
    journey, not a destination*."
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在安全社区中有一个广为人知的格言，“安全是一种旅程，而不是目的地。”
- en: The best security consultant, programmer, or IT professional in the world is
    only able to secure a computer system to the extent that the hardware and software
    he or she is working with allows. Even a perfectly set up, textbook deployment
    of a secure software package runs the risk that an application component, operating
    system component, or piece of hardware may have a fault or develop a fault compromising
    the security of the system. A software fault may do any number of things—it may
    allow an intruder to gain information, cause a system to function improperly,
    or even gain control of that system.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 世界上最好的安全顾问、程序员或IT专业人员只能够根据他们所使用的硬件和软件的能力来保护计算机系统。即使是一个完美设置、按教科书部署的安全软件包也存在风险，因为应用组件、操作系统组件或硬件可能出现故障，从而危及系统的安全。软件故障可能导致各种问题，它可能允许入侵者获取信息，导致系统功能异常，甚至控制系统。
- en: A relatively harmless fault providing the attacker solely with information may
    provide him or her with the information needed to further research other flaws
    in the software running on that computer system—leading to further compromise,
    possibly leading to gaining control of the system.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 一个相对无害的故障，仅仅提供给攻击者信息，可能会为他或她提供进一步研究计算机系统上运行的软件的其他漏洞所需的信息，导致进一步的妥协，可能导致控制系统。
- en: Further more, whatever any vendor, professional, or developer tells you, there
    is *no* solution, be it a shiny new piece of software, a shiny new piece of hardware,
    a decrepit old security guru, or a clever configuration change that will solve
    all of your security problems. They (can) all add up, but *there is no such thing
    as a panacea*.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，无论任何供应商、专业人士或开发者告诉你什么，都没有*解决方案，无论是闪亮的新软件、闪亮的新硬件、陈旧的安全专家，还是聪明的配置更改，都能解决你所有的安全问题。它们（可以）都有所贡献，但*没有什么是万能药*。
- en: All that we can hope to do is bear these principles in mind in layering our
    environment such that we do not rely on any one security measure wherever possible,
    and such that damage is limited. Indeed, firewalls similar to IPCop are used in
    larger organizations to segregate different networks and subnets for precisely
    this reason.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们所能做的就是牢记这些原则，分层设置我们的环境，尽可能不依赖任何一种安全措施，并使损害得到限制。事实上，类似IPCop的防火墙在较大的组织中被用来隔离不同的网络和子网，正是出于这个原因。
- en: The process of keeping our systems as secure as possible has two important components
    that we are concerned with here.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 使我们的系统尽可能安全的过程有两个重要的组成部分，我们在这里关注。
- en: The first, and most basic, is that of keeping the software running on our systems
    up-to-date. A comprehensive firewall strategy, excellent set of permissions, and
    strong set of passwords count for virtually nothing, if the software we are running
    is out of date and therefore has holes in it. While there are probably security
    flaws in most of the software packages we use that have not yet been discovered,
    if we (and the developers of the software) don't know that they're there, the
    chances that an intruder does are reduced as well. If the flaw is known to the
    developers (and worse yet, if it is patched), we should automatically assume that
    any attacker wanting to break into our system knows about it too. An unpatched
    system is significantly harder to secure than a patched system.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个，也是最基本的，是保持我们系统上运行的软件是最新的。如果我们运行的软件过时，因此存在漏洞，那么全面的防火墙策略、优秀的权限设置和强大的密码几乎毫无意义。虽然我们使用的大多数软件包中可能存在尚未被发现的安全漏洞，但如果我们（以及软件开发者）不知道它们的存在，入侵者知道的可能性也会降低。如果开发者知道这个漏洞（更糟糕的是，如果它已经被修补），我们应该自动假设任何想要入侵我们系统的攻击者也知道它。未打补丁的系统比打了补丁的系统要难以保护得多。
- en: The second, and more difficult step, is the process of **system hardening**.
    This may involve any number of steps from changing filing system permissions and
    putting in place a firewall policy, to surrounding our systems with intrusion
    prevention systems, physical security measures (such as locks and CCTV), and even
    taking regular backups (being able to go back in time and check what our system
    looked like is often critically important to analysis of a system we believe may
    be compromised).
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个，更困难的步骤是**系统加固**的过程。这可能涉及一系列步骤，从更改文件系统权限和制定防火墙策略，到在我们的系统周围设置入侵预防系统、物理安全措施（如锁和闭路电视），甚至定期备份（能够回溯并检查我们的系统看起来是非常重要的，通常对我们认为可能受到威胁的系统进行分析至关重要）。
- en: Why We Should Be Concerned
  id: totrans-12
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么我们应该关注
- en: For some readers, this topic may seem fairly obvious while for others, used
    to thinking about IT and about computers in general from a different standpoint,
    it may not. It has been the experience of the authors that quite frequently extremely
    competent managers, IT professionals, and computer scientists are quite unaware
    of how computers can be abused, how much damage this abuse can do, and how easy
    these things are to accomplish.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 对于一些读者来说，这个话题可能显而易见，而对于其他一些人来说，他们习惯于从不同的角度思考IT和计算机，可能并不明显。作者的经验是，非常有能力的经理、IT专业人员和计算机科学家经常对计算机如何被滥用、这种滥用可能造成多大的损害以及这些事情有多容易实现毫不知情。
- en: However, disregarding this misunderstanding for a moment, there are many well-meaning
    managers, home users, and IT professionals who do understand that computers can
    be broken into, and are aware that there is more that they can do to secure their
    system. This gives birth to one of the greatest myths in wide circulation, a viewpoint
    that is often held very strongly by people with large clout within organizations
    of every size. This is a *wrong* viewpoint for any organization valuing its ability
    to make money and using computers to do so (that nowadays is practically everyone),
    or any home user using his or her PC for such things as accounting, online banking,
    or online shopping. This fallacy, of "*why would anyone want to do that to us?*"
    is based on the premise that the sole threat to computers is determined attackers
    specifically picking companies based on their identity and as a home user, small
    business, or dull manufacturing company, one is immune.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，暂且不考虑这种误解，有许多善意的经理、家庭用户和IT专业人员确实明白计算机可以被入侵，并且意识到他们可以做更多来保护他们的系统。这产生了一个广泛流传的最大谬论之一，这种观点通常由组织中具有很大影响力的人坚定地持有。这是一个*错误*的观点，对于任何重视赚钱能力并使用计算机来实现这一目标的组织（现在几乎是每个人），或者任何使用个人电脑进行诸如会计、在线银行业务或在线购物等活动的家庭用户。这种错误观点是基于这样的前提：计算机的唯一威胁是特定攻击者根据其身份选择公司，而作为家庭用户、小型企业或无聊的制造公司，一个人是免疫的。
- en: Of course, viruses, worms, adware, and spyware—four of the most common issues
    being dealt with by security and IT professionals—have nothing to do with companies
    being targeted, and some of the biggest (and most costly) incidents to deal with
    result in loss of image or legal liability as a result of actions carried out
    by intruders, using a company's system as a springboard to break into others.
    Such problems can be devastating for home users whose credit card is stolen, who
    suffer from identity theft, or are legally liable as a result of someone abusing
    their online auction account.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，病毒、蠕虫、广告软件和间谍软件——安全和IT专业人员正在处理的四个最常见问题——与公司被针对无关，一些最大的（也是最昂贵的）事件处理结果导致形象丧失或法律责任，这是入侵者利用公司系统作为突破口进入其他系统的结果。这些问题对于家庭用户来说可能是毁灭性的，他们的信用卡被盗刷，遭受身份盗用，或者因为有人滥用他们的在线拍卖账户而承担法律责任。
- en: A quick survey of the many, many papers on disaster recovery on the Web brings
    up different versions of the same statistic again and again—that *X% of companies
    experiencing Y days of downtime never recover from* [*a disaster*]. X and Y vary
    from paper to paper, but invariably X is a double-figure number, and Y is a single
    figure. This alone should be reason to keep your systems secure from an intruder
    who could wipe out your data and destroy your ability to do business—whether business
    constitutes running an actual company or simply being able to file your home taxes.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络上对灾难恢复的许多论文进行快速调查，一遍又一遍地出现了不同版本的相同统计数据——*X%的公司经历Y天的停机时间后永远无法恢复* [*灾难*]。X和Y在不同的论文中有所不同，但X总是一个两位数，Y总是一个个位数。这一点就足以让你保护系统免受可能抹去你的数据并破坏你的业务能力的入侵者的影响——无论业务是指经营一家实际公司还是简单地能够报税。
- en: All this assumes that we have no regulatory requirements—exploring standards
    such as ISO 17799 is well outside our scope, and many regulations and standards
    (including ISO 17799) include stipulations regarding business continuity and disaster
    recovery planning.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 所有这些都假设我们没有监管要求——探讨诸如ISO 17799之类的标准远远超出了我们的范围，许多法规和标准（包括ISO 17799）包括有关业务连续性和灾难恢复规划的规定。
- en: The fact that you have this book and that you're reading this section of this
    chapter probably means that this text is preaching to the converted, but at least—hopefully—you
    may be armed with some useful points if you ever encounter anyone who hasn't been
    converted yet!
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你有这本书并且正在阅读本章节的这一部分，可能意味着这段文字是在说已经被说服的人，但至少——希望你如果遇到还没有被说服的人，你可能会有一些有用的观点！
- en: Appliances and How this Affects Our Management of IPCop
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设备及其对我们管理IPCop的影响
- en: Now that we have explored the notions of security and disaster recovery briefly,
    we can move on to how this actually affects our ongoing management and securing
    of IPCop. To venture into another common failing within IT, firewalls (alongside
    networked devices such as printers, switches, and routers) are some of the least
    cared for devices out there. A large majority of small and medium businesses simply
    do not perform any routine management on these devices, frequently leaving switches
    and routers that may be exposed to the Internet with software versions running
    on them that may be full of holes for an intruder to exploit! Services such as
    **Simple Network Management Protocol** (**SNMP**), which are shipped on many devices
    with the default community strings (acting similarly to passwords) of public/private,
    frequently allow intruders to take complete control of a device (sometimes more
    powerfully than via the device's web configuration interface) simply and quietly.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经简要探讨了安全性和灾难恢复的概念，我们可以继续讨论这实际上如何影响我们对IPCop的持续管理和保护。进入IT中另一个常见的失败，防火墙（以及打印机、交换机和路由器等网络设备）是一些最不受关注的设备。大多数中小型企业根本不对这些设备进行任何例行管理，经常留下可能暴露在互联网上的交换机和路由器，其软件版本可能存在入侵者可以利用的漏洞！诸如**简单网络管理协议**（**SNMP**）之类的服务，通常默认使用公共/私有社区字符串（类似于密码），经常允许入侵者悄无声息地完全控制设备（有时比通过设备的网络配置界面更有力）。
- en: Another common preconception fueling this neglect is the assumption that because
    a device isn't a PC and doesn't have a screen, keyboard, or mouse, it isn't a
    computer and doesn't require updating. The broad userbase of the Internet, and
    the number of products designed to operate as routers, firewalls, etc., has not
    helped this.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个常见的先入之见是，因为设备不是个人电脑，没有屏幕、键盘或鼠标，所以它不是计算机，也不需要更新。互联网的广泛用户群以及设计为路由器、防火墙等设备的产品数量并没有帮助改变这种忽视。
- en: '*The Appliance*, a computer that is not a computer, has a strong influence
    on this. *Appliances*, broadly, are computers designed to operate without the
    management and updates that *normal*, software-centric servers require. Unfortunately,
    many of these appliances are based on software similar to that for non-appliance
    devices, and although appliances are typically more tightly locked down and secured
    than an equivalent server set up to do the same job, they are not exempt from
    similar security issues.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '*设备*，一个不是计算机的计算机，对此有很大影响。*设备*广泛来说，是设计为在没有*正常*软件中心服务器所需的管理和更新的情况下运行的计算机。不幸的是，许多这些设备都基于类似于非设备设备的软件，尽管设备通常比设置为执行相同工作的等效服务器更加严格地锁定和保护，但它们并不免于类似的安全问题。'
- en: Our IPCop system is designed to operate similarly to an appliance. It is entirely
    designed and updated by one set of individuals (the IPCop team), it is running
    on a PC, and it is based on a normal operating system tailored in order to provide
    a very specific function (and exposing little of the operation of the operating
    system)—so to some extent we need to treat it as one. We should (as with any appliance)
    still update our system via the firmware, and must still avoid prying too much
    into the workings of the firewall if we wish it to remain operational (and supportable),
    but an understanding of what goes on under the covers and how it works is very
    beneficial to our securing of IPCop.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的IPCop系统设计为类似于一个设备。它完全由一个团队（IPCop团队）设计和更新，它运行在个人电脑上，并且基于一个定制的正常操作系统，以提供非常特定的功能（并且几乎不暴露操作系统的运行情况）-因此在某种程度上我们需要将其视为一个设备。我们应该（与任何设备一样）通过固件更新我们的系统，并且如果我们希望它保持运行（并且可支持），我们仍然需要避免过多地研究防火墙的运作方式，但是了解其内部运作和工作原理对我们保护IPCop非常有益。
- en: Basic Firewall Hardening
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 基本防火墙加固
- en: 'First and foremost, we need to consider how IPCop looks to the outside world.
    The first step taken by any hacker, penetration tester, IT professional, or analyst
    in assessing the threat that a particular device poses, whether they intend to
    fix it or break in via it, is to profile that device in order to find out some
    of the following things:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要考虑IPCop在外部世界中的表现。任何黑客、渗透测试人员、IT专业人员或分析师在评估特定设备构成的威胁时，无论他们打算修复它还是通过它进行入侵，第一步都是对该设备进行概要分析，以了解以下一些信息：
- en: What the device is
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 设备是什么
- en: What operating system it is running
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它运行的操作系统是什么
- en: What sort of hardware it may be running on
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它可能运行在什么样的硬件上
- en: What services the server is running, and therefore by inference...
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器运行的服务，因此可以推断出...
- en: What software (services) the server is running in addition to the basic operating
    system
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器运行的软件（服务）以及基本操作系统之外的内容
- en: Whether any of the above (particularly the services) are insecure
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以上任何内容（特别是服务）是否存在不安全的情况
- en: As a legitimate auditor, manager, and maintainer of IPCop systems, much of this
    is available to us from memory, from our documentation, or by logging into the
    host itself. For an attacker, to whom such information is extremely valuable,
    this is not the case, and so it behooves us to understand how an intruder would
    gather such information, in order to prevent him or her from doing so.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 作为合法的审计员、经理和IPCop系统的维护者，我们大部分信息都可以从记忆中获取，也可以从我们的文档或者登录到主机本身获取。对于攻击者来说，这些信息非常有价值，但情况并非如此，因此我们需要了解入侵者如何收集这些信息，以防止其这样做。
- en: Checking What Exposure Our Firewall Has to Clients
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查我们的防火墙对客户端的暴露
- en: The most basic tool in assessing what our IPCop box looks like from the outside
    is the port scanner. As we should be aware from earlier in the book, a server
    may open any number of ports in order to allow users to connect to services it
    runs. We should also know that IPCop may have at least one port open to internal
    clients by default—port 445, which is the port HTTPS runs over for configuration
    via the web interface. A port scanner, very simply, attempts to connect to lots
    of different ports, and sees which ports it gets replies from, defining these
    as open (i.e. there's something going on at the other end).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估我们的IPCop盒子在外部的样子时，最基本的工具是端口扫描器。正如我们在本书的前面所了解的，服务器可以打开任意数量的端口，以允许用户连接到其运行的服务。我们还应该知道，IPCop可能默认情况下至少打开一个端口供内部客户端使用——端口445，这是HTTPS通过Web界面进行配置的端口。端口扫描器非常简单地尝试连接到许多不同的端口，并查看它从哪些端口收到回复，将这些定义为打开的（即在另一端有活动）。
- en: Port scanning is an important exercise to carry out on infrastructure like firewalls
    as part of a security audit or periodic checkup for several reasons. The most
    notable of these is that we may not always know what our servers are running.
    We can get a list of which ports our firewall thinks it has open either by using
    the `netstat` command at a shell, or viewing them via the web interface. If, however,
    we are scanning our server because we believe that a malicious intruder may have
    installed software on our firewall for nefarious purposes, the fact that that
    software has an open port (for instance, to allow the intruder to re-connect and
    gain access through a backdoor) may be hidden from the `netstat` command and certain
    portions of the operating system itself.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 对于基础设施如防火墙进行端口扫描是进行安全审计或定期检查的重要练习，原因有几个。其中最显著的是我们可能并不总是知道我们的服务器在运行什么。我们可以通过在shell中使用`netstat`命令或通过Web界面查看我们的防火墙认为自己打开了哪些端口的列表。然而，如果我们之所以扫描我们的服务器是因为我们相信恶意入侵者可能已经在我们的防火墙上安装了软件进行不正当目的，那么这种软件有一个打开的端口（例如，允许入侵者重新连接并通过后门获得访问权限）可能会被`netstat`命令和操作系统的某些部分隐藏起来。
- en: Scanning the system independently in this situation is one of the few ways to
    detect such activity, and for this reason if you're serious about security, it
    is good to get into the habit of doing it periodically; you can't be too prudent.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下独立扫描系统是检测此类活动的少数方法之一，因此如果你对安全性很重视，定期进行这种扫描是一个好习惯；你永远不能太谨慎。
- en: Note
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Port Scanning via the Internet**'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**通过互联网进行端口扫描**'
- en: Many Internet Service Providers have quite strict policies with regard to port
    scanning via their networks, and will treat any such activity as illegitimate,
    even though there is nothing illegal about port scanning your own server (and
    the port scanning of systems that are not your own is considered by many to be
    a legal grey area, although increasingly being treated as criminal activity in
    itself). Many more reasonable ISPs will make the distinction between port scanning
    your own systems, which you (obviously) have consent to do, and the port scanning
    of others. Some, though, are a little more judgmental (some would employ the use
    of the word illiberal!).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 许多互联网服务提供商对通过其网络进行端口扫描有相当严格的政策，并会将任何此类活动视为非法，即使对自己的服务器进行端口扫描并不违法（而许多人认为对非自己的系统进行端口扫描是法律上的灰色地带，尽管越来越多地被视为犯罪活动）。更为合理的ISP将区分对自己系统进行端口扫描（显然是有同意的）和对他人进行端口扫描。然而，有些则更加武断（有些人会使用不自由这个词！）。
- en: Intensively scanning all traffic for this sort of activity traversing an ISP's
    network is very resource intensive, and ISPs will rarely do this to traffic that
    is not destined for their servers (or high-value systems in general) due to the
    expense required. It is, however, worth checking your ISP's terms and conditions
    and Acceptable Usage Policy before you even think about doing so and putting yourself
    at risk of inconvenience or liability! These are almost always available on the
    ISP's website, or on demand from the ISP.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 对于在ISP网络中传输此类活动进行密集扫描是非常耗费资源的，而且ISP很少会对不是发送到他们服务器（或者一般高价值系统）的流量进行扫描，因为这需要很大的开支。然而，在你考虑这样做并把自己置于不便或责任的风险之前，最好先检查你的ISP的条款和可接受使用政策！这些几乎总是可以在ISP的网站上找到，或者可以向ISP要求提供。
- en: 'As an example, the AUP for BT''s (British Telecom) broadband service (that
    is available at [http://www.abuse-guidance.com/](http://www.abuse-guidance.com/))
    says the following about port scanning:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，BT（英国电信）宽带服务的AUP（可在[http://www.abuse-guidance.com/](http://www.abuse-guidance.com/)上找到）中对端口扫描的规定如下：
- en: '"You *must not run*"port *scanning" software, which accesses remote machines
    or networks, except with the explicit prior permission of the administrator or
    owner of such remote machines or networks. This includes using applications capable
    of scanning the ports of other internet users. […]*'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: “你*不得*运行”端口*扫描“软件，访问远程机器或网络，除非得到这些远程机器或网络的管理员或所有者的明确事先许可。这包括使用能够扫描其他互联网用户端口的应用程序。[...]”
- en: '*If you intend to run a port scanning application, you must provide BT with
    a copy of the written consent received from the target of the scan authorizing
    the activity. This must be supplied to BT prior to the application being run."*'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: “如果你打算运行端口扫描应用程序，你必须向BT提供从扫描目标获得的书面同意的副本，授权该活动。这必须在运行应用程序之前提供给BT。”
- en: This is fairly similar, if a little bureaucratic, to the type of AUP most ISPs
    issue.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这与大多数ISP发布的AUP类型相似，尽管有点官僚主义。
- en: 'An example scan using the scanner Nmap might look something like this:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 使用扫描器Nmap进行的示例扫描可能看起来像这样：
- en: '[PRE0]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: As we can see in this scan, there is one port from the default set of 1663 ports
    that Nmap version 3.81 scans that is open—port 22, or the port that SSH runs on.
    Since this is an unfirewalled Linux host, Nmap can also detect uptime for the
    system (using TCP Timestamping, RFC1323, [http://www.faqs.org/rfcs/rfc1323.html](http://www.faqs.org/rfcs/rfc1323.html)).
    We can also guess when the machine was last rebooted, and based on idiosyncrasies
    pertaining to the way in which the machine has responded to a variety of non-standard
    packets sent to it by Nmap during the scanning process, Nmap performs an **OS
    Fingerprint** (requested through the use of the `-O` flag) on the host, with fairly
    good accuracy.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 从这次扫描中可以看到，Nmap版本3.81默认扫描的1663个端口中有一个是开放的—端口22，也就是SSH运行的端口。由于这是一个没有防火墙的Linux主机，Nmap还可以检测系统的正常运行时间（使用TCP时间戳，RFC1323，[http://www.faqs.org/rfcs/rfc1323.html](http://www.faqs.org/rfcs/rfc1323.html)）。我们还可以猜测机器上次重启的时间，并且基于机器对Nmap在扫描过程中发送的各种非标准数据包的响应方式的特点，Nmap可以对主机进行**操作系统指纹识别**（通过使用`-O`标志请求），准确度相当高。
- en: Nmap is an extremely powerful tool, and one of the most commonly used IT security
    tools on the planet. The (newly rewritten) manual page (man Nmap, or from the
    website — [http://www.insecure.org/nmap/man/](http://www.insecure.org/nmap/man/))
    is not only very informative as to how the tool is to be used, but also as to
    how it works and why.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Nmap是一个非常强大的工具，也是全球最常用的IT安全工具之一。（新编写的）手册页（man Nmap，或者从网站上—[http://www.insecure.org/nmap/man/](http://www.insecure.org/nmap/man/)）不仅非常详细地介绍了工具的使用方法，还介绍了工具的工作原理和原因。
- en: Other scanners that you might want to try, particularly on a Windows platform
    (in which Nmap is somewhat fiddly to install and is frequently prevented from
    working by service packs and patches) include Superscan ([http://www.foundstone.com/index.htm?subnav=resources/navigation.htm&subcontent=/resources/proddesc/superscan.htm](http://www.foundstone.com/index.htm?subnav=resources/navigation.htm&subcontent=/resources/proddesc/superscan.htm)).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能想尝试其他扫描器，特别是在Windows平台上（Nmap在该平台上安装有些麻烦，并且经常被服务包和补丁阻止工作），包括Superscan（[http://www.foundstone.com/index.htm?subnav=resources/navigation.htm&subcontent=/resources/proddesc/superscan.htm](http://www.foundstone.com/index.htm?subnav=resources/navigation.htm&subcontent=/resources/proddesc/superscan.htm)）。
- en: Looking at a default configuration of the IPCop firewall from the internal network
    (i.e. if you port scan your server from the Green zone, or if an employee, child,
    or client connected to a corporate network were to scan the firewall), port 445
    is the only port we will see open.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 从内部网络查看IPCop防火墙的默认配置（即如果您从绿色区域对服务器进行端口扫描，或者如果员工、孩子或客户连接到公司网络进行了防火墙扫描），我们只会看到端口445是开放的。
- en: 'Many port scanners (including Nmap), however, do not scan every port to which
    it is possible to connect on a server as we can see from the preceding scan—Nmap
    scans 1663 *commonly used* ports by default. This is done for two reasons: firstly,
    the less data we send (and receive), the quicker the scan; secondly, the more
    data we send and receive, the more likely the scan is to arise suspicion (or cause
    network problems)—hopefully not a concern for the legitimate user of a tool such
    as Nmap!'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 许多端口扫描器（包括Nmap）并不会扫描服务器上可能连接的每个端口，正如我们从前面的扫描中所看到的—Nmap默认扫描1663个*常用*端口。这样做有两个原因：首先，我们发送（和接收）的数据越少，扫描速度越快；其次，我们发送和接收的数据越多，扫描就越容易引起怀疑（或者引起网络问题）—希望对于Nmap这样的合法用户来说不是一个问题！
- en: Since it is common to scan only well-known ports, therefore, we have a practical
    example of one piece of hardening that has already been carried out—a change in
    port from 443 to 445 (which is not a common services port). This may be "security
    through obscurity" but it is *not a bad thing—apart* from making any connections
    that are made to this port a lot more obvious (they must necessarily come from
    a deliberate connection attempt rather than accidental browsing or an automated
    worm affecting HTTP servers via HTTPS), it genuinely will reduce the effectiveness
    of (subtle) network reconnaissance on the part of an intruder.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 由于通常只扫描众所周知的端口，因此，我们已经实施了一个实际的加固措施的实例—从443端口更改为445端口（这不是一个常见的服务端口）。这可能是“通过混淆来增加安全性”，但这*并不是坏事—除了使对该端口进行的任何连接更加明显（它们必须来自有意的连接尝试，而不是意外浏览或自动蠕虫通过HTTPS影响HTTP服务器），它确实会减少（微妙的）入侵者网络侦察的有效性。
- en: '*Port scanning*, then, enables us to establish *which services are running
    on our firewall* from the internal network.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '*端口扫描*使我们能够从内部网络确定*防火墙上运行的服务*。'
- en: What about externally? Well, port scanning is just as valuable here too (if
    not more so).
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 那么在外部呢？嗯，端口扫描在这里同样有价值（甚至更有价值）。
- en: Port scanning externally allows us to test whether the ports that the Internet
    sees as open on the external interface of our firewall correspond with any port
    forwards or holes that we have opened outside our firewall. For the same reasons
    as port scanning hosts internally, this is an important port of a proactive security
    policy.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 外部端口扫描允许我们测试互联网在我们的防火墙外部接口上看到的开放端口是否与我们在防火墙外打开的任何端口转发或漏洞对应。出于与内部主机端口扫描相同的原因，这是积极的安全策略的重要部分。
- en: Although we can check which ports we are allowing into our network via the IPCop
    GUI, port scanning is another way in which we can verify that our port forwards
    are forwarding to the appropriate place. Ports that we have forwarded to hosts
    inside the network, and which do not show up on a port scan (which are filtered),
    may also be identified in this manner; although we can view which ports are forwarded
    in the web interface, we cannot verify that there is anything to which the ports
    are being forwarded. In a large environment in which we are not aware of all of
    the forwarded ports, this may be one way of identifying unneeded holes (which
    we can remove) in our firewall.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们可以通过IPCop GUI检查我们允许进入网络的端口，但端口扫描是另一种验证我们的端口转发是否转发到适当位置的方法。我们已经转发到网络内部主机的端口，如果在端口扫描中没有显示（被过滤），也可以通过这种方式进行识别；尽管我们可以在Web界面中查看哪些端口被转发，但我们无法验证这些端口被转发到任何地方。在一个大型环境中，我们可能不知道所有转发的端口，这可能是识别防火墙中不需要的漏洞（我们可以删除）的一种方式。
- en: Some websites, such as Sygate's, ([http://scan.sygatetech.com/](http://scan.sygatetech.com/))
    will port scan your host for you automatically (for free) and present you with
    the results via the Web. This is useful if your ISP is restrictive or you don't
    have another computer directly connected to the Internet to scan from!
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 一些网站，如Sygate的([http://scan.sygatetech.com/](http://scan.sygatetech.com/))，将自动（免费）为您的主机进行端口扫描，并通过Web向您呈现结果。如果您的ISP有限制或者您没有另一台直接连接到互联网的计算机进行扫描，这将非常有用！
- en: What is Running on Our Firewall?
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 我们的防火墙上正在运行什么？
- en: In addition to auditing our firewall to see what ports it is listening on, we
    may also routinely audit it in order to identify which processes are running on
    the firewall. There are several packages that can aid us with this.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 除了审计我们的防火墙以查看它正在监听哪些端口之外，我们还可以定期审计它，以确定防火墙上正在运行哪些进程。有几个软件包可以帮助我们完成这项工作。
- en: At the simplest, binutils such as the `ps` command, which lists processes running
    on a system, may be used to ascertain what our system is doing. The `top` command,
    which displays processes in real time and can be used to watch processes on a
    system (such as to monitor unpredictable processes and find out what is causing
    poor performance) may also be used here.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在最简单的情况下，像`ps`命令这样的binutils，可以列出系统上运行的进程，可以用来确定我们的系统在做什么。`top`命令可以实时显示进程，并可用于监视系统上的进程（例如监视不可预测的进程并找出导致性能不佳的原因）。
- en: 'The `ps` command, however, is not ideal for these situations. The prime reason
    for this is: it is very easy for an intruder to replace the `ps` command with
    a version that does not display malicious processes (a collection of tools performing
    tasks such as this for an intruder is commonly referred to as a **rootkit**).
    Another reason for this is that it is fairly time consuming to compare `ps` output,
    and this requires relatively detailed knowledge of processes on a system (and
    many malicious processes may be disguised as legitimate processes even if the
    `ps` output has not been directly altered).'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，`ps`命令并不适合这些情况。主要原因是：入侵者很容易用不显示恶意进程的版本替换`ps`命令（执行此类任务的一组工具通常被称为**rootkit**）。另一个原因是，比较`ps`输出相当耗时，并且需要对系统上的进程有相对详细的了解（即使`ps`输出没有直接被修改，许多恶意进程也可能伪装成合法进程）。
- en: There are, luckily for us, many other applications we can use to prevent, and
    detect, scenarios in which our system has been tampered with. The first of these,
    and one of the older tools used on Unix and Linux systems, is called tripwire
    ([http://sourceforge.net/projects/tripwire](http://sourceforge.net/projects/tripwire)).
    Tripwire is a Host Intrusion Detection System (HIDS), an application that will
    monitor specific files on a system (such as system binaries like `ps`, and configuration
    files). Tripwire does not monitor in real time, but rather seeks to detect such
    changes after the act. Tripwire can alert us to these events both for security
    purposes and others (such as change management or simply part of the normal IT
    Process).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，我们还有许多其他应用程序可以用来预防和检测系统被篡改的情况。其中第一个，也是在Unix和Linux系统上使用的较旧的工具之一，叫做tripwire
    ([http://sourceforge.net/projects/tripwire](http://sourceforge.net/projects/tripwire))。Tripwire是一个主机入侵检测系统（HIDS），它将监视系统上的特定文件（如系统二进制文件如`ps`和配置文件）。Tripwire不是实时监控，而是在事后寻求检测这些更改。Tripwire可以为我们提供这些事件的警报，用于安全目的和其他目的（如变更管理或仅仅是正常的IT流程的一部分）。
- en: Tripwire is an open-source tool, and is available as an addon for IPCop.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: Tripwire是一个开源工具，可以作为IPCop的附加组件使用。
- en: Another useful tool for these scenarios is chkrootkit ([http://www.chkrootkit.org/](http://www.chkrootkit.org/)).
    Like tripwire, chkrootkit inspects files on the system, but chkrootkit is a script
    initiated at user request to scan specifically for files recognized as malicious.
    Although useful to run periodically for verification processes, the old adage
    that prevention is better than cure holds true, and a negative scan by no means
    indicates that a system is clear. As chkrootkit is a script, you can download
    the script using the `wget` command, or upload it to your server using `scp` ([http://www-hep2.fzu.cz/computing/adm/scp.html](http://www-hep2.fzu.cz/computing/adm/scp.html))
    at a command prompt, and run the freshly downloaded copy straight on the server.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些情况的另一个有用工具是chkrootkit ([http://www.chkrootkit.org/](http://www.chkrootkit.org/))。与tripwire一样，chkrootkit检查系统上的文件，但chkrootkit是一个在用户请求时启动的脚本，专门用于扫描被识别为恶意的文件。尽管定期运行以进行验证进程很有用，但预防胜于治疗的古老格言仍然成立，负面扫描并不意味着系统是干净的。由于chkrootkit是一个脚本，您可以使用`wget`命令下载脚本，或者使用`scp`
    ([http://www-hep2.fzu.cz/computing/adm/scp.html](http://www-hep2.fzu.cz/computing/adm/scp.html))将其上传到服务器，并在服务器上直接运行新下载的副本。
- en: Note
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**SCP**'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '**SCP**'
- en: SCP, or Secure CoPy, is a subset of the functionality included with the SSH
    server/client that are included with IPCop. Using the `scp` command at a Unix/Linux
    command prompt, or a tool such as WinSCP ([http://winscp.sourceforge.net](http://winscp.sourceforge.net))
    on Windows, you can access the filing system on your IPCop system and manipulate
    the filing system remotely. Although extremely useful, `scp` is easy to manipulate
    for nefarious purposes, and as such, shell access should be carefully guarded
    and protected.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: SCP，或安全复制，是包含在IPCop中的SSH服务器/客户端的功能的子集。在Unix/Linux命令提示符下使用`scp`命令，或在Windows上使用诸如WinSCP（[http://winscp.sourceforge.net](http://winscp.sourceforge.net)）之类的工具，您可以访问IPCop系统上的文件系统并远程操作文件系统。尽管非常有用，但`scp`很容易被用于不良目的，因此应谨慎保护和保护shell访问。
- en: Advanced Hardening
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级加固
- en: By this point, we are aware of two large changes we can make to our operations
    and setup of IPCop, to make it more secure. The first, auditing open ports, allows
    us to cut down the exposure that our firewalls and systems have to the Internet.
    The second, utilizing some form of intrusion detection or after-the-fact scanning
    system such as tripwire and chkrootkit, gives us a higher chance of detecting
    anyone who does happen to break through our defenses.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经意识到可以对IPCop的操作和设置进行两个重大改变，以使其更加安全。首先，审计开放端口，使我们能够减少防火墙和系统对互联网的暴露。其次，利用某种形式的入侵检测或事后扫描系统，如tripwire和chkrootkit，使我们更有可能检测到任何突破我们防御的人。
- en: Hardening our host, however, is a lot more comprehensive a task than simply
    installing a service or running some port scanning software. Maintaining a hardened
    system involves removing any functionality that we don't need as well as making
    well thought-out changes to our system's security. IPCop is already considerably
    hardened in this respect, making it considerably securer than a default Linux
    installation of any of the major distributions. Some of the steps that have been
    made to make IPCop more secure include the following.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，加固我们的主机远不止是安装服务或运行一些端口扫描软件这么简单。保持加固系统涉及删除我们不需要的任何功能，以及对系统安全进行深思熟虑的更改。在这方面，IPCop已经得到了相当大的加固，使其比任何主要发行版的默认Linux安装都更加安全。为了使IPCop更加安全，已经采取了一些步骤，包括以下内容。
- en: Stack-Smashing Protector (Propolice)
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 堆栈破坏保护程序（Propolice）
- en: '**Stack-Smashing Protector** (**SSP**) ([http://www.research.ibm.com/trl/projects/security/ssp/](http://www.research.ibm.com/trl/projects/security/ssp/))
    is a patchset for the GCC Compiler, used to create the binary executable files
    that constitute software in IPCop and many other open-source applications, developed
    by Hiroaki Etoh of IBM. SSP helps to protect exploits in computer software that
    manipulate the *stack*, an area to which data is added and removed, such as buffer
    overrun attacks.'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**堆栈破坏保护程序**（**SSP**）（[http://www.research.ibm.com/trl/projects/security/ssp/](http://www.research.ibm.com/trl/projects/security/ssp/)）是用于创建IPCop和许多其他开源应用程序中的二进制可执行文件的GCC编译器的补丁集，由IBM的Hiroaki
    Etoh开发。SSP有助于保护计算机软件中操纵*堆栈*的漏洞，堆栈是添加和删除数据的区域，如缓冲区溢出攻击。'
- en: In a **buffer overrun** attack, an attacker may exploit a bug in a piece of
    software to write data to areas of memory that are adjacent to an area of memory
    assigned to that data (such as a heap or a stack). When this situation exists,
    a malicious application may be written in order to allow an attacker to run his
    or her own (malicious) code on a system, generally compromising security.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在**缓冲区溢出**攻击中，攻击者可能利用软件中的漏洞将数据写入与分配给该数据的内存区域相邻的内存区域（如堆或堆栈）。当存在这种情况时，可能编写恶意应用程序以允许攻击者在系统上运行自己的（恶意）代码，从而一般会破坏安全性。
- en: SSP protects against attacks on the stack by verifying that the stack is not
    altered, and causing any application in which this occurs to **segmentation fault**,
    and exit. All software on IPCop, which is compiled with this feature, therefore,
    is afforded some protection against certain sorts of attack commonly used to exploit
    systems.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: SSP通过验证堆栈是否被篡改来保护堆栈免受攻击，并导致发生这种情况的任何应用程序出现**分段错误**并退出。因此，在IPCop上编译了这一功能的所有软件都受到一定程度的保护，以防止常用于利用系统的某些攻击类型。
- en: Service Hardening
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 服务加固
- en: IPCop has unnecessary services removed by default—many operating systems, including
    widely deployed versions of Linux and older versions of the Windows operating
    systems, run many services that are unnecessary to normal operations. Common examples
    of these include web servers such as IIS server on Windows and the Apache server
    on Windows or Linux, or processes such as finger, nfs, portmap, telnet, etc.,
    which are not used in the majority of deployments.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop默认删除了不必要的服务-许多操作系统，包括广泛部署的Linux版本和旧版本的Windows操作系统，运行了许多不必要的服务，这些服务对正常运行是不必要的。这些常见的例子包括Windows上的IIS服务器和Linux上的Apache服务器等Web服务器，以及在大多数部署中不使用的进程，如finger、nfs、portmap、telnet等。
- en: As each one of these processes carries a risk of an exploit such as a buffer
    overflow being used to break into the system, each service that is eliminated
    closes another door for a potential intrusion. An intrusion may vary from a worm
    such as the Code Red worm (which exploited a buffer overflow in the IIS web server)
    in 2001 or Slapper worm (which exploited a buffer overflow in the OpenSSL handshake
    process to compromise the Apache web server) in 2002, all of the way through to
    a more precise attack by a malicious intruder.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 由于每个这些进程都存在利用缓冲区溢出等漏洞来入侵系统的风险，因此消除的每个服务都关闭了潜在入侵的另一扇门。入侵可能是从2001年利用IIS Web服务器中的缓冲区溢出的Code
    Red蠕虫，到2002年利用OpenSSL握手过程中的缓冲区溢出来威胁Apache Web服务器的Slapper蠕虫，一直到恶意入侵者进行更精确的攻击。
- en: If we do not need services such as SSH or Squid that are included with IPCop,
    or services installed via addons, then, best practice is not to enable them, and
    preferably to remove them from the system entirely. Although services like SSH
    and Apache, which are commonly exposed to the Internet, carry less risk than services
    less commonly exposed, such as Squid, any service not required should as a matter
    of course be removed.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们不需要包括SSH或Squid在内的IPCop提供的服务，或者通过附加组件安装的服务，最好的做法是不启用它们，并最好将它们从系统中完全删除。虽然像SSH和Apache这样的服务通常暴露在互联网上，比起像Squid这样不常暴露的服务，风险要小一些，但任何不需要的服务都应该被移除。
- en: Logfiles and Monitoring Usage
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 日志文件和监控使用
- en: As part of good security management, it is important to retain the capacity
    to notice trends in behavior and usage of information systems, which allow us
    to notice changes proactively. A change in usage of a proxy server, memory usage,
    or CPU load may indicate something innocuous, such as a rise in user activity
    or a need for upgraded hardware, a hardware fault, or even malicious activity.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 作为良好安全管理的一部分，保留注意行为和信息系统使用趋势的能力非常重要，这使我们能够主动注意到变化。代理服务器使用、内存使用或CPU负载的变化可能表明一些无害的事情，比如用户活动增加或需要升级硬件、硬件故障，甚至是恶意活动。
- en: Establishing a Baseline with Graphs
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过图表建立基线
- en: It is important, therefore, to establish a *baseline* for how our server behaves
    in order to be able to identify when a particular piece of behavior is out of
    the ordinary. IPCop aids us greatly here by providing us with graphical tools
    to monitor (and graph) statistics such as proxy connections and CPU usage. It
    is important for the security of your host that you regularly review these and
    account for any major blips or alterations in behavior.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，建立服务器行为的*基线*是非常重要的，以便能够识别特定行为何时变得不寻常。IPCop通过提供图形工具来监视（和绘制）代理连接和CPU使用率等统计数据，极大地帮助了我们。定期审查这些数据并解释任何主要的突变或行为变化对于您的主机的安全非常重要。
- en: The authors have been aware of several situations in which systems have been
    compromised and used for malicious purposes, and in which traffic monitoring on
    routers upstream from the systems have indicated a rise in traffic. The resulting
    investigation has subsequently uncovered the malicious activity, and resulted
    in the servers being shut down and cleansed.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 作者已经意识到了几种情况，其中系统已被入侵并用于恶意目的，并且在系统上游路由器的流量监控表明流量增加。随后的调查随后揭示了恶意活动，并导致服务器被关闭和清理。
- en: Logfiles
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 日志文件
- en: Logfiles are another important part of security management and another frequent
    indication of malicious activity. It is important for administrators to read through
    their logfiles and, again, establish a baseline for events produced by their server.
    Logfiles such as the Apache web server logs and the `/var/log/auth.log` file,
    which stores authentication events, are very significant and often provide invaluable
    information about attempts to break into a system, guess passwords, or gather
    information on a system. This might include attempts to use brute force to discover
    usernames and passwords via an SSH server or an HTTP server such as the IPCop
    management interface.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 日志文件是安全管理的另一个重要部分，也是恶意活动的常见指示。管理员需要阅读他们的日志文件，并建立服务器产生事件的基线。例如Apache web服务器日志和`/var/log/auth.log`文件存储了认证事件，这些日志非常重要，通常提供有关尝试入侵系统、猜测密码或收集系统信息的宝贵信息。这可能包括尝试通过SSH服务器或IPCop管理界面等HTTP服务器使用暴力破解来发现用户名和密码。
- en: Note
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Auditing SSH Log Events**'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**审计SSH日志事件**'
- en: As a result of malicious worms online, crude brute force attempts to log into
    SSH servers on the default port of 22 are a very common part of life online. Virtually
    any SSH server connected to the Internet will most likely have large numbers of
    log events generated with common system accounts such as root and admin being
    unsuccessfully logged into. These are relatively normal, and make a compelling
    argument for moving SSH to an alternative port (as IPCop does by default) in order
    to be able to distinguish between attempts like these and genuine break in attempts.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 由于恶意蠕虫在线，对默认端口22的SSH服务器进行粗暴的暴力破解尝试是在线生活中非常常见的一部分。几乎任何连接到互联网的SSH服务器都很可能生成大量的日志事件，例如尝试使用root和admin等常见系统帐户登录失败。这些是相对正常的，并且有力地证明了将SSH移动到替代端口（IPCop默认情况下）以区分这样的尝试和真正的入侵尝试是有道理的。
- en: 'An example of logs from `/var/log/auth.log` caused by a brute force attempt
    on an SSH server might look like this:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '`/var/log/auth.log`中由SSH服务器上的暴力破解尝试引起的日志示例可能如下所示：'
- en: '[PRE1]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Logfiles are generally relatively self-explanatory, and in cases where this
    is not true, documentation for the packages in question (such as OpenVPN ([http://www.openvpn.net](http://www.openvpn.net)),
    OpenSSH ([http://www.openssh.com](http://www.openssh.com)), and the Apache web
    server ([http://www.apache.org](http://www.apache.org))) is often extremely good.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 日志文件通常相对容易理解，而在这不成立的情况下，相关软件的文档（如OpenVPN ([http://www.openvpn.net](http://www.openvpn.net))、OpenSSH
    ([http://www.openssh.com](http://www.openssh.com))和Apache web服务器 ([http://www.apache.org](http://www.apache.org))）通常非常好。
- en: Usage and Denial of Service
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用和拒绝服务
- en: Not all security risks stem from the compromise of software and credentials.
    Many security risks commonly referred to as **Denial of Service**, or **DoS**,
    attacks, affect the quality of service offered by a computer system, and can be
    just as damaging as a system compromise. If your firewall is down and you cannot
    send email to a customer to confirm a business deal, the loss of revenue could
    be greater than if your firewall were compromised and the intruder knew about
    the deal.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 并非所有安全风险都源自软件和凭据的妥协。许多安全风险通常被称为**拒绝服务**或**DoS**攻击，影响计算机系统提供的服务质量，可能与系统妥协一样具有破坏性。如果您的防火墙关闭，无法向客户发送电子邮件确认业务交易，那么收入损失可能会大于如果您的防火墙被入侵者知晓交易的情况。
- en: It is extremely important for the security of our systems to ensure that the
    hardware they run on is adequate, and therefore performance monitoring, as mentioned
    during[Chapter 5](ch05.html "Chapter 5. Basic IPCop Usage"), should be carried
    out regularly, and unusual activity, such as high network or CPU usage, should
    be accounted for. Such administration forms an important part of making sure that
    our firewall is not only secured against simple attacks, but is also resilient
    both against DoS attacks and surges in usage.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 确保我们系统的安全性的一个极其重要的方面是确保它们运行的硬件是足够的，因此性能监控，如[第5章](ch05.html "第5章。基本IPCop使用")中提到的，应该定期进行，并且应该对异常活动，如高网络或CPU使用率，进行核算。这样的管理是确保我们的防火墙不仅对简单攻击进行了保护，而且还能够抵御DoS攻击和使用量激增的重要部分。
- en: If one performance counter (or several) appears to be unusually high or has
    recently spiked, there are several things we can do to troubleshoot the problem.
    It is possible, particularly if our hardware is of lower specification (a Pentium
    II or less) and our network is relatively fast (five Mbit or faster) that the
    machine is simply under load—use of the IDS (Snort) or proxy server (Squid) will
    increase the load on the processor and increase memory usage.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一个性能计数器（或多个）出现异常高或最近急剧上升，我们可以做一些事情来排除问题。可能是，特别是如果我们的硬件规格较低（Pentium II或更低）而我们的网络相对较快（五Mbit或更快），那么机器可能只是负载过重—使用IDS（Snort）或代理服务器（Squid）将增加处理器的负载和内存使用。
- en: CPU and Memory Usage
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: CPU和内存使用情况
- en: The first thing we can look at if CPU usage is high is which application is
    using the CPU! Although there isn't much useful diagnostic information for this
    via the web GUI, we can fortunately use the `top` utility to view which processes
    are running on our system, along with statistics such as the percentage of memory
    and CPU time that they are using.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 如果CPU使用率很高，我们可以首先查看哪个应用程序正在使用CPU！虽然通过Web GUI没有太多有用的诊断信息，但幸运的是我们可以使用`top`实用程序来查看系统上正在运行的进程，以及它们正在使用的内存和CPU时间的百分比等统计信息。
- en: '![CPU and Memory Usage](img/1361_10_01.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![CPU和内存使用情况](img/1361_10_01.jpg)'
- en: Although it may look a little intimidating, the output from the `top` command
    is fairly logical, and updates dynamically as you are looking at it. The `top`
    output above is from a clean IPCop 1.4.10 system (with no proxy server or IDS
    configured), and most of the processes listed are self-explanatory.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然看起来可能有点吓人，但`top`命令的输出相当合乎逻辑，并且在您查看时会动态更新。上面的`top`输出来自一个干净的IPCop 1.4.10系统（没有配置代理服务器或IDS），大多数列出的进程都是不言自明的。
- en: Processes beginning with the letter `k` are all (in this example) kernel processes.
    `sshd`, unsurprisingly, is the SSH server process (the `d` stands for **Daemon**,
    which in Unix and Linux terminology essentially means server process). The `httpd`
    is what provides us with the HTTP-based GUI; `dnsmasq` is both a DNS and DHCP
    server. `syslogd` keeps system logs, and `mingetty` and `bash` are all processes
    that handle and provide the text-based console.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 以字母`k`开头的进程都是（在本例中）内核进程。`sshd`，毫不奇怪，是SSH服务器进程（`d`代表**守护进程**，在Unix和Linux术语中基本上意味着服务器进程）。`httpd`是提供基于HTTP的GUI的进程；`dnsmasq`既是DNS又是DHCP服务器。`syslogd`保留系统日志，`mingetty`和`bash`都是处理和提供基于文本的控制台的进程。
- en: In this instance, there is very little CPU usage—**99.6% idle**, and **0.4%**
    of actual usage is thanks to `top` alone! We can take it, then, that there are
    no performance-related problems with this system (or that they're so pervasive
    that `top` itself is affected and giving phony output—this would be highly unlikely
    unless the system had been compromised and `top` itself replaced by an attacker).
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，CPU使用率非常低—**99.6%空闲**，**0.4%**的实际使用率仅归功于`top`！因此，我们可以得出结论，这个系统没有性能相关的问题（或者它们是如此普遍，以至于`top`本身受到影响并提供虚假输出—这几乎是不可能的，除非系统已被入侵，`top`本身被攻击者替换）。
- en: In the following example, we can see that there is **29.7%** CPU usage—there
    is a second root logon (a new `bash` and `sshd` process will appear for each user
    logged on via SSH), responsible for running the `grep` command (which looks for
    a specific piece of text in a file, or large number of files), which is using
    a lot of CPU time (and probably a lot of disk time as well). This is a second
    logon for the purpose of this example, and the `grep` command being run (which
    will consume CPU time and use the disk, but shouldn't break anything) was `grep
    -r * foo`, run from the root of the filing system ( `cd/` at a command line).
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在下面的例子中，我们可以看到CPU使用率为**29.7%**—有第二个root登录（通过SSH登录的每个用户将会出现一个新的`bash`和`sshd`进程），负责运行`grep`命令（在文件或大量文件中查找特定的文本），这个命令使用了大量的CPU时间（可能也使用了大量的磁盘时间）。这是本例中的第二次登录，运行的`grep`命令（它将消耗CPU时间并使用磁盘，但不应该破坏任何东西）是从文件系统的根目录运行的（在命令行中`cd/`）。
- en: '![CPU and Memory Usage](img/1361_10_02.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![CPU和内存使用情况](img/1361_10_02.jpg)'
- en: It is a good idea to know which processes are running on your system. Although
    many intrusions will involve replacements of binary files such as those that run
    `ps` and `top`, it is often the case that a break in that does not have root (administrator)
    access to the system will have processes running that are visible via `ps` or
    `top`. Invisible processes, or modified versions of binary files such as `ps`
    and `top`, may be detected by applications such as chkrootkit.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 了解系统上正在运行的进程是一个好主意。虽然许多入侵行为将涉及替换二进制文件，比如运行`ps`和`top`的文件，但通常情况下，即使入侵者没有对系统进行root（管理员）访问，也会有通过`ps`或`top`可见的正在运行的进程。不可见的进程，或者像`ps`和`top`这样的二进制文件的修改版本，可能会被chkrootkit等应用程序检测到。
- en: If your Squid proxy, HTTP server, or another process was heavily using CPU or
    memory, you might have an issue with it (or potentially, an attacker) requiring
    attention. We can also use the `ps` command to list processes running on the system,
    although the `ps` command included in IPCop is part of the busybox toolkit, which
    is less powerful than the *real* (binutils version) `ps` included with most Linux
    systems.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的Squid代理、HTTP服务器或其他进程大量使用CPU或内存，您可能会遇到需要关注的问题（或者可能是攻击者）。我们还可以使用`ps`命令列出系统上运行的进程，尽管IPCop中包含的`ps`命令是busybox工具包的一部分，比大多数Linux系统中包含的*真正*（binutils版本）`ps`命令功能更弱。
- en: Logged-In Users
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 已登录用户
- en: 'We can view users logged in via SSH using the `w` command as shown in the following
    figure:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用`w`命令查看通过SSH登录的用户，如下图所示：
- en: '![Logged-In Users](img/1361_10_03.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: '![已登录用户](img/1361_10_03.jpg)'
- en: 'As we can see, there are three instances of the `root` user logged in: the
    first, on `tty1`, is logged into the physical terminal on the IPCop host itself,
    while the `pts/0` and `pts/1` terminals are both virtual terminals, accessed via
    SSH. The **WHAT** column indicates which process the user is currently interactively
    running—in the second session, `w` (w will detect itself running while enumerating
    processes running on the system), while both other sessions are at `bash`, which
    is the name of the command line itself (i.e. the other two users are either idle,
    or typing at the command line without having a specific application in the `foreground`).'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所看到的，有三个`root`用户登录的实例：第一个在`tty1`上，登录到IPCop主机本身的物理终端上，而`pts/0`和`pts/1`终端都是虚拟终端，通过SSH访问。**WHAT**列显示用户当前交互运行的进程——在第二个会话中，是`w`（w将在枚举系统上运行的进程时检测到自身在运行），而其他两个会话都在`bash`，这是命令行本身的名称（即另外两个用户要么处于空闲状态，要么在命令行上输入而没有特定的应用程序在`前台`）。
- en: Mastery of administration of a Linux system is complex, but there are several
    simple tools that IPCop comes with, such as `top, ps, w, netstat`, and `route`,
    which can show us (respectively) live and snapshotted process information, logged-in
    users, network connections, and the routing table. Knowledge of these and some
    basic understanding of networking and the architecture of the Linux operating
    system will get us a long way in diagnosing problems, analyzing intrusions, and
    resolving performance issues.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: Linux系统管理的掌握是复杂的，但IPCop配备了一些简单的工具，如`top, ps, w, netstat`和`route`，它们可以分别显示实时和快照的进程信息、已登录用户、网络连接和路由表。对这些工具的了解以及对网络和Linux操作系统架构的基本理解将在诊断问题、分析入侵和解决性能问题方面帮助我们很多。
- en: Other Security Analysis Tools
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 其他安全分析工具
- en: There are many other tools besides those that we have mentioned that help us
    to analyse the state of our firewall and look for security holes. Many smaller
    utilities such as Nmap have a very specific purpose, while some tools are broader
    in scope. Nessus, a security scanner, is worthy of particular attention due to
    the scope of usage that it has. Nessus collates a number of different security
    holes together, and has the ability to look for these holes on one host, or across
    an entire network.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 除了我们提到的工具之外，还有许多其他工具可以帮助我们分析防火墙的状态并寻找安全漏洞。许多较小的实用程序，如Nmap，具有非常具体的目的，而一些工具的范围更广。作为一个安全扫描程序，Nessus由于其使用范围而值得特别关注。Nessus汇总了许多不同的安全漏洞，并有能力在一个主机或整个网络上寻找这些漏洞。
- en: Some of the holes that Nessus will report may be false positives, and Nessus
    may be unsure in these cases whether a particular, insecure, configuration is
    present. Alternatively, the false positive may be an enabled feature that *should*
    be disabled, but is instead in use. Either way, Nessus, while useful, is a tool
    that is worth using with care, particularly on a system such as IPCop, which is
    carefully engineered not to be maintained in quite a normal way.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: Nessus报告的一些漏洞可能是误报，而在这些情况下，Nessus可能不确定是否存在特定的不安全配置。或者，误报可能是一个应该被禁用的已启用功能，但实际上正在使用。无论哪种情况，Nessus虽然有用，但是需要谨慎使用，特别是在像IPCop这样的系统上，它被精心设计成不以相当正常的方式进行维护。
- en: Nevertheless, on your IPCop system as well as other systems (such as servers,
    workstations, printers, switches, and wireless access points), Nessus is capable
    of picking up a wide variety of security holes and common misconfigurations. Read
    more about Nessus at [http://www.nessus.org/](http://www.nessus.org/).
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，在您的IPCop系统以及其他系统（如服务器、工作站、打印机、交换机和无线接入点）上，Nessus能够发现各种各样的安全漏洞和常见的配置错误。在[http://www.nessus.org/](http://www.nessus.org/)了解更多关于Nessus的信息。
- en: Where to Go Next?
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下一步去哪里？
- en: It can seem like you're living in a vacuum, unable to get assistance with issues
    like security, and without enough information to further your understanding of
    the topics. Luckily, this is not the case, and there are many resources online
    with large amounts of information on topics pertaining to security. Some of the
    good examples have been mentioned here.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 你可能觉得自己生活在一个真空中，无法获得有关安全等问题的帮助，也没有足够的信息来进一步了解这些话题。幸运的是，情况并非如此，在线资源中有大量关于安全话题的信息。这里已经提到了一些很好的例子。
- en: Full-Disclosure
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Full-Disclosure
- en: If there were ever a center for the online security community, you could make
    a very compelling case that it was Full-Disclosure.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 如果有一个在线安全社区的中心，你可以很有说服力地认为它是Full-Disclosure。
- en: Started in response to other, moderated, mailing lists in which information
    was not freely available and censorship was a routine part of online discussions
    about security, the concept of Full-Disclosure promotes the complete availability
    of information, and as the name of the list implies, the mailing list promotes
    these ideals.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 作为对其他经过审查的邮件列表的回应，这些列表中的信息并不是自由可得的，审查是在线安全讨论的例行部分，Full-Disclosure的概念提倡信息的完全可得性，正如列表的名称所暗示的那样，邮件列表提倡这些理念。
- en: In accordance with these principles, then, the list is completely unmoderated
    (apart from rare instances of highly antisocial behavior such as spamming or repeated
    and distasteful offensiveness) and promotes full availability of information about
    security. Full-Disclosure is a busy list populated by people from all walks of
    the security community. More information is available from the Full-Disclosure
    charter at [http://lists.grok.org.uk/full-disclosure-charter.html](http://lists.grok.org.uk/full-disclosure-charter.html).
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，根据这些原则，该列表完全没有经过审查（除了极少数高度反社会行为，如垃圾邮件或重复且令人不快的冒犯行为），并且促进了有关安全的所有信息的全面可用性。Full-Disclosure是一个繁忙的列表，由来自安全社区各个领域的人员组成。有关Full-Disclosure宪章的更多信息，请访问[http://lists.grok.org.uk/full-disclosure-charter.html](http://lists.grok.org.uk/full-disclosure-charter.html)。
- en: Wikipedia
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 维基百科
- en: Although Wikipedia is not generally thought of as a security-specific information
    source, many of the articles on technical topics such as TCP/IP, firewalls, and
    computer security are extremely good, and the computer security article makes
    a great starting place, as it has links to Wikipedia articles and third-party
    resources that are extremely comprehensive (see [http://en.wikipedia.org/wiki/Computer_security](http://en.wikipedia.org/wiki/Computer_security)).
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管维基百科通常不被视为安全专用信息来源，但许多有关技术主题如TCP/IP、防火墙和计算机安全的文章都非常好，而计算机安全文章是一个很好的起点，因为它链接到了维基百科文章和非常全面的第三方资源（参见[http://en.wikipedia.org/wiki/Computer_security](http://en.wikipedia.org/wiki/Computer_security)）。
- en: SecurityFocus
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SecurityFocus
- en: Although not vendor-neutral (SecurityFocus is owned by AntiVirus vendor Symantec),
    SecurityFocus is a good portal site with many good articles written by knowledgeable
    contributors. SecurityFocus is also the home of many good mailing lists, including
    the well-known Bugtraq (see [http://www.securityfocus.com](http://www.securityfocus.com)).
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管不是供应商中立（SecurityFocus归杀毒软件供应商赛门铁克所有），SecurityFocus是一个很好的门户网站，有许多由知识渊博的贡献者撰写的好文章。SecurityFocus也是许多好的邮件列表的主页，包括著名的Bugtraq（请参见[http://www.securityfocus.com](http://www.securityfocus.com)）。
- en: Literature
  id: totrans-125
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文学
- en: 'There are many good books about security, on a wide range of topics. Some of
    these are very broad and go out of date very quickly, while some cover extremely
    detailed topics. A very random selection of (relatively) well-regarded books on
    different topics is:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多关于安全的好书，涵盖了广泛的主题。其中一些非常广泛，很快就会过时，而一些则涵盖了极为详细的主题。关于不同主题的（相对）备受推崇的书籍的随机选择如下：
- en: '*Counter Hack Reloaded: A Step-by-Step Guide to Computer Attacks and Effective
    Defenses, ISBN 0-13-148104-5*'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '*Counter Hack Reloaded: A Step-by-Step Guide to Computer Attacks and Effective
    Defenses, ISBN 0-13-148104-5*'
- en: This highly acclaimed book from Ed Skoudis and Tom Liston represents a fairly
    comprehensive overview of computer security, starting out with networking, covering
    operating system security in both Unix and Windows environments, network reconnaissance,
    software flaws, and a variety of attacks and hacking techniques. This is a good,
    serious, approachably technical introduction to security.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 这本由Ed Skoudis和Tom Liston撰写的备受赞誉的书籍代表了对计算机安全的相当全面的概述，从网络开始，涵盖了Unix和Windows环境中的操作系统安全，网络侦察，软件缺陷以及各种攻击和黑客技术。这是一本很好的、严肃的、易于理解的技术性安全入门读物。
- en: '*The Art of Deception: Controlling the Human Element of Security, ISBN 0-47-123712-4*'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: '*The Art of Deception: Controlling the Human Element of Security, ISBN 0-47-123712-4*'
- en: This less technical book by Kevin Mitnick covers the topic of Social Engineering,
    the breaking of computer systems by manipulating people. This involves telephone
    calls, masquerading as a staff member, pretending to be from a utility company,
    or even bribery, to gain physical and logical access to computer systems and information
    about them.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 这本由Kevin Mitnick撰写的非技术性书籍涵盖了社会工程学的主题，即通过操纵人来破坏计算机系统。这包括电话呼叫、冒充员工、假装来自公用事业公司，甚至贿赂，以获取对计算机系统的物理和逻辑访问以及有关它们的信息。
- en: '*Hacking Exposed 5th Edition, ISBN 0-07-226081-5*'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '*Hacking Exposed 5th Edition, ISBN 0-07-226081-5*'
- en: This relatively technical book in its fifth edition represents a broad view
    of hacking with relevance to a number of different technologies. Although it has
    a slightly sensational cover and demeanor, and it will not teach you all you need
    to know about hacking or computer security overnight, it does cover some of the
    fundamental topics in security as well as demonstrate, practically, how computers
    are compromised, and is not a bad starter for someone new to security.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这本第五版的相对技术性书籍代表了对多种不同技术的黑客行为的广泛观点。尽管它的封面和态度稍微有些耸人听闻，它不会在一夜之间教会你所有关于黑客或计算机安全的知识，但它确实涵盖了一些安全领域的基本主题，并且实际上演示了计算机是如何被破坏的，对于新手来说是一个不错的起点。
- en: '*TCP/IP Illustrated 3 Volume Set, ISBN 0-20-177631-6*'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: '*TCP/IP Illustrated 3 Volume Set, ISBN 0-20-177631-6*'
- en: This classic book by Richard W. Stevens is often touted as *the* book on TCP/IP
    Networking, and is an excellent (if highly technical, at points) primer on how
    TCP/IP works. Along with the IBM redbook mentioned in[Chapter 7](ch07.html "Chapter 7. Virtual
    Private Networks") on networking, this is well worth reading for anyone interested
    in security, as (particularly with respect to firewalls) the understanding of
    how networking works is critical to your understanding of security on networked
    computer systems.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 这本由Richard W. Stevens撰写的经典书籍经常被誉为TCP/IP网络的*the*书籍，并且是关于TCP/IP工作原理的极好（尽管在某些地方非常技术性）的入门读物。除了在网络章节中提到的IBM红皮书[第7章](ch07.html
    "Chapter 7. Virtual Private Networks")之外，对于任何对安全感兴趣的人来说，这都是值得一读的，因为（特别是关于防火墙）了解网络工作原理对于理解网络计算机系统的安全至关重要。
- en: '*Linux Server Security, Second Edition, ISBN 0-59-600670-5*'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '*Linux Server Security, Second Edition, ISBN 0-59-600670-5*'
- en: This relatively technical book is an excellent primer on—as the name implies—Linux
    server security, from filing system permissions and database security to iptables.
    It is well worth reading for anyone interested in running Linux servers.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 这本相对技术性的书籍是关于Linux服务器安全的极好入门读物，从文件系统权限和数据库安全到iptables。对于任何对运行Linux服务器感兴趣的人来说，这都是值得一读的。
- en: '*The Tao of Network Security Monitoring: Beyond Intrusion Detection, ISBN 0-32-124677-2*'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '*《网络安全监控之道：超越入侵检测》，ISBN 0-32-124677-2*'
- en: This relatively technical book written by Richard Bejtlich, the founder of a
    security company, covers not only the flaws of traditional intrusion detection,
    but also many skills important to a network, security, or firewall administrator,
    such as the use of `tcpdump` and IDS analysis tools.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这本由安全公司创始人Richard Bejtlich撰写的相对技术性的书籍不仅涵盖了传统入侵检测的缺陷，还涵盖了对网络、安全或防火墙管理员至关重要的许多技能，比如使用`tcpdump`和IDS分析工具。
- en: Summary
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: More than anything, the most important skill to master in securing (or just
    administering) any computer system is the ability to find what information you
    need when you need it, in as short a space of time as possible. More often than
    not, this information is available online—if you know where to look—and books
    like these often prime you with enough knowledge that you can go off and learn
    about more complex topics yourself. Sites similar to the ones we've mentioned
    before, such as Wikipedia and SecurityFocus, and mailing lists like Full-Disclosure
    and the SecurityFocus mailing lists make excellent starting points and sport a
    very broad selection of users and types of content posted on a daily basis.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的技能不是掌握如何保护（或仅仅管理）任何计算机系统，而是在需要时能够尽可能短的时间内找到所需信息的能力。往往这些信息是可以在线获取的——如果你知道去哪里找——而且像这样的书籍通常会为你提供足够的知识，让你能够自行学习更复杂的主题。类似于我们之前提到的网站，比如维基百科和SecurityFocus，以及Full-Disclosure和SecurityFocus邮件列表等邮件列表，都是很好的起点，每天都会发布广泛的用户和内容类型。
- en: Even if you don't become a regular user or poster, it is worth subscribing to
    Full-Disclosure for a month or two if you're even vaguely serious about security!
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 即使你不成为常规用户或发帖者，如果你对安全有丝毫认真的话，订阅Full-Disclosure一个月或两个月是值得的！
- en: We have reviewed some common attitudes towards security, reviewed some of the
    security measures IPCop provides, and some security measures we can take, both
    technical and operational, as well as provided some starting points for interested
    readers to learn more about security.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经审查了一些常见的安全态度，审查了IPCop提供的一些安全措施，以及我们可以采取的一些技术和操作安全措施，并为感兴趣的读者提供了一些学习更多安全知识的起点。
- en: Computer security is an enjoyable, complex, high profile, and somewhat fashionable
    topic, making it highly compelling as a source for further study!
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 计算机安全是一个令人愉快、复杂、备受关注且颇具时尚感的话题，因此作为进一步研究的来源非常具有吸引力！
