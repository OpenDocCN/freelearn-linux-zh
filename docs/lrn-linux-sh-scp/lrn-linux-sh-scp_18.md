# 第十八章：评估

# 第二章

1.  运行虚拟机相对于裸金属安装有哪些优点？

+   虚拟机可以在当前首选操作系统内运行，而不是替换它或设置复杂的双引导解决方案。

+   虚拟机可以进行快照，这意味着整个机器的状态被保留并可以恢复。

+   许多不同的操作系统可以同时在一台机器上运行。

1.  运行虚拟机与裸金属安装相比有哪些缺点？

+   虚拟化会带来一些开销。

+   与运行裸金属安装相比，将始终使用更多资源（CPU/RAM/磁盘）。

1.  Type-1 和 Type-2 hypervisor 之间有什么区别？

Type-1 hypervisors 直接安装在物理机器上（例如 VMWare vSphere，KVM，Xen），而 Type-2 hypervisors 安装在已运行的操作系统中（例如 VirtualBox，VMWare Workstation Player）。

1.  我们可以用哪两种方式在 VirtualBox 上启动虚拟机？

+   通常，它会打开一个新窗口，其中包含终端控制台（或 GUI，如果安装了桌面环境）。

+   无头模式，将虚拟机作为服务器运行，没有 GUI。

1.  Ubuntu LTS 版本有什么特别之处？

LTS 代表长期支持。Ubuntu LTS 版本保证更新五年，而常规 Ubuntu 版本只有九个月。

1.  如果在 Ubuntu 安装后，虚拟机再次引导到 Ubuntu 安装屏幕，我们应该怎么办？

我们应该检查虚拟硬盘是否比光驱在引导顺序中更高，或者卸载光盘驱动器上的 ISO，以便只有虚拟硬盘是有效的引导目标。

1.  如果在安装过程中意外重启，并且最终没有进入 Ubuntu 安装界面（而是看到错误），我们应该怎么办？我们应该确保光盘驱动器在引导顺序中高于虚拟硬盘，并且需要确保 ISO 已挂载到光盘驱动器上。

1.  我们为什么要为虚拟机设置 NAT 转发？

因此，我们不仅限于使用终端控制台，而是可以使用更丰富的 SSH 工具，如 PuTTY 或 MobaXterm。

# 第三章

1.  为什么语法高亮是文本编辑器的重要特性？它通过使用颜色来轻松发现语法错误。

1.  我们如何扩展 Atom 已提供的功能？我们可以安装额外的包，甚至编写自己的包。

1.  编写 shell 脚本时，自动完成的好处是什么？

+   它减少了输入，特别是对于多行结构。

+   这样更容易找到命令。

1.  我们如何描述 Vim 和 GNU nano 之间的区别？Nano 简单，Vim 强大。

1.  Vim 中最有趣的两种模式是哪两种？普通模式和插入模式。

1.  .vimrc 文件是什么？它用于配置 Vim 的持久选项，如颜色方案和如何处理制表符。

1.  当我们称 nano 为 WYSIWYG 编辑器时，我们是什么意思？

WYSIWYG 代表 What You See Is What You Get，这意味着你可以从光标处开始输入。

1.  为什么我们希望将 GUI 编辑器与命令行编辑器结合使用？因为在 GUI 编辑器中编写更容易，但在命令行编辑器中进行故障排除更容易。

# 第四章

1.  文件系统是什么？

数据在物理介质上的存储和检索方式的软件实现。

1.  哪些 Linux 特定的文件系统最常见？

+   ext4

+   XFS

+   Btrfs

1.  在 Linux 上可以同时使用多个文件系统实现，是真是假？

正确；根文件系统始终是单一类型，但文件系统树的不同部分可以用于挂载其他文件系统类型。

1.  大多数 Linux 文件系统实现中存在的日志记录功能是什么？

日志记录是一种机制，可以确保对磁盘的写入不会在中途失败。它极大地提高了文件系统的可靠性。

1.  **根文件系统挂载在树的哪个位置？**

在最高点，在`/.`上。

1.  **PATH 变量用于什么？**

它用于确定可以使用哪个目录中的二进制文件。您可以使用命令'echo $PATH'检查 PATH 变量的内容。

1.  **根据文件系统层次结构标准，配置文件存储在哪个顶级目录中？**

在`/etc/`中。

1.  **进程日志通常保存在哪里？**

在`/var/log/`中。

1.  Linux 有多少种文件类型？

7

1.  Bash 自动完成功能是如何工作的？

对于支持自动完成功能的命令，您可以使用 TAB 一次来获取正确的参数（如果只有一个可能性），或者使用 TAB 两次来获取可能参数的列表。

# 第五章

1.  **Linux 文件使用哪三种权限？**

+   读

+   写

+   执行

1.  **Linux 文件定义了哪三种所有权类型？**

+   用户

+   组

+   其他

1.  **用于更改文件权限的命令是什么？**

`chmod`

1.  **控制新创建文件的默认权限的机制是什么？**

`umask`

1.  **以下符号权限如何用八进制描述：** rwxrw-r--

0764\. 前三位（用户）为 rwx 的 7，第二组三位（组）为`rw-`的 6，最后三位（其他）为`r--`的 4。

1.  **以下八进制权限如何用符号描述：** 0644

rw-r--r--。第一个 6 是读写，然后是两个 4，只是读取。

1.  **哪个命令允许我们获得超级用户权限？**

`sudo`

1.  **我们可以使用哪些命令来更改文件的所有权？**

+   `chown`

+   `chgrp`

1.  **我们如何安排多个用户共享对文件的访问？** 确保他们共享组成员资格，并创建一个只允许这些组成员的目录。

1.  **Linux 有哪些高级权限类型？**

+   文件属性

+   特殊文件权限

+   访问控制列表

# 第六章

1.  **我们在 Linux 中用哪个命令复制文件？**

`cp`。

1.  **移动和重命名文件之间有什么区别？**

从技术上讲，没有区别。从功能上讲，移动更改了文件所在的目录，而重命名保持了文件在同一目录中。在 Linux 中，这两者都由`mv`命令处理。

1.  **为什么** `rm` **命令，用于在 Linux 下删除文件，可能很危险？**

+   它可以用于递归删除目录和其中的所有内容

+   它不会（默认情况下）出现“您确定吗？”提示

+   它允许您使用通配符删除文件

1.  **硬链接和符号（软）链接之间有什么区别？**

硬链接指的是文件系统上的数据，而符号链接指的是文件（反过来又指向文件系统上的数据）。

1.  **`tar`的三种最重要的操作模式是什么？**

+   归档模式

+   提取模式

+   打印模式

1.  **`tar`用于选择输出目录的选项是什么？**

`-C`

1.  **在搜索文件名时，`locate`和`find`之间最大的区别是什么？**

Locate 默认允许部分命名匹配，而 find 需要指定通配符，如果需要部分匹配。

1.  **`find`的多少个选项可以组合？**

搜索需要的数量！这正是使`find`如此强大的原因。

# 第七章

1.  **当我们学习新的编程或脚本语言时，按照惯例，我们首先做什么？**

我们打印字符串“Hello World”。

1.  **Bash 的 shebang 是什么？**

#!/bin/bash

1.  **为什么需要 shebang？**

如果我们在不指定应该使用哪个程序的情况下运行脚本，shebang 将允许 Linux 使用正确的程序。

1.  **我们可以以哪三种方式运行脚本？**

+   通过使用我们想要运行的程序：`bash script.sh`

+   通过设置可执行权限并在脚本名之前加上./：``./script.sh``

+   +   通过设置可执行权限并使用完全限定的文件路径：`/tmp/script.sh`

1.  **创建 shell 脚本时为什么要如此强调可读性？**

+   如果使用脚本的人能够轻松理解脚本的功能，那么使用脚本会更容易

+   如果除了您自己之外的其他人需要编辑脚本（经过几个月后，您自己也可以考虑自己是“其他人”！），如果脚本简单易懂，将会极大地帮助

1.  **为什么我们要使用注释？**

因此，我们可以在脚本中解释可能仅通过查看命令不明显的事情。此外，它还允许我们提供一些设计原理，如果有助于澄清脚本。

1.  **为什么我们建议为您编写的所有 shell 脚本包括脚本头？**

如果为脚本提供了一些关于作者、年龄和描述的信息。当脚本不能按预期工作或需要修改时，这有助于为脚本提供上下文。

1.  **我们讨论了哪三种冗长？**

+   注释的冗长

+   命令的冗长

+   命令输出的冗长

1.  **KISS 原则是什么？**

KISS，即“保持简单，愚蠢”，是一种设计建议，它帮助我们记住我们应该保持简单，因为这通常会增加可用性和可读性，而且大多数时候也是最好的解决方案。

# 第八章

1.  **什么是变量？**

变量是编程语言的基本构建块，用于存储可以在应用程序中多次引用的运行时值。

1.  **我们为什么需要变量？**

变量非常适合存储您需要多次使用的信息。在这种情况下，如果需要更改信息，这是一个单独的操作（对于常量而言）。对于真实变量，它允许我们在程序中引用运行时信息。

最后，适当的变量命名使我们能够为我们的脚本提供额外的上下文，增加可读性。

1.  **什么是常量？**

常量是一种特殊类型的变量，因为它的值是固定的，并且在整个脚本中使用。正常变量在执行过程中经常发生多次变化。

1.  **为什么对变量来说命名约定尤为重要？**

Bash 允许我们几乎可以给变量取任何名字。因为这可能会变得混乱（这绝不是一件好事！），所以选择一个命名约定并坚持下去很重要：这增加了脚本的一致性和连贯性。

1.  **什么是位置参数？**

当您调用 Bash 脚本时，在`bash scriptname.sh`命令之后传递的任何其他文本都可以在脚本中访问，因为这些文本被视为脚本的*参数*。没有用引号括起来的每个单词都被视为单个参数：多个单词的参数应该用引号括起来！

1.  **参数和参数之间有什么区别？**

参数用于填充脚本的参数。参数是脚本逻辑中使用的*静态变量名称*，而参数是用作参数的*运行时值*。

1.  **我们如何使脚本交互？**

通过使用`read`命令。我们可以将用户提供的值存储在我们选择的变量中，否则我们可以使用默认的$REPLY 变量。

1.  **我们如何创建一个既可以非交互式又可以交互式使用的脚本？**

通过结合（可选）位置参数和`read`命令。为了验证在开始脚本逻辑之前我们是否拥有所有需要的信息，我们使用`if-then`结构与`test`命令来查看我们的所有变量是否都被填充。

# 第九章

1.  **为什么我们需要退出状态？**

因此，命令可以以简单的方式向其调用者发出成功或失败的信号。

1.  **退出状态、退出码和返回码之间有什么区别？**

退出码和返回码指的是同一件事。退出状态是一个*概念*，由退出/返回码实现。

1.  **我们使用哪个标志来测试 test 命令以测试：**

+   *现有目录*

-d

+   *可写文件*

-w

+   *现有符号链接*

-h（或-L）

1.  **`test -d /tmp/`的首选简写语法是什么？**

[[ -d /tmp/ ]]。请注意，[[之后和]]之前的空格是强制性的，否则命令将失败！

1.  **如何在 Bash 会话中打印调试信息？**

设置-x 标志，可以在 shell 中使用`set -x`，也可以在调用脚本时使用`bash -x`。

1.  **我们如何检查变量是否有内容？**

+   if [[ -n ${variable} ]] 检查变量是否非零

+   if [[ ! -z ${variable} ]] 检查变量是否不为零

1.  **抓取返回代码的 Bash 格式是什么？**

$?。

1.  ||和&&中，哪个是逻辑 AND，哪个是 OR？

||是 OR，&&是 AND。

1.  **抓取参数数量的 Bash 格式是什么？**

$#。

1.  **如何确保用户从任何工作目录调用脚本都无关紧要？**

通过在脚本开头提供`cd $(dirname $0)`。

1.  **Bash 参数扩展在处理用户输入时如何帮助我们？**

它允许我们删除大写字母，这样我们就可以更容易地与预期值进行比较。

# 第十章

1.  **什么是搜索模式？**

一种正则表达式语法，允许我们找到具有指定特征的文本片段，例如长度，内容和位置。

1.  **为什么正则表达式被认为是贪婪的？**

大多数正则表达式试图找到尽可能多的与搜索模式匹配的数据。这包括空格和其他标点符号，这对人类来说是逻辑分隔，但对机器来说不一定是。

1.  在搜索模式中，哪个字符被认为是除换行符外的任意一个字符的通配符？

点（.）

1.  **在 Linux 正则表达式搜索模式中，星号如何使用？**

*与另一个字符结合使用，以形成重复字符。示例搜索模式：spe*d 将匹配 spd，sped，speed，speeeeeeeeed 等。

1.  **什么是行锚？**

用于表示行开头和行结尾的特殊字符。^表示行开头，$表示行结尾。

1.  **列举三种字符类型。**

这些都是正确的：

+   字母数字

+   字母表

+   小写

+   大写

+   数字

+   空格

1.  **什么是 Globbing？**

当你在与文件或文件路径交互时，在命令行上使用*或?来完成 Globbing。Globbing 允许我们轻松操作（移动，复制，删除等）与 Globbing 模式匹配的文件。

1.  **扩展正则表达式语法中可能的，而在 Bash 下的普通正则表达式中不可能的是什么？**

+   一个或多个重复字符

+   精确数量的重复字符

+   重复字符范围

+   具有多个字符的交替

1.  在使用`grep`或`sed`时，有什么好的经验法则？

如果你的目标可以通过单个`grep`语句实现，选择简单。如果不能以这种方式实现，选择更强大的语法`sed`。

1.  **为什么 Linux/Bash 上的正则表达式如此困难？**

有许多相似的不同实现。正则表达式及其困难本身，这种混乱并没有帮助。只有实践和经验才能解决这个问题！

# 第十一章

1.  if-then(-else)语句如何结束？

使用 if 的反向：`fi`

1.  **如何在条件评估中使用正则表达式搜索模式？**

通过使用=~比较符号。例如：`[[ ${var} =~ [[:digit:]] ]]`

1.  **我们为什么需要`elif`关键字？**

如果我们想要顺序测试多个条件，我们可以使用 else if (`elif`)。

1.  **什么是*嵌套*？**

在另一个 if-then-else 语句或循环中使用 if-then-else 语句或循环。

1.  **如何获取有关如何使用 shell 内置和关键字的信息？**

通过使用命令`help`，然后是我们想要了解信息的内置或关键字。例如：`help [[`

1.  **`while`的相反关键字是什么？**

`until`。while 循环运行直到条件不再*true*，until 循环运行直到条件不再*false*。

1.  **为什么我们会选择 for 循环而不是 while 循环？**

`for`更强大，并且具有许多方便的简写语法，使用`while`可能会很难或难以阅读。

1.  **大括号扩展是什么，我们可以在哪些字符上使用它？**

大括号扩展允许我们编写非常简短的代码，根据 ASCII 字符生成基于空格分隔的列表。例如：`{1..10}`打印 1 到 10 之间的数字，中间有空格。我们还可以用它来表示大写或小写字母，或 ASCII 字符集中的任何范围。

1.  **哪两个关键字允许我们对循环有更精细的控制？**

`break`和`continue`。`break`停止当前循环，而`continue`跳到循环中的下一个迭代。

1.  **如果我们嵌套循环，如何使用循环控制来影响内部循环中的外部循环？**

通过在`break`或`continue`关键字后添加大于 1 的数字。例如：`break 2`退出内部和一个外部循环。

# 第十二章

1.  **文件描述符是什么？**

Linux 用作输入/输出接口的文件或设备的句柄。

1.  **术语 stdin、stdout 和 stderr 的含义是什么？**

+   stdin，标准输入。用于命令的输入。

+   stdout，标准输出。用于命令的正常输出。

+   stderr，标准错误。用于命令的错误输出。

1.  **stdin、stdout 和 stderr 如何映射到默认文件描述符？**

stdin 绑定到 fd0，stdout 绑定到 fd1，stderr 绑定到 fd2。

1.  **`>`、`1>`和`2>`之间的输出重定向有什么区别？**

`>`和`1>`是相等的，用于重定向 stdout。`2>`用于重定向 stderr。

1.  **`>`和`>>`之间有什么区别？**

`>`将覆盖文件，如果文件已经有内容，而`>>`将追加到文件。

1.  **如何同时重定向 stdout 和 stderr？**

+   通过使用`&>`（和`&>>`）

+   通过将 stderr 绑定到 stdout，使用`2>&1`

+   通过使用`|&`进行管道传输

1.  **哪些特殊设备可以用作输出的黑洞？**

/dev/null 和/dev/zero。

1.  **管道在重定向方面有什么作用？**

它将命令的 stdout/stderr 绑定到另一个命令的 stdin。

1.  **我们如何将输出发送到终端和日志文件？**

通过使用`tee`命令进行管道传输，最好使用`|&`，这样 stdout 和 stderr 都会被转发。

1.  **here string 的典型用例是什么？**

如果我们想直接向命令的 stdin 提供输入，我们可以使用 here string。`bc`就是一个很好的例子。

# 第十三章

1.  **我们可以以哪两种方式定义函数？**

+   名称（）{

}

+   函数名称{

}

1.  **函数的一些优点是什么？**

+   易于重用的代码

+   促进代码共享

+   抽象复杂的代码

1.  **全局作用域变量和局部作用域变量之间有什么区别？**

在函数内部作用域的变量只在函数内部有效，全局作用域的变量可以在整个脚本中使用（甚至在函数中）。

1.  **我们如何在变量上设置值和属性？**

通过使用`declare`命令。

1.  **函数如何使用传递给它的参数？**

脚本可以使用$1、$#、$@等方式来执行命令。

1.  **我们如何从函数中返回一个值？**

通过将其输出到 stdout。调用函数的命令应该知道如何捕获输出，使用命令替换。

1.  **`source`命令是做什么的？**

它在当前 shell 中执行文件中的命令。如果被引用的文件只包含函数定义，那么这些函数将被加载以供以后使用（但仍然只能在当前 shell 中使用）。

1.  **为什么我们想要创建一个函数库？**

许多实用函数，如参数检查、错误处理和颜色设置，从不改变，有时可能很难弄清楚。如果我们正确地做一次，我们就可以使用库中预定义的函数，而不需要从旧脚本中复制代码。

# 第十四章

1.  **什么是调度？**

调度允许我们定义脚本应该在何时以及如何运行，而无需用户在那时进行交互。

1.  我们所说的临时调度是什么意思？

临时调度，通常我们在 Linux 上使用`at`进行的调度，是指不定期重复的调度，而是通常在固定时间进行一次性作业。

1.  使用`at`运行的命令的输出通常会去哪里？

默认情况下，`at`尝试使用`sendmail`向拥有队列/作业的用户发送本地邮件。如果未安装 sendmail，则输出将消失。

1.  `cron`守护程序的调度最常见的实现方式是什么？

作为用户绑定的 crontab。

1.  哪些命令允许您编辑您的个人 crontab？

命令`crontab -e`。此外，您可以使用`crontab -l`列出当前的 crontab，并使用`crontab -r`删除当前的 crontab。

1.  crontab 时间戳语法中存在哪五个字段？

1.  分钟

1.  小时

1.  月份中的日期

1.  年份中的月份

1.  星期中的日期

1.  哪三个环境变量对于 crontab 最重要？

1.  路径

1.  外壳

1.  MAILTO

1.  我们如何检查我们使用`cron`计划的脚本或命令的输出？

我们可以在 crontab 中使用重定向将输出写入文件，或者我们可以使用 Linux 本地邮件功能将输出发送给我们。大多数情况下，将输出重定向到日志文件是最佳选择。

1.  如果我们计划的脚本没有足够的输出让我们有效地使用日志文件，我们应该如何解决这个问题？

在脚本中的多个位置使用 echo 命令，向读者发出执行正在按预期进行的消息。例如：'第 1 步成功完成，继续进行。'和'脚本执行成功，退出。'。

# 第十五章

1.  为什么标志通常被用作*修饰符*，而位置参数被用作*目标*？

标志通常修改行为：它可以使脚本更加详细或更加简洁，或者将输出写入其他位置。通常，命令会操作一个文件，然后该文件被视为命令实际尝试实现的主要*目标*。

1.  为什么我们在`while`循环中运行`getopts`？

所有标志都按顺序解析，当`getopts`无法再找到新标志时，它将返回一个不同于 0 的退出代码，这将在恰当的时刻退出`while`循环。

1.  为什么我们在 case 语句中需要一个?)？我们不能指望用户始终正确使用所有标志。?)匹配我们未指定的任何标志，然后我们可以用它来通知用户使用不正确。

1.  为什么我们（有时）需要在 case 语句中使用:)？当 optstring 指定一个选项的参数，但用户没有给出时，可以使用:)。这允许您通知用户缺少的信息（在这一点上，您很可能会中止脚本）。

1.  如果我们最终解析所有选项，为什么我们需要一个单独的 optstring？

因为 optstring 将告诉`getopts`哪些选项有参数，哪些没有。

1.  为什么我们在使用`shift`时需要从 OPTIND 变量中减去 1？OPTIND 变量始终指向*下一个可能的索引*，这意味着它始终比找到的最终标志提前 1。因为我们只需要移除标志（它们被视为位置参数！），我们需要确保在移除之前将 OPTIND 减 1。

1.  将选项与位置参数混合使用是个好主意吗？

由于处理选项和位置参数的复杂性增加，通常最好将操作的*目标*指定为`-f`标志的标志参数；-f 几乎被普遍接受为文件引用，这将始终被视为大多数操作的逻辑目标。

# 第十六章

1.  *参数替换*是什么？不过是变量名称在运行时与其值的实时替换。

1.  我们如何为定义的变量包含默认值？

使用${variable:-value}语法，其中*variable*是名称，*value*是默认值。只有在值为空或空（''）时才会使用此值。

1.  我们如何使用参数扩展来处理缺少的参数值？虽然通常会使用`if [[ -z ${variable} ]]; then`，但参数扩展允许您使用以下语法生成错误消息并`exit 1`：${1:?未提供名称！}

1.  ${#*}是什么意思？它与$#相同，我们用它来确定传递给我们的 shell 脚本的参数数量。一般的${#name}语法允许我们获取*name*变量的值的长度。

1.  在谈论参数扩展时，*模式替换*是如何工作的？*模式替换*允许我们获取变量的值并稍微修改它，通过搜索/替换*模式*。

1.  *模式去除*与*模式替换*有什么关系？

删除模式就相当于用空白替换模式。使用模式删除时，我们可以从文本的开头（前缀）和末尾（后缀）进行搜索，这样更加灵活。在处理文件路径时，模式删除非常有用。

1.  我们可以执行哪些类型的大小写修改？

+   小写

+   大写

+   反转大小写

1.  我们可以用哪两种方法从变量值中获取子字符串？我们需要一个*偏移量*，或一个*长度*，或者两者的组合（最常见）。
