# 前言

*精通 Linux 内核开发*着眼于 Linux 内核，其内部

安排和设计，以及各种核心子系统，帮助您获得

对这个开源奇迹的重要理解。您将了解 Linux 内核，由于其众多贡献者的集体智慧，它仍然如此优雅，这要归功于其出色的设计。

本书还涵盖了所有关键的内核代码、核心数据结构、函数和宏，为您提供了内核核心服务和机制实现细节的全面基础。您还将了解 Linux 内核作为设计良好的软件，这使我们对软件设计有了深入的见解，这种设计容易扩展，但基本上是强大而安全的。

# 本书内容

第一章，理解进程、地址空间和线程，仔细研究了 Linux 的一个主要抽象称为进程以及整个生态系统，这些都促进了这种抽象。我们还将花时间了解地址空间、进程创建和线程。

第二章，*解析进程调度器*，解释了进程调度，这是任何操作系统的重要方面。在这里，我们将建立对 Linux 采用的不同调度策略的理解，以实现有效的进程执行。

第三章，*信号管理*，帮助理解信号使用的所有核心方面，它们的表示、数据结构以及用于信号生成和传递的内核例程。

第四章，*内存管理和分配器*，带领我们穿越 Linux 内核最关键的方面之一，理解内存表示和分配的各种微妙之处。我们还将评估内核在最大化资源利用方面的效率。

第五章，*文件系统和文件 I/O*，传授了对典型文件系统、其结构、设计以及使其成为操作系统基本组成部分的理解。我们还将通过 VFS 全面了解抽象，使用常见的分层架构设计。

第六章，*进程间通信*，涉及内核提供的各种 IPC 机制。我们将探索每种 IPC 机制的布局和关系，以及 SysV 和 POSIX IPC 机制。

第七章，*虚拟内存管理*，解释了内存管理，详细介绍了虚拟内存管理和页表。我们将研究虚拟内存子系统的各个方面，如进程虚拟地址空间及其段、内存描述符结构、内存映射和 VMA 对象、页缓存和页表的地址转换。

第八章，*内核同步和锁定*，使我们能够理解内核提供的各种保护和同步机制，并理解这些机制的优点和缺点。我们将尝试欣赏内核解决这些不同同步复杂性的坚韧性。

第九章，*中断和延迟工作*，讨论了中断，这是任何操作系统完成必要和优先任务的关键方面。我们将了解 Linux 中中断是如何生成、处理和管理的。我们还将研究各种底半部机制。

第十章**，** *时钟和时间管理*，揭示了内核如何测量和管理时间。我们将查看所有关键的与时间相关的结构、例程和宏，以帮助我们有效地管理时间。

第十一章，*模块管理*，快速查看模块，内核在管理模块方面的基础设施以及涉及的所有核心数据结构。这有助于我们理解内核如何融入动态可扩展性。

# 您需要为本书做好准备

除了深刻理解 Linux 内核及其设计的渴望外，您需要对 Linux 操作系统有一定的了解，并且对开源软件的概念有一定的了解，才能开始阅读本书。但这并不是必需的，任何对获取有关 Linux 系统及其工作的详细信息感兴趣的人都可以阅读本书。

# 这本书是为谁准备的

+   这本书是为系统编程爱好者和专业人士准备的，他们希望加深对 Linux 内核及其各种组成部分的理解。

+   这是一本对从事各种与内核相关项目的开发人员非常有用的书籍。

+   软件工程的学生可以将其用作理解 Linux 内核及其设计原则的参考指南。

# 约定

在本书中，您会发现许多文本样式，用于区分不同类型的信息。以下是一些样式的示例及其含义的解释。文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下：“在 `loop()` 函数中，我们读取传感器的距离值，然后在串行端口上显示它。”

代码块设置如下：

```
/* linux-4.9.10/arch/x86/include/asm/thread_info.h */
struct thread_info {
 unsigned long flags; /* low level flags */
};
```

**新术语**和**重要单词**以粗体显示。您在屏幕上看到的单词，例如菜单或对话框中的单词，会以这样的方式出现在文本中：“转到 Sketch | Include Library | Manage Libraries，然后会出现一个对话框。”

警告或重要说明会出现在这样。

提示和技巧会出现在这样。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对本书的看法-您喜欢或不喜欢的地方。读者的反馈对我们很重要，因为它有助于我们开发出您真正能够充分利用的标题。要向我们发送一般反馈，只需发送电子邮件至 `feedback@packtpub.com`，并在主题中提及书名。如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南，网址为 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您已经是 Packt 图书的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

# 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误是难免的。如果您在我们的书中发现错误-可能是文本或代码中的错误-我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书，点击“勘误提交表”链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站或添加到该标题的勘误列表中。要查看以前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需的信息将出现在“勘误”部分下。

# 盗版

互联网上盗版受版权保护的材料是跨所有媒体持续存在的问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何形式的非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。请通过`copyright@packtpub.com`与我们联系，并附上涉嫌盗版材料的链接。我们感谢您帮助保护我们的作者和我们为您提供有价值内容的能力。

# 问题

如果您对本书的任何方面有问题，可以通过`questions@packtpub.com`与我们联系，我们将尽力解决问题。
