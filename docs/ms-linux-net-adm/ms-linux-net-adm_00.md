# 前言

在本书中，我们将学习管理真实基于 Linux 的网络所需的概念。目标是帮助读者从初学者或中级水平的 Linux 用户成长为能够管理和支持真实基于 Linux 的网络的人。本书以一些介绍性章节开始，读者将在其中设置他们的环境，然后刷新一些基础知识，这将成为本书其余部分的基础。从那里开始，将涵盖更高级的主题，并提供有用的示例，读者将能够跟随并获得宝贵的实践经验。

在这个旅程中，我们将涵盖网络管理员通常会在工作中执行的任务，如安装 Linux、设置 DHCP、共享文件、IP 地址分配、监控资源等。这些示例不仅涵盖了两种流行的发行版，Debian 和 CentOS。由于这两种发行版在企业中非常流行，读者将能够很好地准备管理基于其中一种或另一种（以及基于它们的无数其他发行版）的网络。

最后几章将涵盖防止入侵和攻击的最佳实践，以及在出现问题时为您提供帮助的故障排除。

# 本书涵盖了什么

第一章，“设置您的环境”，涵盖了为本书使用设置实验室环境的过程。涵盖了安装 Debian 和 CentOS，以及使用虚拟机的利弊。

第二章，“重新审视 Linux 网络基础”，为读者刷新了提供本书其余部分基础的核心 Linux 概念，如 TCP/IP、主机名解析和 IP 和 net 工具套件。

第三章，“通过 SSH 在节点之间通信”，涵盖了所有与 SSH 有关的内容。在本章中，我们将看看如何使用 SSH 以及如何设置 OpenSSH 服务器以允许其他节点连接。还介绍了`scp`命令，允许我们将文件从一台机器传输到另一台机器。

第四章，“设置文件服务器”，涵盖了 Samba 和 NFS。在这里，我们将讨论何时适合使用其中一个，以及配置和挂载这些共享文件。

第五章，“监控系统资源”，涉及监控我们 Linux 系统上的资源，如检查可用磁盘空间、检查可用内存、日志轮转和查看日志。

第六章，“配置网络服务”，涵盖了使我们的网络运行的服务。这里涵盖了 DHCP 和 DNS 服务器等主题。还介绍了 NTP。

第七章，“通过 Apache 托管 HTTP 内容”，涵盖了 Apache，目前是世界上使用最多的 Web 服务器软件。在这里，我们不仅会安装 Apache，还会配置和管理模块。还涵盖了虚拟主机。

第八章，“理解高级网络概念”，将读者带入下一个层次，讨论更高级的主题，如子网划分、服务质量、DHCP 和 DNS 中的冗余等。

第九章，“保护您的网络”，涉及加固系统以防止未经授权访问。在这里，我们将涵盖 iptables、fail2ban、SELinux 等内容。

第十章，“故障排除网络问题”，通过一些故障排除技巧来总结我们的旅程，如果遇到问题，您可以使用这些技巧。

# 您需要为本书准备什么

这本书要求你至少有一台能够运行 Debian 或 CentOS 的计算机，最好是两者都能运行。你可以在虚拟机或物理硬件上运行它们都没关系，唯一的要求是你应该能够安装这两个发行版并通过终端访问它们。这些安装需要 root 级别的访问权限。

虽然你肯定可以使用你已经拥有的任何 Linux 安装，但强烈建议你有单独的、全新的安装来使用，因为我们的一些主题如果在生产网络上运行可能会有破坏性。如果你有疑问，VirtualBox 或者你可能有闲置的旧机器都可以。需要网络访问，但这是不言而喻的，考虑到本书的主题。

需要一些基本的 Linux 知识。用户不需要是高级用户，因为本书的目的是升级你现有的知识。话虽如此，为了获得最顺利的体验，你应该已经熟悉一些东西。首先，你应该已经知道如何使用文本编辑器修改配置文件。本书不假设你使用哪种文本编辑器，这完全取决于你。只要你了解任何文本编辑器，无论是 nano、vim，甚至 gedit——你都处于良好状态。如果你能打开一个属于 root 的配置文件，然后进行更改并保存它——你就已经准备好了。如果有疑问，nano 是初学者的好文本编辑器，只需要几分钟就能学会。对于更高级的用户，vim 是一个不错的选择。说到 root，你还应该了解以 root 用户或普通用户身份运行命令的区别。此外，你应该能够浏览文件系统并四处浏览。

然而，即使你需要复习文本文件的编辑或切换到 root 用户，也不要让这成为阻碍。在线上有很多知识可以帮助你复习，Linux 可用的大多数文本编辑器都提供了非常好的文档。

# 这本书是为谁准备的

这本书的目标读者是那些已经了解 Linux 基础知识，想要学习如何管理基于 Linux 的网络或将自己的技能提升到更高水平的用户。这可以是为了支持全 Linux 网络，甚至是混合环境。本书将读者带入从安装 Debian 等较为简单的主题，到子网划分等更为高级的概念。通过本书，你应该有足够的知识来建立一个完全网络化的环境，包括这样一个网络应该具备的所有组件。如果这激发了你的兴趣，那么这本书绝对适合你！

然而，在本书中，我们专注于与 Linux 相关的真实世界例子。如果你的目标是获得思科认证或其他高级认证，那么这可能不是最适合你的地方。在这里，一切都是关于实际例子，而不是过多关注理论。虽然认证复习书很好，但在本书中，我们做的是真实的事情——如果你的老板或客户要求你实施 Linux 网络，那么这些就是你需要做的事情。如果这是你的目标，那么你肯定来对地方了。

# 惯例

在本书中，你会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的例子及其含义的解释。

文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名显示如下：“在大多数情况下，这将是`/dev/sda`。”

代码块设置如下：

```
default-lease-time 86400;
max-lease-time 86400;
option subnet-mask 255.255.252.0;
option broadcast-address 10.10.99.255;
option domain-name "local.lan";
authoritative;
subnet 10.10.96.0 netmask 255.255.252.0 {
  range 10.10.99.100 10.10.99.254;
  option routers 10.10.96.1;
  option domain-name-servers 10.10.96.1;
}
```

任何命令行输入或输出都以如下形式书写：

```
systemctl status httpd

```

需要以 root 权限运行的任何命令都将以`#`字符为前缀，如下所示：

```
# yum install httpd

```

**新术语**和**重要单词**以粗体显示。例如，屏幕上看到的单词，例如菜单或对话框中的单词，会以这样的方式出现在文本中："完成后，您可以通过单击**扫描**，然后**保存扫描**来保存结果。"

### 注意

警告或重要说明会以这样的方式出现在框中。

### 提示

提示和技巧会以这种方式出现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对本书的看法——您喜欢或不喜欢的地方。读者的反馈对我们很重要，因为它帮助我们开发您真正能够从中获益的标题。

要向我们发送一般反馈，只需发送电子邮件`<feedback@packtpub.com>`，并在消息主题中提及书名。

如果您在某个专题上有专业知识，并且有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的帐户中下载所有您购买的 Packt Publishing 书籍的示例代码文件。如果您在其他地方购买了本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便文件直接发送到您的电子邮件。

## 下载本书的彩色图像

我们还为您提供了一个包含本书中使用的屏幕截图/图表的彩色图像的 PDF 文件。彩色图像将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/9597OS_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/9597OS_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽一切努力确保内容的准确性，但错误还是会发生。如果您在我们的书中发现错误——可能是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)报告，选择您的书，点击**勘误提交表**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站或添加到该书标题的勘误部分下的任何现有勘误列表中。

要查看先前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书名。所需信息将出现在**勘误**部分下。

## 盗版

互联网上的版权盗版是所有媒体的持续问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并附上涉嫌盗版材料的链接。

我们感谢您帮助我们保护我们的作者和我们提供有价值内容的能力。

## 问题

如果您对本书的任何方面有问题，可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决问题。
