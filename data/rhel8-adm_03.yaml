- en: '*Chapter 2*: RHEL8 Advanced Installation Options'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第2章*：RHEL8高级安装选项'
- en: In the previous chapter, we learned how to install **Red Hat Enterprise Linux**,
    or **RHEL**, on a physical or virtual machine so that we use it while we're reading
    this book. In this chapter, we will review how to use RHEL *instances in the cloud*
    and the main differences that appear when doing so.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们学习了如何在物理或虚拟机上安装**Red Hat Enterprise Linux**，或**RHEL**，以便在阅读本书时使用。在本章中，我们将回顾如何在云中使用RHEL
    *实例*以及在这样做时出现的主要差异。
- en: You will also learn not just how to deploy a system, but the best choices to
    do so, and be able to perform the deployment in an *automated fashion*.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 您还将学习不仅如何部署系统，而且如何做出最佳选择，并能够以*自动化方式*执行部署。
- en: To complete the installation, a section on *best practices* has been included
    so that you can start avoiding long-term issues from day one.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成安装，已包括了一个关于*最佳实践*的部分，以便您可以从第一天开始避免长期问题。
- en: 'These are the topics that will be covered in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 这些是本章将涵盖的主题：
- en: Automating RHEL deployments with Anaconda
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Anaconda自动化RHEL部署
- en: Deploying RHEL on the cloud
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在云上部署RHEL
- en: Installation best practices
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装最佳实践
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: In this chapter, we will review the automated installation process using **Anaconda**.
    For that, you will need to use the *RHEL8 deployment* we created in the previous
    chapter.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将回顾使用**Anaconda**进行自动化安装过程。为此，您需要使用我们在上一章中创建的*RHEL8部署*。
- en: We will also create cloud instances, for which you will need to create an account
    in the cloud environment of your choice. We will be using **Google Cloud Platform**.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将创建云实例，为此您需要在所选云环境中创建一个帐户。我们将使用**Google Cloud Platform**。
- en: Automating RHEL deployments with Anaconda
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Anaconda自动化RHEL部署
- en: 'Once you have finished your first deployment of RHEL locally, you can log in
    as root on the machine and list the files that the `root` user has in their folder:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了在本地部署RHEL的第一步后，您可以以root用户登录到机器上，并列出`root`用户在其文件夹中拥有的文件：
- en: '[PRE0]'
  id: totrans-13
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: You will find the `anaconda-ks.cfg` file. This is an important file, called
    a `kickstart`, and it contains the responses given to the installer, **Anaconda**,
    during the installation process. Let's review the content of this file.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 您会找到`anaconda-ks.cfg`文件。这是一个重要的文件，称为`kickstart`，它包含了在安装过程中安装程序**Anaconda**的响应。让我们来看看这个文件的内容。
- en: Important note
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: In cloud images, there is no `anaconda-ks.cfg` file.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在云映像中，没有`anaconda-ks.cfg`文件。
- en: This file can be reused to install other systems with the same options as the
    ones we used for this installation. Let's review the options that we added during
    our previous installation.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 此文件可以被重用以安装其他系统，使用与我们用于此安装的相同选项。让我们回顾一下我们在上一次安装中添加的选项。
- en: Lines starting with `#` are comments and have no effect on the installation
    process.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 以`#`开头的行是注释，对安装过程没有影响。
- en: 'The comment specifying the version that is being used is as follows:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 指定正在使用的版本的注释如下：
- en: '[PRE1]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Then, a type of installation was performed. It can be `graphical` or `text`
    (for headless systems, it is common to use the second one):'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 然后进行了一种类型的安装。它可以是`图形`或`文本`（对于无头系统，通常使用第二种）：
- en: '[PRE2]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The software source for installing application packages, or any other package,
    is specified with the `repo` entry. As we were using the ISO image, it was accessed
    (mounted, in Linux parlance) as if it were a *CDROM*:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 安装应用程序包或任何其他软件包的软件源由`repo`条目指定。由于我们使用的是ISO镜像，它被访问（在Linux术语中被挂载）就像是一个*CDROM*：
- en: '[PRE3]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Sections are specified with the `%` symbol. In this case, we will enter the
    `packages` section with the list of packages to be installed and use the `%end`
    special tag to close them. There are two selections: a group of packages that
    is defined by it starting with the `@^` symbol (in this case, `minimal-environment`)
    and the name of a package that doesn''t require any prefix (in this case the package
    is `kexec-tools`, which are responsible for installing the `kdump` capability
    we explained previously):'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 部分由`％`符号指定。在这种情况下，我们将输入`packages`部分，其中包含要安装的软件包列表，并使用`％end`特殊标记来关闭它们。有两个选择：由以`@^`符号开头的定义的软件包组（在这种情况下是`minimal-environment`）和不需要任何前缀的软件包的名称（在这种情况下是`kexec-tools`软件包，负责安装我们之前解释的`kdump`功能）：
- en: '[PRE4]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We continue to click options without a section. In this case, we have the keyboard
    layouts and system language support. As you can see, we added the *English US
    American keyboard* (marked as `us`) and the *Spanish*, *Spain* one (marked as
    `es`):'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们继续点击没有部分的选项。在这种情况下，我们有键盘布局和系统语言支持。正如你所看到的，我们添加了*英语美国键盘*（标记为`us`）和*西班牙*，*西班牙*（标记为`es`）：
- en: '[PRE5]'
  id: totrans-28
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'For the system language, we also added English US American (`en_US`) and Spanish,
    Spain (`es_ES)`. There are several ways to manage, store, and represent text in
    operating systems. The most common one nowadays is `UTF-8`, which enables us to
    have many character sets under one single standard. That''s why the system language
    has`.UTF-8` appended to it:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 对于系统语言，我们还添加了英语美国（`en_US`）和西班牙，西班牙（`es_ES`）。操作系统中有几种管理、存储和表示文本的方式。如今最常见的是`UTF-8`，它使我们能够在一个单一标准下拥有许多字符集。这就是为什么系统语言后面有`.UTF-8`：
- en: '[PRE6]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: Tip
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: '**Unicode (or Universal Coded Character Set) Transformation Format – 8-bit**,
    or UTF-8 for short is a character encoding that extends the capabilities of previous
    ones in order to support Chinese, Cyrillic, or Arabic (among many others) in the
    same text (like the one representing a web page or a console). UTF-8 was presented
    in 1993 and is used by 95.9% of the world-wide web''s pages. Previous character
    sets supported US English or Latin characters only, such as the **American Standard
    Code for Information Interchange**, or **ASCII**, published in 1963\. To learn
    more about character encodings and their evolution, check out the Wikipedia pages
    for both UTF-8 and ASCII.'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**Unicode（或通用编码字符集）转换格式 - 8位**，简称UTF-8，是一种字符编码，它扩展了以前的能力，以支持中文、西里尔文或阿拉伯文（以及许多其他语言）在同一文本中（比如代表网页或控制台的文本）。UTF-8于1993年推出，被全球网页的95.9%使用。以前的字符集只支持美国英语或拉丁字符，比如1963年发布的**美国信息交换标准代码**，或**ASCII**。要了解更多有关字符编码及其演变的信息，请查看UTF-8和ASCII的维基百科页面。'
- en: 'Now, it''s time to configure the network interface. In this case, we only have
    one, named `enp1s0`. The configuration uses IPv4 with the `rhel8.example.com`:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，是时候配置网络接口了。在这种情况下，我们只有一个名为`enp1s0`的网络接口。配置使用IPv4和`rhel8.example.com`：
- en: '[PRE7]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Now, we need to define the installation media. In this case, we used an emulated
    CDROM/DVD using the ISO image file we downloaded:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要定义安装介质。在这种情况下，我们使用了一个模拟的CDROM/DVD，使用我们下载的ISO镜像文件：
- en: '[PRE8]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'The option for `firstboot` is enabled by default. In this case, as the installation
    does not include a *graphical interface*, it won''t be run, but will be added
    to the `kickstart` file. We can safely remove it, like so:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '`firstboot`选项默认启用。在本例中，由于安装不包括*图形界面*，它不会运行，但将被添加到`kickstart`文件中。我们可以安全地删除它，如下所示：'
- en: '[PRE9]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Now, let''s configure the disks. First, to be safe, we will instruct the installer
    to ignore all the disks except for the target one; in this case, `vda`:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们配置磁盘。首先，为了安全起见，我们将指示安装程序忽略除目标磁盘（在本例中为`vda`）之外的所有磁盘：
- en: '[PRE10]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Important note
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: The disk's name will vary, depending on the platform you are running on. Typically,
    it will be `vda`, `xda`, or `sda`. In this example, we show the `vda` disk that
    was defined by the installer, Anaconda, as we used in the previous chapter.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 磁盘的名称将根据您运行的平台而变化。通常，它将是`vda`、`xda`或`sda`。在本例中，我们展示了由安装程序Anaconda定义的`vda`磁盘，就像我们在上一章中使用的那样。
- en: 'Now, we must install the bootloader to enable the system to boot. We will do
    so in the `vda`, and we will instruct it to use the `crashkernel` option, which
    enables the `kdump` mechanism (this dumps memory in case of a system crash):'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们必须安装引导加载程序以启用系统引导。我们将在`vda`上这样做，并指示它使用`crashkernel`选项，该选项启用`kdump`机制（在系统崩溃时转储内存）：
- en: '[PRE11]'
  id: totrans-44
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Now, we must partition the disk. In this case, this will be fully automated:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们必须对磁盘进行分区。在这种情况下，这将是完全自动化的：
- en: '[PRE12]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Space to be used by the system must be declared. We will clear the whole disk
    for this example:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 系统要使用的空间必须声明。我们将在此示例中清除整个磁盘：
- en: '[PRE13]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Let''s set the time zone to Madrid, Europe:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们将时区设置为欧洲马德里：
- en: '[PRE14]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'Now, we will set the root password and create a user (note that the encrypted
    password was redacted for security purposes):'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将设置root密码并创建一个用户（请注意，加密密码已经被删除以确保安全）：
- en: '[PRE15]'
  id: totrans-52
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Tip
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: 'The generated Anaconda file from the previous chapter contains an example of
    the encrypted password hash. If we want to change it, a new encrypted password
    hash, to be included here, can be generated if we run the `python -c ''import
    crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw) if (pw==getpass.getpass("Confirm:
    ")) else exit())''` command.'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '上一章生成的Anaconda文件包含加密密码哈希的示例。如果我们想要更改它，可以通过运行`python -c ''import crypt,getpass;pw=getpass.getpass();print(crypt.crypt(pw)
    if (pw==getpass.getpass("Confirm: ")) else exit())''`命令生成新的加密密码哈希，并将其包含在此处。'
- en: 'Now, we need a special section where we can configure `kdump` so that we can
    reserve memory automatically:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们需要一个特殊的部分，可以在其中配置`kdump`，以便我们可以自动保留内存：
- en: '[PRE16]'
  id: totrans-56
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'We also need a special section specifying the password policy that will be
    used for installation:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要一个特殊的部分，指定将用于安装的密码策略：
- en: '[PRE17]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: And with this, our `kickstart` file to reinstall our system is complete.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个，我们的`kickstart`文件以重新安装系统就完成了。
- en: To use it, we will need to pass the kickstart option to the installer. To do
    so we edit the kernel parameters. Let's see how is it done.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用它，我们需要将kickstart选项传递给安装程序。为此，我们编辑内核参数。让我们看看如何做到这一点。
- en: 'We start by pressing *Tab*, during boot, while the line **Install Red Hat Enterprise
    Linux 8.3** is selected. The boot line, starting with **vmlinuz**, will appear
    at the bottom of the screen:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们首先按*Tab*，在启动时，选择**安装Red Hat Enterprise Linux 8.3**。以**vmlinuz**开头的引导行将出现在屏幕底部：
- en: '![Figure 2.1 – RHEL8 Installer – Editing the boot line'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.1 - RHEL8安装程序 - 编辑引导行'
- en: '](img/B16799_02_001.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_001.jpg)'
- en: Figure 2.1 – RHEL8 Installer – Editing the boot line
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.1 - RHEL8安装程序 - 编辑引导行
- en: 'Let''s remove the `quiet` option and add the one that lets the installer know
    where the kickstart is:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们删除`quiet`选项，并添加一个让安装程序知道kickstart位置的选项：
- en: '![Figure 2.2 – RHEL8 Installer – Adding the kickstart option to the boot line'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.2 - RHEL8安装程序 - 将kickstart选项添加到引导行'
- en: '](img/B16799_02_002.jpg)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_002.jpg)'
- en: Figure 2.2 – RHEL8 Installer – Adding the kickstart option to the boot line
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.2 - RHEL8安装程序 - 将kickstart选项添加到引导行
- en: 'The option we''ve added is as follows:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 我们添加的选项如下：
- en: '[PRE18]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'There are three parts to it that we can take a look at:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看看它的三个部分：
- en: '`hd`: The kickstart will be in a disk, such as a second USB drive.'
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`hd`：kickstart将在磁盘上，比如第二个USB驱动器上。'
- en: '`sdc1`: The device that hosts the file.'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`sdc1`：托管文件的设备。'
- en: '`/anaconda-ks.cfg`: The path to the kickstart file in the device.'
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/anaconda-ks.cfg`：设备中kickstart文件的路径。'
- en: With this, we can reproduce the full installation we have done.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个，我们可以重现我们所做的完整安装。
- en: Tip
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 提示
- en: 'The *Red Hat Enterprise Linux 8 Customizing Anaconda* guide provides detailed
    options you can follow if you wish to create your own *Anaconda Kickstart* file
    or further customize this one. It can be accessed here: [https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/customizing_anaconda/index](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/customizing_anaconda/index).'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '*Red Hat Enterprise Linux 8自定义Anaconda*指南提供了详细的选项，如果您希望创建自己的*Anaconda Kickstart*文件或进一步自定义此文件，可以在此处访问：[https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/customizing_anaconda/index](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/customizing_anaconda/index)。'
- en: As you have seen, it is very easy to create a kickstart file and automate the
    deployment of Red Hat Enterprise Linux.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所见，创建kickstart文件并自动部署Red Hat Enterprise Linux非常容易。
- en: 'Now, let''s move and look at a different way to make a RHEL 8 instance available:
    in the cloud.'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们来看看另一种使RHEL 8实例可用的方法：在云中。
- en: Deploying RHEL on the cloud
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在云上部署RHEL
- en: '**Deploying Red Hat Enterprise Linux on the cloud** has some differences from
    the previous deployments we''ve done. Let''s look at what these differences are:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '**在云上部署Red Hat Enterprise Linux**与我们之前进行的部署有一些不同。让我们看看这些区别是什么：'
- en: 'We won''t use an ISO image or Anaconda to perform a deployment, but a preconfigured
    image, usually prepared and made available by the cloud provider:'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们不会使用ISO镜像或Anaconda来执行部署，而是使用预先配置的镜像，通常由云提供商准备和提供：
- en: '- The image can be later customized and adapted to our needs.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '- 该镜像可以稍后进行自定义和调整以满足我们的需求。'
- en: We will not be able to choose the configuration details of our system (such
    as selecting a time zone, for example) during installation time, but will be able
    to after.
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们将无法在安装时选择系统的配置细节（例如选择时区），但之后可以选择。
- en: 'An automated mechanism will be in place to change settings, such as adding
    a user and their credentials to access the system or configure network:'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将会有一个自动化机制来更改设置，例如添加用户及其凭据以访问系统或配置网络：
- en: '- The most extended and well-known mechanism used by cloud providers to do
    so is `cloud-init`.'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: '- 云提供商通常使用`cloud-init`来实现此目的的最常见和最知名的机制。'
- en: '- Some of the images that are delivered by the cloud provider include the `cloud-init`
    software.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '- 一些由云提供商提供的镜像包括`cloud-init`软件。'
- en: '- Systems are usually accessed remotely using the `ssh` protocol and the SSH
    keys that are generated by the user in the cloud provider (please check out [*Chapter
    8*](B16799_08_Final_SK_ePub.xhtml#_idTextAnchor119), *Administering Systems Remotely*,
    for more details on how to access a system).'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '- 通常使用由用户在云提供商生成的SSH密钥通过`ssh`协议远程访问系统（请查看[*第8章*](B16799_08_Final_SK_ePub.xhtml#_idTextAnchor119)，*远程管理系统*，以获取有关如何访问系统的更多详细信息）。'
- en: Important note
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: When it comes to creating RHEL images, it's possible to create our own for the
    cloud or virtualization. To do so, we can use the Red Hat Enterprise Linux image
    builder ([https://developers.redhat.com/blog/2019/05/08/red-hat-enterprise-linux-8-image-builder-building-custom-system-images/](https://developers.redhat.com/blog/2019/05/08/red-hat-enterprise-linux-8-image-builder-building-custom-system-images/)).
    However, it is not part of RHCSA, so it will not be covered in this book. Instead,
    we will follow the approach of taking the default image and customizing it.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建RHEL镜像方面，可以为云或虚拟化创建我们自己的镜像。为此，我们可以使用Red Hat Enterprise Linux镜像构建器（[https://developers.redhat.com/blog/2019/05/08/red-hat-enterprise-linux-8-image-builder-building-custom-system-images/](https://developers.redhat.com/blog/2019/05/08/red-hat-enterprise-linux-8-image-builder-building-custom-system-images/)）。但是，它不是RHCSA的一部分，因此本书不会涵盖它。相反，我们将遵循采用默认镜像并对其进行自定义的方法。
- en: Cloud providers propose an initial getting started offer where you try their
    services at no cost. It's a good way to get started with RHEL and cloud services.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 云提供商提出了一个初始的免费试用优惠，您可以免费尝试他们的服务。这是开始使用RHEL和云服务的好方法。
- en: In this book, we'll be using Google Cloud as an example, so other clouds will
    not be covered. We will provide a brief example of how a Red Hat Enterprise Linux
    8 instance can be created and modified in this cloud environment. To do so, we
    will use **Google Cloud** (it provides, as of December 2020, an initial credit
    that could last the whole duration required to complete this book).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将以Google Cloud为例，因此不会涵盖其他云。我们将提供一个简要示例，说明如何在此云环境中创建和修改Red Hat Enterprise
    Linux 8实例。为此，我们将使用**Google Cloud**（截至2020年12月，它提供了一个初始信用，可以持续整本书所需的时间）。
- en: 'To follow this chapter, you will need to complete the following steps:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 要遵循本章，您需要完成以下步骤：
- en: If you do not have a Google account, you will need to create one (if you use
    Gmail and/or an Android phone, you will have one already).
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您没有Google帐户，您将需要创建一个（如果您使用Gmail和/或Android手机，您可能已经有一个）。
- en: Log into your Google account at [https://accounts.google.com](https://accounts.google.com)
    (or check you have already logged in). You will be required to sign in for a free
    trial, at which point you will have to provide a credit card number.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[https://accounts.google.com](https://accounts.google.com)登录您的Google帐户（或检查您是否已登录）。您将需要注册免费试用，此时您将需要提供信用卡号码。
- en: Go to [https://cloud.google.com/free](https://cloud.google.com/free) and claim
    your free credits.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到[https://cloud.google.com/free](https://cloud.google.com/free)并领取您的免费信用额度。
- en: Go to the cloud console at [https://console.cloud.google.com](https://console.cloud.google.com).
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到[https://console.cloud.google.com](https://console.cloud.google.com)的云控制台。
- en: Go to the **Projects** menu, which is shown here as **No organization** at the
    top bar, to show the projects for the new account:![Figure 2.3 – RHEL8 in Google
    Cloud – Organization menu access
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**项目**菜单，在顶部菜单栏中显示为**无组织**，以显示新帐户的项目：![图2.3 – RHEL8在Google Cloud中–组织菜单访问
- en: '](img/B16799_02_003.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_003.jpg)'
- en: Figure 2.3 – RHEL8 in Google Cloud – Organization menu access
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.3 – RHEL8在Google Cloud中–组织菜单访问
- en: Click on **NEW PROJECT**:![Figure 2.4 – RHEL8 in Google Cloud – Organization
    menu
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**新项目**：![图2.4 – RHEL8在Google Cloud中–组织菜单
- en: '](img/B16799_02_004.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_004.jpg)'
- en: Figure 2.4 – RHEL8 in Google Cloud – Organization menu
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.4 - Google云中的RHEL8 - 组织菜单
- en: Name it `RHEL8` and click **CREATE**:![Figure 2.5 – RHEL8 in Google Cloud –
    Organization menu; create new project
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将其命名为`RHEL8`，然后单击**创建**：![图2.5 - Google云中的RHEL8 - 组织菜单; 创建新项目
- en: '](img/B16799_02_005.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_005.jpg)'
- en: Figure 2.5 – RHEL8 in Google Cloud – Organization menu; create new project
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.5 - Google云中的RHEL8 - 组织菜单; 创建新项目
- en: Important note
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: Depending on how your Google account is configured, you may need to enable billing
    after this step.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的Google帐户配置方式，您可能需要在此步骤之后启用计费。
- en: Go to the top-left menu (also called **Hamburger Menu**, with three horizontal
    lines next to it), click on **Compute Engine**, and then click on **VM Instances**:![Figure
    2.6 – RHEL8 in Google Cloud – Access the VM Instances menu
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到左上角菜单（也称为**汉堡菜单**，旁边有三条水平线），单击**计算引擎**，然后单击**VM实例**：![图2.6 - Google云中的RHEL8
    - 访问VM实例菜单
- en: '](img/B16799_02_006.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_006.jpg)'
- en: Figure 2.6 – RHEL8 in Google Cloud – Access the VM Instances menu
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.6 - Google云中的RHEL8 - 访问VM实例菜单
- en: Once **Compute Engine** is ready (this may take a few minutes), click on **Create**:![Figure
    2.7 – RHEL8 in Google Cloud – create new VM instance
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦**计算引擎**准备就绪（可能需要几分钟），点击**创建**：![图2.7 - Google云中的RHEL8 - 创建新的VM实例
- en: '](img/B16799_02_007.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_007.jpg)'
- en: Figure 2.7 – RHEL8 in Google Cloud – create new VM instance
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.7 - Google云中的RHEL8 - 创建新的VM实例
- en: We will name the instance `rhel8-instance`:![Figure 2.8 – RHEL8 in Google Cloud
    – Create new VM instance; name
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将实例命名为`rhel8-instance`：![图2.8 - Google云中的RHEL8 - 创建新的VM实例; 名称
- en: '](img/B16799_02_008.jpg)'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_008.jpg)'
- en: Figure 2.8 – RHEL8 in Google Cloud – Create new VM instance; name
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.8 - Google云中的RHEL8 - 创建新的VM实例; 名称
- en: Select the most convenient region (or leave the one already provided):![Figure
    2.9 – RHEL8 in Google Cloud – Create new VM instance, region, and zone
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择最方便的区域（或保留已提供的区域）：![图2.9 - Google云中的RHEL8 - 创建新的VM实例，区域和区域
- en: '](img/B16799_02_009.jpg)'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_009.jpg)'
- en: Figure 2.9 – RHEL8 in Google Cloud – Create new VM instance, region, and zone
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.9 - Google云中的RHEL8 - 创建新的VM实例，区域和区域
- en: Set the machine family and type to **General purpose** | **e2-medium**:![Figure
    2.10 – RHEL8 in Google Cloud – Create new VM instance, type, and size
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将机器系列和类型设置为**通用**|**e2-medium**：![图2.10 - Google云中的RHEL8 - 创建新的VM实例，类型和大小
- en: '](img/B16799_02_010.jpg)'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_010.jpg)'
- en: Figure 2.10 – RHEL8 in Google Cloud – Create new VM instance, type, and size
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.10 - Google云中的RHEL8 - 创建新的VM实例，类型和大小
- en: Click **Change** next to boot disk:![Figure 2.11 – RHEL8 in Google Cloud – Changing
    the boot disk
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**更改**旁边的引导磁盘：![图2.11 - Google云中的RHEL8 - 更改引导磁盘
- en: '](img/B16799_02_011.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_011.jpg)'
- en: Figure 2.11 – RHEL8 in Google Cloud – Changing the boot disk
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.11 - Google云中的RHEL8 - 更改引导磁盘
- en: Change **Operating system** to **Red Hat Enterprise Linux** and **Version**
    to **Red Hat Enterprise Linux 8**. Then, click **Select**:![Figure 2.12 – RHEL8
    in Google Cloud – Create new VM instance, image selection, and disk size
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**操作系统**更改为**Red Hat企业Linux**，**版本**更改为**Red Hat企业Linux 8**。然后，点击**选择**：![图2.12
    - Google云中的RHEL8 - 创建新的VM实例，图像选择和磁盘大小
- en: '](img/B16799_02_012.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_012.jpg)'
- en: Figure 2.12 – RHEL8 in Google Cloud – Create new VM instance, image selection,
    and disk size
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.12 - Google云中的RHEL8 - 创建新的VM实例，图像选择和磁盘大小
- en: Click **Create** and wait for the instance to be created:![Figure 2.13 – RHEL8
    in Google Cloud – VM instance list
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**，等待实例创建完成：![图2.13 - Google云中的RHEL8 - VM实例列表
- en: '](img/B16799_02_013.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_013.jpg)'
- en: Figure 2.13 – RHEL8 in Google Cloud – VM instance list
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.13 - Google云中的RHEL8 - VM实例列表
- en: Later, we will learn how to connect via `SSH`. Now, click on the triangle next
    to `SSH`, under **Connect**, and select **Open in browser window**, as follows:![Figure
    2.14 – RHEL8 in Google Cloud – VM instance, access console
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 稍后，我们将学习如何通过`SSH`连接。现在，点击**连接**下的`SSH`旁边的三角形，并选择**在浏览器窗口中打开**，如下所示：![图2.14 -
    Google云中的RHEL8 - VM实例，访问控制台
- en: '](img/B16799_02_014.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_014.jpg)'
- en: Figure 2.14 – RHEL8 in Google Cloud – VM instance, access console
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.14 - Google云中的RHEL8 - VM实例，访问控制台
- en: 'With that, your fresh RHEL8 instance will be deployed, as shown in the following
    screenshot:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 有了这个，您的新鲜的RHEL8实例将被部署，如下截图所示：
- en: '![Figure 2.15 – RHEL8 in Google Cloud – VM instance, console'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![图2.15 - Google云中的RHEL8 - VM实例，控制台'
- en: '](img/B16799_02_015.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: '](img/B16799_02_015.jpg)'
- en: Figure 2.15 – RHEL8 in Google Cloud – VM instance, console
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 图2.15 - Google云中的RHEL8 - VM实例，控制台
- en: It takes some time to get set up in the cloud, configure your account, and find
    the `SSH` key (which will be shown in [*Chapter 8*](B16799_08_Final_SK_ePub.xhtml#_idTextAnchor119),
    *Administering Systems Remotely*) but once it's all set up, it's easy to get a
    new instance up and running.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 在云中设置需要一些时间，配置您的帐户，并找到`SSH`密钥（将在[*第8章*](B16799_08_Final_SK_ePub.xhtml#_idTextAnchor119)，*远程管理系统*中显示），但一旦全部设置好，就很容易启动一个新实例。
- en: 'To become an administrator, you only need to run the following command:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 要成为管理员，您只需要运行以下命令：
- en: '[PRE19]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Now, you can check the time configuration with `timedatectl` and change it:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您可以使用`timedatectl`检查时间配置并更改：
- en: '[PRE20]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'You can also change the language configuration with `localectl`:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用`localectl`更改语言配置：
- en: '[PRE21]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'To change `locale` or language support, you will need to install its *language
    package* first, as follows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 要更改`locale`或语言支持，您需要首先安装其*语言包*，如下所示：
- en: '[PRE22]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: Now, you have a machine configured that you can use throughout this book. These
    locale changes are not needed to proceed, just to create a machine with the same
    configuration as in the previous chapter.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已经配置了一台机器，可以在本书中使用。这些区域设置不需要继续，只是为了创建具有与上一章相同配置的机器。
- en: Now that we know how to automatically redeploy VMs using Anaconda and how to
    get instances in the cloud, let's move on and look at some of the best practices
    to be taken into account when performing installations.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们知道如何使用Anaconda自动重新部署VM，并在云中获取实例，让我们继续并查看在执行安装时需要考虑的一些最佳实践。
- en: Installation best practices
  id: totrans-151
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装最佳实践
- en: '**Red Hat Enterprise Linux installations** have many options you can choose
    from, and what you choose should be tailored for your specific use case. However,
    some common recommendations apply. Let''s look at the most common types.'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '**Red Hat Enterprise Linux安装**有许多选项可供选择，您应该根据特定的用例进行定制。然而，一些常见的建议适用。让我们看看最常见的类型。'
- en: 'The first type is **blueprints**:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 第一种类型是**蓝图**：
- en: 'Standardize the core installation and create a blueprint for it:'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准化核心安装并为其创建一个蓝图：
- en: '- This blueprint shall be minimal enough to serve as the base for all other
    blueprints and deployments.'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '- 这个蓝图应该足够小，可以作为所有其他蓝图和部署的基础。'
- en: 'Build a set of blueprints for common cases when needed:'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在需要时为常见情况构建一组蓝图：
- en: '- Try to use an automation platform to build extended cases (that is, Ansible).'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: '- 尽量使用自动化平台来构建扩展案例（即，Ansible）。'
- en: '- Try to make the cases modular (that is, App Server; database blueprints can
    be combined into one single machine).'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '- 尽量使案例模块化（即，应用服务器；数据库蓝图可以合并成一个单一的机器）。'
- en: '- Be aware of the requirements you must apply to your templated blueprints
    and adapt to the environments you will use.'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: '- 了解您必须应用于模板蓝图的要求，并适应您将使用的环境。'
- en: 'The second type is **software**:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种类型是**软件**：
- en: The less software that's installed, the smaller the attack surface. Try to keep
    servers with the minimal set of packages required on it for it to run and operate
    (that is, try not to add a graphical user interface to your servers).
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装的软件越少，攻击面就越小。尽量保持服务器上所需的最小软件包集（即，尽量不要向服务器添加图形用户界面）。
- en: Standardize the installed tools where possible to be able to react quickly in
    case of emergency.
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在可能的情况下，标准化安装的工具，以便在紧急情况下能够迅速反应。
- en: Package your third-party applications so that you have healthy life cycle management
    (whether with RPM or in containers).
  id: totrans-163
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 打包第三方应用程序，以便进行健康的生命周期管理（无论是使用RPM还是容器）。
- en: Establish a patching schedule.
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 建立一个补丁安装计划。
- en: 'The third type is **n****etworking**:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 第三种类型是**网络**：
- en: In virtual machines, try not to overuse the number of network interfaces.
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在虚拟机中，尽量不要过多使用网络接口。
- en: In physical machines, use interface teaming/bonding whenever possible. Segment
    networks using VLANs.
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在物理机器上，尽可能使用接口组合/绑定。使用VLAN对网络进行分段。
- en: 'The fourth type is **storage**:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 第四种类型是**存储**：
- en: For servers, use `/boot` or `/boot/efi`).
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于服务器，使用`/boot`或`/boot/efi`）。
- en: If you think you will need to reduce your filesystems, use *ext4*; otherwise,
    go for the default of *xfs*.
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您认为需要缩减文件系统，请使用*ext4*；否则，选择默认的*xfs*。
- en: 'Partition the disk carefully:'
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谨慎地对磁盘进行分区：
- en: '- Keep the default boot partition with its default size. If you change it,
    enlarge it (you may need space there during upgrades).'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '- 保持默认的引导分区及其默认大小。如果更改它，请扩大它（在升级过程中可能需要空间）。'
- en: '- The default swap partition is the safest bet, unless the third-party software
    has specific requirements.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '- 默认的交换分区是最安全的选择，除非第三方软件有特定要求。'
- en: '- For long-lived systems, have at least separate partitions for `/` (root)
    `/var`, `/usr`, `/tmp`, and `/home`, and consider even a separate one for `/var/log`
    and `/opt` (for ephemeral cloud instances or short-lived systems, this does not
    apply).'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: '- 对于长期存在的系统，至少要有单独的分区用于`/`（根）`/var`，`/usr`，`/tmp`和`/home`，甚至考虑为`/var/log`和`/opt`单独设置一个（对于临时云实例或短期存在的系统，不适用）。'
- en: 'The fifth type is **security**:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 第五种类型是**安全**：
- en: Do not disable *SELinux*. It has been improved a lot in the latest versions
    and it's very likely that it won't interfere with your system (if required, set
    it in permissive mode instead of fully disabling it).
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要禁用*SELinux*。它在最新版本中得到了很大改进，很可能不会干扰您的系统（如果需要，将其设置为宽容模式，而不是完全禁用它）。
- en: Do not disable the firewall. Automate port opening with the service deployment.
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要禁用防火墙。使用服务部署自动化端口开放。
- en: Redirect logs to a central location whenever possible.
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽可能将日志重定向到一个中央位置。
- en: Standardize the security tools and configuration that you want to install to
    check system integrity and audit (that is, *AIDE*, *logwatch*, and *auditd*).
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 标准化安全工具和配置，以检查系统完整性和审计（即*AIDE*，*logwatch*和*auditd*）。
- en: Review software install (*RPM*) *GPG* keys, as well as ISO images, to ensure
    integrity.
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查软件安装（*RPM*）*GPG*密钥，以及ISO映像，以确保完整性。
- en: Try to avoid using passwords (especially for your root account) and use strong
    ones where needed.
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尽量避免使用密码（特别是您的root帐户），并在需要时使用强密码。
- en: Review your systems with *OpenSCAP* to check on security (if needed, create
    your own hardware SCAP profile with help from your security team).
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用*OpenSCAP*审查您的系统以检查安全性（如果需要，从安全团队的帮助下创建自己的硬件SCAP配置文件）。
- en: 'Finally, we will look at the **miscellanea** type:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将看看**杂项**类型：
- en: Keep system time synchronized.
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持系统时间同步。
- en: Review *logrotate* policies to avoid "disk full" errors due to logs.
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审查*logrotate*策略，以避免由于日志而导致“磁盘已满”的错误。
- en: Following these best practices will help you avoid issues and make the installed
    base more manageable. With that, you know how to deploy Red Hat Enterprise Linux
    on a system in a structured, repeatable manner while providing services to other
    teams in a fast and resilient fashion.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 遵循这些最佳实践将帮助您避免问题，并使安装基础更易管理。有了这些，您就知道如何以有条理、可重复的方式在系统上部署Red Hat Enterprise Linux，同时以快速和有弹性的方式为其他团队提供服务。
- en: Summary
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In the previous chapter, we mentioned how to prepare a machine that we can work
    with throughout this book. An alternative to that is using cloud instances, with
    which we could be consuming virtual machine instances from the public cloud, which
    may simplify our consumption and provide us with enough free credit to prepare
    for *RHCSA*. Also, once the self-training process is complete, the machines can
    be still used to provide your own public services (such as deploying a blog).
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们提到了如何准备一台机器，可以在整本书中使用。与此相对的是使用云实例，通过这种方式，我们可以从公共云中消费虚拟机实例，这可能简化我们的消费，并为我们提供足够的免费信用来准备
    *RHCSA*。此外，一旦自我训练过程完成，这些机器仍然可以用来提供你自己的公共服务（比如部署博客）。
- en: Understanding the need to standardize your environments and the impact of doing
    so is also important when you're working with Linux as a professional. It is key
    to start with a good set of practices (automating installations, keeping track
    of installed software, reducing the attack surface, and so on) from the beginning.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在作为专业人士使用 Linux 时，理解标准化环境的需求以及这样做的影响也很重要。从一开始就采用一套良好的实践方法（自动化安装、跟踪已安装的软件、减少攻击面等）是关键。
- en: Now that you've completed this chapter, you are ready to continue with the rest
    of this book, since you now have an instance of Red Hat Enterprise Linux 8 available
    to work and practice with. In the next chapter, we will review the basics of the
    system to make ourselves comfortable and gain confidence in using the system.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 完成了这一章，现在你可以继续阅读本书的其余部分了，因为你现在已经有了一个可用于工作和练习的红帽企业 Linux 8 实例。在下一章中，我们将回顾系统的基础知识，让自己感到舒适，并增强使用系统的信心。
