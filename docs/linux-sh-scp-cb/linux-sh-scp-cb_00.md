# 前言

GNU/Linux 是一个非常出色的操作系统，具有完整的开发环境，稳定、可靠且功能强大。作为与操作系统通信的本地接口，shell 能够控制整个操作系统。了解 shell 脚本有助于更好地了解操作系统，并帮助您用几行脚本自动化大部分手动任务，节省大量时间。shell 脚本可以与许多外部命令行实用程序一起工作，用于查询信息、简单文本处理、调度任务运行时间、准备报告、发送邮件等。GNU/Linux shell 上有许多命令，虽然有文档记录，但很难理解。本书是一本包含详细描述和实际应用的基本命令行脚本食谱集。它涵盖了 Linux 中大多数重要的命令，并伴有大量用例。本书帮助您使用少量命令组合执行涉及文本处理、文件管理、备份等复杂数据操作。

你想成为一名命令行巫师吗？能够用一行代码执行任何复杂的文本处理任务？你想为了乐趣或严肃的系统管理编写 shell 脚本和报告工具吗？这本食谱书就是为你准备的。开始阅读吧！

# 本书涵盖内容

第一章 *，命令行基础*，收集了一系列食谱，涵盖了基本任务，如在终端中打印、执行数学运算、数组、运算符、函数、别名、文件重定向等，都是通过 Bash 脚本实现的。本章是一个介绍性章节，用于理解 Bash 中的基本概念和特性。

第二章 *，掌握好命令*，展示了 GNU/Linux 中可用的各种命令，这些命令在不同情况下都具有实际用途。它介绍了各种基本命令，如 cat、md5sum、find、tr、sort、uniq、split、rename、look 等。本章通过不同的实际用例，向用户展示了他们可能遇到的情况以及可以利用的命令。

第三章 *，文件输入，文件输出*，包含了与文件和文件系统相关的任务食谱。本章解释了如何生成大型文件、在文件上安装文件系统和挂载文件、查找和删除重复文件、计算文件中的行数、创建 ISO 镜像、收集文件的详细信息、符号链接操作、文件权限和文件属性等。

第四章 *，文本处理与驱动*，收集了大量命令行文本处理工具在 GNU/Linux 下的使用示例。它还包括了正则表达式和 sed、awk 等命令的详细概述。本章通过各种示例解决了大多数常用的文本处理任务。

第五章 *，网络迷局？一点也不！*，收集了与互联网和网络相关的 shell 脚本食谱。本章旨在帮助读者了解如何使用 shell 脚本与网络交互，自动化任务，如从网页收集和解析数据、向网页发送 POST 和 GET 请求、编写客户端访问网络服务、下载网页等。

第六章, *备份计划*，展示了用于执行数据备份、归档、压缩等操作的几个命令，以及它们在实际脚本示例中的用法。它介绍了诸如 tar、gzip、bunzip、cpio、lzma、dd、rsync、git、squashfs 等命令。本章还介绍了基本的加密技术。

第七章, *老男孩网络*，收集了一些关于在 Linux 上进行网络和编写基于网络的脚本的有用命令的配方。本章以介绍基本的网络入门知识开始。本章中解释的重要任务包括使用 SSH 进行无密码登录，通过网络传输文件，列出网络上的活动机器，多播消息等等。

第八章, *戴上监视器帽*，介绍了与 Linux 系统上的监视活动和用于日志记录和报告的任务相关的几个配方。本章解释了计算磁盘使用情况、监视用户访问、CPU 使用情况、syslog、常用命令等任务。

第九章, *管理调用*，收集了一些系统管理的配方。本章解释了不同的命令，用于收集有关系统的详细信息，使用脚本进行用户管理，向用户发送消息，批量调整图像大小，从 shell 访问 MySQL 数据库等等。

# 您需要为这本书做好准备

任何 GNU/Linux 平台的基本用户体验都将帮助您轻松地跟随本书。我们已经尽量保持本书中所有配方的简洁和易于遵循。您对学习 Linux 平台的好奇心是本书的唯一先决条件。书中提供了解决脚本问题的逐步解释。为了运行和测试本书中的示例，建议安装 Ubuntu Linux，但是对于大多数任务来说，任何其他 Linux 发行版都足够了。您会发现本书是基本的 shell 脚本任务的简单参考，也是编写真实高效脚本的学习辅助工具。

# 这本书适合谁

如果您是一个想要掌握快速编写脚本以执行各种任务的初学者或中级用户，而不必阅读整个 man 页面，那么这本书适合您。您可以通过简单查看类似的配方及其描述来开始编写脚本和一行命令，而无需任何 shell 脚本或 Linux 的工作知识。中级或高级用户以及系统管理员或开发人员和程序员在编码时遇到问题时，可以将本书用作参考。

# 约定

在本书中，您会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的含义解释。

文本中的代码词显示如下："我们可以使用`printf`来使用格式化字符串。"

代码块设置如下：

```
#!/bin/bash 
#Filename: printf.sh

printf  "%-5s %-10s %-4s\n" No Name  Mark 
printf  "%-5s %-10s %-4.2f\n" 1 Sarath 80.3456 
printf  "%-5s %-10s %-4.2f\n" 2 James 90.9989 
printf  "%-5s %-10s %-4.2f\n" 3 Jeff 77.564
```

任何命令行输入或输出都写成如下形式：

```
$ chmod +s executable_file

# chown root.root executable_file
# chmod +s executable_file
$ ./executable_file

```

### 注意

警告或重要说明会出现在这样的框中。

### 提示

提示和技巧会出现在这样。

# 读者反馈

我们的读者的反馈总是受欢迎的。让我们知道你对这本书的看法——你喜欢或不喜欢什么。读者的反馈对我们开发您真正受益的标题非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在您的消息主题中提到书名。

如果有一本书是您需要的，并且希望我们出版，请在[www.packtpub.com](http://www.packtpub.com)的**建议标题**表单上给我们留言，或发送电子邮件至`<suggest@packtpub.com>`。

如果您在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请参阅我们的作者指南 [www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您已经是 Packt 图书的自豪所有者，我们有一些事情可以帮助您充分利用您的购买。

### 提示

**下载本书的示例代码**

您可以从 [`www.PacktPub.com`](http://www.PacktPub.com) 的帐户中下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问 [`www.PacktPub.com/support`](http://www.PacktPub.com/support) 并注册，以便文件直接通过电子邮件发送给您。

## 勘误

尽管我们已经非常小心确保内容的准确性，但错误是难免的。如果您在我们的书中发现错误——也许是文本或代码中的错误——我们将不胜感激，如果您能向我们报告。通过这样做，您可以帮助其他读者避免挫折，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问 [`www.packtpub.com/support`](http://www.packtpub.com/support)，选择您的书，点击**勘误提交表**链接，并输入您的勘误详情。一旦您的勘误经过验证，您的提交将被接受，并且勘误将被上传到我们的网站上，或者添加到该标题的勘误列表中的任何现有勘误下的勘误部分。您可以通过从 [`www.packtpub.com/support`](http://www.packtpub.com/support) 选择您的标题来查看任何现有的勘误。

## 盗版

互联网上的版权盗版问题是所有媒体的持续问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取补救措施。

如果您发现有涉嫌盗版的材料，请通过 `<copyright@packtpub.com>` 与我们联系。

我们感谢您在保护我们的作者和我们为您提供有价值的内容的能力方面的帮助。

## 问题

如果您在书的任何方面遇到问题，请通过 `<questions@packtpub.com>` 与我们联系，我们将尽力解决。
