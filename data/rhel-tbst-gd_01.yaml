- en: Chapter 1. Troubleshooting Best Practices
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章。故障排除最佳实践
- en: This chapter, which happens to be the first chapter, is probably the most important
    and least technical. Most chapters in this book cover specific issues and the
    commands necessary to troubleshoot those issues. This chapter, however, will cover
    some troubleshooting best practices that can be applied to any issue.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 这一章，也就是第一章，可能是最重要但技术含量最低的。本书中的大多数章节涵盖了特定问题和解决这些问题所需的命令。然而，这一章将涵盖一些可以应用于任何问题的故障排除最佳实践。
- en: You can think of this chapter as the principles behind the practices being applied.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以把这一章看作是应用实践背后的原则。
- en: Styles of troubleshooting
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除风格
- en: 'Before covering the best practices of troubleshooting, it is important to understand
    the different styles of troubleshooting. In my experience, I have found that people
    tend to use one of three styles of troubleshooting, which are as follows:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在介绍故障排除的最佳实践之前，了解不同的故障排除风格是很重要的。根据我的经验，我发现人们倾向于使用以下三种故障排除风格：
- en: The Data Collector
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 数据收集者
- en: The Educated Guesser
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受过教育的猜测者
- en: The Adaptor
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 适应者
- en: Each of these styles have their own strengths and weaknesses. Let's have a look
    at the characteristics of these styles.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 每种风格都有其优点和缺点。让我们来看看这些风格的特点。
- en: The Data Collector
  id: totrans-9
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据收集者
- en: 'I like to call the first style of troubleshooting, the **Data Collector**.
    The Data Collector is someone who generally utilizes a systematic approach to
    solve issues. The systematic troubleshooting approach is generally characterized
    as follows:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我喜欢称第一种故障排除风格为**数据收集者**。数据收集者通常是利用系统化方法解决问题的人。系统化的故障排除方法通常具有以下特点：
- en: Asking specific questions to parties reporting issues, expecting detailed answers
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向报告问题的相关方提出具体问题，期望得到详细答案
- en: Running commands to identify system performance for most issues
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运行命令以识别大多数问题的系统性能
- en: Running through a predefined set of troubleshooting steps before stepping into
    action
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在采取行动之前运行预定义的一系列故障排除步骤
- en: The strength of this style is that it is effective, no matter what level of
    engineer or administrator is using it. By going through issues systematically,
    collecting each data point, and understanding the results before executing any
    resolution, the Data Collector is able to resolve issues that they might not necessarily
    be familiar with.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 这种风格的优势在于，无论是什么级别的工程师或管理员使用它都是有效的。通过系统地处理问题，收集每个数据点，并在执行任何解决方案之前了解结果，数据收集者能够解决他们可能不熟悉的问题。
- en: The weakness of this style is that the data collection is not usually the fastest
    method to resolve issues. Depending on the issue, collecting data can take a long
    time and some of that data might not be necessary to find the resolution.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 这种风格的弱点在于数据收集通常不是解决问题的最快方法。根据问题的不同，收集数据可能需要很长时间，而且其中一些数据可能并不是找到解决方案所必需的。
- en: The Educated Guesser
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 受过教育的猜测者
- en: 'I like to call the second style of troubleshooting, the **Educated Guesser**.
    The Educated Guesser is someone who generally utilizes an intuitive approach to
    solve issues. The intuitive approach is generally characterized by the following:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 我喜欢称第二种故障排除风格为**受过教育的猜测者**。受过教育的猜测者通常是利用直觉方法解决问题的人。直觉方法通常具有以下特点：
- en: Identifying the cause of issues with minimal information
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用最少的信息确定问题的原因
- en: Running a few commands before resolving the issue
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在解决问题之前运行几个命令
- en: Utilizing previous experience to identify root cause
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 利用以前的经验来确定根本原因
- en: The strength of this style of troubleshooting is that it allows you to come
    up with resolutions sooner. When confronted with an issue, this type of troubleshooter
    tends to pull from experience and requires minimal information to find a resolution.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这种故障排除风格的优势在于它能让你更快地找到解决方案。面对问题时，这种类型的故障排除者倾向于从经验中汲取，并且需要最少的信息来找到解决方案。
- en: The weakness of this style is that it relies heavily on experience, and thus
    requires time before being effective. When focusing on resolution, this troubleshooter
    might also attempt multiple actions to resolve the issue, which can make it seem
    like the Educated Guesser does not fully understand the issue at hand.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 这种风格的弱点在于它严重依赖经验，因此在有效之前需要时间。在专注于解决问题时，这种故障排除者可能还会尝试多种行动来解决问题，这可能会使人觉得受过教育的猜测者并没有完全理解手头的问题。
- en: The Adaptor
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 适应者
- en: There is a third and often-overlooked style of troubleshooting; this style utilizes
    both the systematic and intuitive styles. I like to call this style the **Adaptor**.
    The Adaptor has a personality which enables it to switch between systematic and
    intuitive troubleshooting styles. This combined style is often faster than the
    Data Collector style and is more detail oriented than the Educated Guesser style.
    This is because they are able to apply the troubleshooting style appropriate for
    the task at hand.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一种第三种经常被忽视的故障排除风格；这种风格同时利用了系统化和直觉化的风格。我喜欢称这种风格为**适应者**。适应者有一种个性，使其能够在系统化和直觉化的故障排除风格之间切换。这种结合的风格通常比数据收集者风格更快，比受过教育的猜测者风格更注重细节。这是因为他们能够应用适合手头任务的故障排除风格。
- en: Choosing the appropriate style
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 选择适当的风格
- en: While it is easy to say that one method is better than the other, the fact of
    the matter is that picking the appropriate troubleshooting style depends greatly
    on the person. It is important to understand which troubleshooting style best
    fits your own personality. By understanding which style fits you better, you can
    learn and use techniques that fit that style. You can also learn and adopt techniques
    from other styles to apply troubleshooting steps that you would normally overlook.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然很容易说一个方法比另一个更好，但事实是选择适当的故障排除风格在很大程度上取决于个人。了解哪种故障排除风格最适合你自己的个性是很重要的。通过了解哪种风格更适合你，你可以学习和使用适合该风格的技术。你也可以学习和采用其他风格的技术，以应用你通常会忽略的故障排除步骤。
- en: This book will show both the Data Collector and Educated Guesser styles of troubleshooting,
    and periodically highlighting which personality style the steps best fit.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 本书将展示数据收集者和有经验的猜测者两种故障排除风格，并定期强调哪种个性风格最适合这些步骤。
- en: Troubleshooting steps
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 故障排除步骤
- en: Troubleshooting is a process that is both rigid and flexible. The rigidity of
    the troubleshooting process is based on the fact that there are basic steps to
    be followed. In this way, I like to equate the troubleshooting process to the
    scientific method, where the scientific method has a specific list of steps that
    must be followed.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 故障排除是一个既严格又灵活的过程。故障排除过程的严格性基于需要遵循基本步骤的事实。在这方面，我喜欢将故障排除过程等同于科学方法，科学方法有一系列必须遵循的特定步骤。
- en: The flexibility of the troubleshooting process is that these steps can be followed
    in any order that makes sense. Unlike the scientific method, the troubleshooting
    process often has the goal of resolving the issue quickly. Sometimes, in order
    to resolve an issue quickly, you might need to skip a step or execute them out
    of order. For example, with the troubleshooting process, you might need to resolve
    the immediate issue, and then identify the root cause of that issue.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 故障排除过程的灵活性在于可以按任何有意义的顺序遵循这些步骤。与科学方法不同，故障排除过程通常旨在快速解决问题。有时，为了快速解决问题，您可能需要跳过一步或按顺序执行它们。例如，在故障排除过程中，您可能需要解决即时问题，然后确定该问题的根本原因。
- en: 'The following list has five steps that make up the troubleshooting process.
    Each of these steps could also include several sub-tasks, which may or may not
    be relevant to the issue. It is important to follow these steps with a grain of
    salt, as not every issue can be placed into the same bucket. The following steps
    are meant to be used as a best practice but, as with all things, it should be
    adapted to the issue at hand:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 以下列表包括构成故障排除过程的五个步骤。每个步骤可能还包括几个子任务，这些子任务可能与问题相关也可能不相关。重要的是要以一颗谨慎的心态遵循这些步骤，因为并非每个问题都可以归入同一类别。以下步骤旨在作为最佳实践使用，但与所有事物一样，应根据手头的问题进行调整：
- en: Understanding the problem statement.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 理解问题陈述。
- en: Establishing a hypothesis.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 建立假设。
- en: Trial and error.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 试错。
- en: Getting help.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 寻求帮助。
- en: Documentation.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 文档。
- en: Understanding the problem statement
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解问题陈述
- en: 'With the scientific method, the first step is to establish a problem statement,
    which is another way of saying: to identify and understand the goal of the experiment.
    With the troubleshooting process, the first step is to understand the problem
    being reported. The better we understand an issue, the easier it is to resolve
    the issue.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 使用科学方法，第一步是建立问题陈述，这另一种说法是：确定并理解实验的目标。使用故障排除过程，第一步是理解报告的问题。我们越了解问题，解决问题就越容易。
- en: There are a number of tasks we can perform that will help us understand issues
    better. This first step is where a Data Collector's personality stands out. Data
    Collectors, by nature, will gather as much data as they can before moving on to
    the next step, whereas, the Educated Guessers generally tend to run through this
    step quickly and then move on to the next step, which can sometimes cause critical
    pieces of information to be missed.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以执行一些任务来更好地理解问题。这第一步是数据收集者个性的显著特点。数据收集者天生倾向于在进入下一步之前收集尽可能多的数据，而有经验的猜测者通常倾向于迅速完成这一步，然后转移到下一步，这有时可能导致错过关键信息。
- en: Adaptors tend to understand which data collecting steps are necessary and which
    ones are not. This allows them to collect data as a Data Collector would, but
    without spending time gathering data that does not add value to the issue at hand.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 适应者倾向于了解哪些数据收集步骤是必要的，哪些是不必要的。这使他们能够像数据收集者一样收集数据，但不会花费时间收集对问题没有价值的数据。
- en: The sub-task in this troubleshooting step is *asking the right questions*.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 这个故障排除步骤中的子任务是*提出正确的问题*。
- en: Asking questions
  id: totrans-42
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提出问题
- en: Whether via human or automated processes such as a ticket system, the reporter
    of the issue is often a great source of information.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 无论是通过人工还是自动化流程（如工单系统），报告问题的人通常是信息的重要来源。
- en: Tickets
  id: totrans-44
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 工单
- en: When they receive a ticket, the Educated Guesser personality will often read
    the heading of the ticket, make an assumption of the issue and move to the next
    stage of understanding the issue. The Data Collector personality will generally
    open the ticket and read the full details of the ticket.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 当他们收到一个工单时，有经验的猜测者个性通常会阅读工单的标题，假设问题并转移到理解问题的下一个阶段。数据收集者个性通常会打开工单并阅读工单的所有细节。
- en: While it depends on the ticketing and monitoring system, in general, there can
    be useful information within a ticket. Unless the issue is a common issue and
    you are able to understand all that you know from the header, it is generally
    a good idea to read the ticket description. Even small amounts of information
    might help with particularly tricky issues.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这取决于工单和监控系统，但通常工单中可能包含有用的信息。除非问题是常见问题，并且您能够从标题中理解所有信息，通常最好阅读工单描述。即使是少量信息也可能有助于解决特别棘手的问题。
- en: Humans
  id: totrans-47
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 人类
- en: Gathering additional information from humans, however, can be inconsistent.
    This varies greatly depending on the environment being supported. In some environments,
    the person reporting an issue can provide all of the details required to resolve
    the issue. In other environments, they might not understand the issue and simply
    explain the symptoms.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，从人类那里收集额外信息可能是不一致的。这在很大程度上取决于所支持的环境。在某些环境中，报告问题的人可以提供解决问题所需的所有细节。在其他环境中，他们可能不理解问题，只是解释症状。
- en: No matter what troubleshooting style fits your personality best, being able
    to get important information from the person reporting the issue is an important
    skill. Intuitive problem solvers such as the Educated Guesser or Adaptor tend
    to find this process easier as compared to Data Collector personalities, not because
    these personalities are necessarily better at obtaining details from people but
    rather because they are able to identify patterns with less information. Data
    Collectors, however, can get the information they need from those reporting the
    issue if they are prepared to ask troubleshooting questions.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 无论哪种排除故障风格最适合你的个性，能够从报告问题的人那里获得重要信息是一项重要的技能。直觉性问题解决者，如受过教育的猜测者或适应者，往往比数据收集者个性更容易找到这个过程，不是因为这些个性一定更擅长从人们那里获取细节，而是因为他们能够在较少的信息中识别模式。然而，数据收集者可以通过准备好提出故障排除问题来从报告问题的人那里获得他们需要的信息。
- en: Note
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Don''t be afraid to ask obvious questions**'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**不要害怕问显而易见的问题**'
- en: My first technical job was in a webhosting technical support call center. There
    I often received calls from users who did not want to perform the basic troubleshooting
    steps and simply wanted the issue escalated. These users simply felt that they
    had performed all of the troubleshooting steps themselves and had found an issue
    beyond first level support.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我的第一份技术工作是在一个网络托管技术支持呼叫中心。在那里，我经常接到用户的电话，他们不想执行基本的故障排除步骤，只是希望问题升级。这些用户只是觉得他们已经自己执行了所有的故障排除步骤，并且已经发现了超出一级支持范围的问题。
- en: While sometimes this was true, more often, the issue was something basic that
    they had overlooked. In that role, I quickly learned that even if the user is
    reluctant to answer basic or obvious questions, at the end of the day, they simply
    want their issue resolved. If that meant going through repetitive steps, that
    was ok, as long as the issue is resolved.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然有时这是真的，但更多的时候，问题是一些他们忽视的基本问题。在那个角色中，我很快就学会了，即使用户不愿意回答基本或显而易见的问题，但在一天结束时，他们只是希望他们的问题得到解决。如果这意味着经历重复的步骤，那也没关系，只要问题得到解决。
- en: Even today, as I am now the escalation point for senior engineers, I find that
    many times engineers (even with years of troubleshooting experience under their
    belt) overlook simple basic steps.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在今天，作为高级工程师的升级点，我发现很多时候工程师（即使在他们的故障排除经验丰富的情况下）也会忽视简单的基本步骤。
- en: Asking simple questions that might seem basic are sometimes a great time saver;
    so don't be afraid to ask them.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 有时问一些看似基本的简单问题是一个很好的时间节省者；所以不要害怕问。
- en: Attempting to duplicate the issue
  id: totrans-56
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 尝试复制问题
- en: One of the best ways to gather information and understand an issue is to experience
    it. When an issue is reported, it is best to duplicate the issue.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 收集信息和理解问题的最佳方法之一是亲身体验。当问题被报告时，最好是复制问题。
- en: While users can be a source of a lot of information, they are not always the
    most reliable; oftentimes a user might experience an error and overlook it or
    simply forget to relay the error when reporting the issue.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然用户可能是很多信息的来源，但他们并不总是最可靠的；用户经常会遇到错误并忽视它，或者在报告问题时简单地忘记传达错误。
- en: Often, one of the first questions I will ask a user is how to recreate the issue.
    If the user is able to provide this information, I will be able to see any errors
    and often identify the resolution of the issue faster.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，我会问用户如何重新创建问题。如果用户能够提供这些信息，我就能看到任何错误，并经常更快地确定问题的解决方案。
- en: Note
  id: totrans-60
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Sometimes duplicating the issue is not possible**'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**有时无法复制问题**'
- en: While it is always best to duplicate the issue, it is not always possible. Every
    day, I work with many teams; sometimes, those teams are within the company but
    many times they are external vendors. Every so often during a critical issue,
    I will see someone make a blanket statement such as "If we can't duplicate it,
    we cannot troubleshoot it."
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管复制问题通常是最好的，但并非总是可能的。每天，我与许多团队合作；有时，这些团队在公司内部，但很多时候它们是外部供应商。在关键问题时，我偶尔会看到有人发表类似于“如果我们无法复制它，我们就无法排除故障”的笼统声明。
- en: While it is true that duplicating an issue is sometimes the only way to find
    the root cause, I often hear this statement abused. Duplicating an issue should
    be viewed like a tool; it is simply one of many tools in your troubleshooting
    tool belt. If it is not available, then you simply have to make do with another
    tool.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管复制问题有时是找到根本原因的唯一方法，但我经常听到这种说法被滥用。复制问题应该被视为一种工具；它只是你排除故障工具箱中的众多工具之一。如果它不可用，那么你只能用其他工具。
- en: There is a significant difference between not being able to find a resolution
    and not attempting to find a resolution due to the inability to duplicate an issue.
    The latter is not only unhelpful, but also unprofessional.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 无法找到解决方案和由于无法复制问题而不尝试找到解决方案之间存在显著的区别。后者不仅没有帮助，而且也不专业。
- en: Running investigatory commands
  id: totrans-65
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 运行调查命令
- en: Most likely, you are reading this book to learn techniques and commands to troubleshoot
    Red Hat Enterprise Linux systems. The third sub-task in understanding the problem
    statement is just that—running investigative commands to identify the cause of
    the issue. Before executing investigatory commands, however, it is important to
    know that the previous steps are in a logical order.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 很可能，你正在阅读这本书是为了学习排除故障红帽企业 Linux 系统的技术和命令。理解问题陈述的第三个子任务就是这样——运行调查命令以确定问题的原因。然而，在执行调查命令之前，重要的是要知道之前的步骤是有逻辑顺序的。
- en: It is a best practice to first ask the user reporting an issue some basic details
    of the issue, then after obtaining enough information, duplicate the issue. Once
    the issue has been duplicated, the next logical step is to run the necessary commands
    to troubleshoot and investigate the cause of the issue.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 首先询问报告问题的用户一些基本问题的细节是最佳实践，然后在获得足够的信息后，复制问题。一旦问题被复制，下一个逻辑步骤就是运行必要的命令来排除故障和调查问题的原因。
- en: It is very common to find yourself returning to previous steps during the troubleshooting
    process. After you have identified some key errors, you might find that you must
    ask the original reporter for additional information. When troubleshooting, do
    not be afraid to take a few steps backwards in order to gain clarity of the issue
    at hand.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在故障排除过程中，经常会发现自己需要返回到之前的步骤。在你确定了一些关键错误之后，你可能会发现自己必须向最初的报告者询问额外的信息。在故障排除过程中，不要害怕向后退几步，以便更清楚地了解手头的问题。
- en: Establishing a hypothesis
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 建立假设
- en: With the scientific method, once a problem statement has been formulated it
    is then time to establish a hypothesis. With the troubleshooting process, after
    you have identified the issue, gathered the information about the issue such as
    errors, system current state, and so on, it is also time to establish what you
    believe caused or is causing the issue.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 使用科学方法，一旦问题陈述被制定出来，就是建立假设的时候了。在故障排除过程中，当你确定了问题，收集了关于问题的信息，比如错误、系统当前状态等，也是建立你认为引起或正在引起问题的原因的时候。
- en: Some issues, however, might not require much of a hypothesis. It is common that
    errors in log files or the systems current state might answer why the issue occurred.
    In such scenarios, you can simply resolve the issue and move on to the *Documentation*
    step.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，有些问题可能不需要太多的假设。通常日志文件中的错误或系统当前状态可能会解释问题发生的原因。在这种情况下，你可以简单地解决问题，然后继续进行*文档*步骤。
- en: For issues that are not cut and dry, you will need to put together a hypothesis
    of the root cause. This is necessary as the next step after forming a hypothesis
    is attempting to resolve the issue. It is difficult to resolve an issue if you
    do not have at least, a theory of the root cause.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些不是非常明显的问题，你需要提出一个根本原因的假设。这是必要的，因为形成假设之后的下一步是尝试解决问题。如果你至少没有根本原因的理论，那么解决问题就会很困难。
- en: Here are a few techniques that can be used to help form a hypothesis.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是一些可以用来帮助形成假设的技术。
- en: Putting together patterns
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 整理模式
- en: While performing data collection during the previous steps, you might start
    to see patterns. Patterns can be something as simple as similar log entries across
    multiple services, the type of failure that occurred (such as, multiple services
    going offline), or even a reoccurring spike in system resource utilization.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在进行前面步骤的数据收集时，你可能会开始看到一些模式。模式可以是一些简单的东西，比如多个服务中相似的日志条目，发生的故障类型（比如，多个服务下线），甚至是系统资源利用率的反复波动。
- en: These patterns can be used to formulate a theory of the issue. To drive the
    point home, let's go through a real-world scenario.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这些模式可以用来制定问题的理论。为了强调这一点，让我们通过一个真实的情景来看一下。
- en: You are managing a server that both runs a web application and receives e-mails.
    You have a monitoring system that detected an error with the web service and created
    a ticket. While investigating the ticket, you also receive a call from an e-mail
    user stating they are getting e-mail bounce backs.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 你正在管理一个既运行Web应用程序又接收电子邮件的服务器。你有一个监控系统检测到Web服务出现错误并创建了一个工单。在调查工单时，你还接到一个电子邮件用户的电话，称他们收到了电子邮件反弹回来的消息。
- en: When you ask the user to read the error to you they mention `No space left on
    device`.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 当你要求用户向你读出错误时，他们提到“设备上没有剩余空间”。
- en: 'Let''s break down this scenario:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来分析一下这个情景：
- en: A ticket from our monitoring solution has told us Apache is down
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的监控解决方案的工单告诉我们Apache已经停止了
- en: We have also received reports from e-mail users with errors indicative of a
    file system being full
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还收到了来自电子邮件用户的报告，其中的错误表明文件系统已满
- en: Could all of this mean that Apache is down because the file system is full?
    Possibly. Should we investigate it? Absolutely!
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 这一切可能意味着Apache已经停止，因为文件系统已满吗？可能。我们应该调查一下吗？当然！
- en: Is this something that I've encountered before?
  id: totrans-83
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 这是我以前遇到过的事情吗？
- en: The above breakdown leads into the next technique for forming a hypothesis.
    It might sound simple but is often forgotten. "Have I seen something like this
    before?"
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 上面的分析引出了形成假设的下一个技术。这可能听起来很简单，但经常被忘记。“我以前见过类似的情况吗？”
- en: With the previous scenario, the error reported from the e-mail bounce back was
    one that generally indicated that a file system was full. How do we know this?
    Well, simple, we have seen it before. Maybe we have seen that same error with
    e-mail bounce backs or maybe we have seen the error from other services. The point
    is, the error is familiar and the error generally means one thing.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在先前的情景中，电子邮件反弹回来的错误报告通常表明文件系统已满。我们怎么知道的？很简单，我们以前见过。也许我们以前在电子邮件反弹回来时见过同样的错误，或者我们在其他服务中见过这个错误。关键是，这个错误是熟悉的，而且这个错误通常意味着一件事。
- en: Remembering common errors can be extremely useful for the intuitive types such
    as the Educated Guesser and Adaptor; this is something they tend to naturally
    perform. For the Data Collector, a handy trick would be to keep a reference table
    of common errors handy.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 记住常见错误对于直觉类型的人（如有经验的猜测者和适应者）来说可能非常有用；这是他们自然而然会做的事情。对于数据收集者来说，一个方便的技巧是保留一张常见错误的参考表。
- en: Tip
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: From my experience, most Data Collectors tend to keep a set of notes that contain
    things such as common commands or steps for procedures. Adding common errors and
    the meaning behind those errors are a great way for systematic thinkers such as
    Data Collectors to establish a hypothesis faster.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我的经验，大多数数据收集者倾向于保留一组包含常见命令或程序步骤的笔记。添加常见错误和这些错误背后的含义是系统思维者（如数据收集者）更快地建立假设的好方法。
- en: Overall, establishing a hypothesis is important for all types of troubleshooters.
    This is the area where the intuitive thinkers such as Educated Guessers and Adaptors
    excel. Generally, those types of troubleshooters will form a hypothesis sooner,
    even if sometimes those hypotheses are not always correct.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，建立假设对所有类型的故障排除者都很重要。这是直觉思维者（如有经验的猜测者和适应者）擅长的领域。通常情况下，这些类型的故障排除者会更早地提出假设，即使有时这些假设并不总是正确的。
- en: Trial and error
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 试错法
- en: In the scientific method, once a hypothesis is formed, the next stage is experimentation.
    With troubleshooting, this equates to attempting to resolve the issue.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在科学方法中，一旦形成假设，下一个阶段就是实验。在故障排除中，这相当于尝试解决问题。
- en: Some issues are simple and can be resolved using a standard procedure or steps
    from experience. Other issues, however, are not as simple. Sometimes, the hypothesis
    turns out to be wrong or the issue ends up being more complicated than initially
    thought.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 有些问题很简单，可以使用标准程序或经验步骤解决。然而，其他问题并不那么简单。有时，假设结果是错误的，或者问题最终比最初想象的更复杂。
- en: In such cases, it might take multiple attempts to resolve the issue. I personally
    like to think of this as similar to trial and error. In general, you might have
    an idea of what is wrong (the hypothesis) and an idea on how to resolve it. You
    attempt to resolve it (trial), and if that doesn't work (error), you move on to
    the next possible solution.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，可能需要多次尝试解决问题。我个人喜欢把这看作是类似于试错。一般来说，你可能对问题出了什么问题（假设）有一个想法，以及如何解决它的想法。你试图解决它（试验），如果不起作用（错误），你就会转向下一个可能的解决方案。
- en: Start by creating a backup
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 首先创建一个备份
- en: 'To those taking up a new role as a Linux Systems Administrator, if there were
    only one piece of advice I could give, it would be one that most have learned
    the hard way: *back everything up before making changes*.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些担任新角色的Linux系统管理员，如果我只能给出一个建议，那就是大多数人都是通过艰难的方式学到的：*在进行更改之前备份所有内容*。
- en: Many times as systems administrators we find ourselves needing to change a configuration
    file or delete a few unneeded files in order to solve an issue. Unfortunately,
    we might think we know what needs to be removed or changed but are not always
    correct.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 作为系统管理员，我们经常发现自己需要更改配置文件或删除一些不需要的文件以解决问题。不幸的是，我们可能认为自己知道需要删除或更改的内容，但并不总是正确。
- en: If a backup was taken, then the change can simply be restored to its previous
    state, however, without a backup. Thus reverting changes is not as easy.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 如果已经进行了备份，那么更改可以简单地恢复到先前的状态，但是没有备份。因此，撤销更改并不那么容易。
- en: A backup can consist of many things, it can be a full system backup using something
    like `rdiff-backup`, a VM snapshot, or something as simple as creating a copy
    of a file.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 备份可以包括许多内容，可以是使用诸如`rdiff-backup`之类的完整系统备份，VM快照，或者简单地创建文件副本。
- en: Tip
  id: totrans-99
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: 'For those interested in seeing the extent of this tip in practice, simply run
    the following command on any server that has more than four systems administrators
    and has been around for several years:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些有兴趣看到这个提示在实践中的程度的人，只需在任何有四名以上系统管理员并且已经存在数年的服务器上运行以下命令：
- en: '[PRE0]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Getting help
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 寻求帮助
- en: In many cases at this point the issue is resolved, but much like each step in
    the troubleshooting process, it depends on the issue at hand. While getting help
    is not exactly a troubleshooting step, it is often the next logical step if you
    cannot solve the issue on your own.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在许多情况下，问题在这一点上已经解决了，但就像故障排除过程中的每一步一样，这取决于手头的问题。虽然寻求帮助并不完全是故障排除的步骤，但如果你无法自己解决问题，这往往是下一个逻辑步骤。
- en: 'When looking for help, there are generally six resources available:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 在寻求帮助时，通常有六种资源可用：
- en: Books
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 书籍
- en: Team Wikis or Runbooks
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 团队维基或运行手册
- en: Google
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 谷歌
- en: Man pages
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 手册
- en: Red Hat kernel docs
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 红帽内核文档
- en: People
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 人们
- en: Books
  id: totrans-111
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 书籍
- en: Books (such as this one) are good for referencing commands or troubleshooting
    steps for particular types of issues. Other books such as the ones that specialize
    on a specific technology are good for referencing how that technology works. In
    previous years, it was not uncommon to see a senior admin with a bookshelf full
    of technical books at his or her disposal.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 书籍（比如这本书）对于参考特定类型问题的命令或故障排除步骤是很好的。其他专门针对特定技术的书籍对于参考该技术的工作原理也是很好的。在以前的几年里，看到一位高级管理员手边放着一整排技术书籍是很常见的。
- en: In today's world, as books are more frequently seen in a digital format, they
    are even easier to use as references. The digital format makes them searchable
    and allows readers to find specific sections faster than a traditional printed
    version.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的世界中，由于书籍更频繁地以数字格式出现，它们甚至更容易用作参考。数字格式使它们可以被搜索，并允许读者比传统的印刷版本更快地找到特定部分。
- en: Team Wikis or Runbooks
  id: totrans-114
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 团队维基或运行手册
- en: Before **Team Wikis** became common, many operations groups had physical books
    called **Runbooks**. These books are a list of processes and procedures used daily
    by the operations team to keep the production environments operating normally.
    Sometimes, these Runbooks would contain information for provisioning new servers
    and sometimes they would be dedicated to troubleshooting.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在**团队维基**变得普遍之前，许多运营团队都有名为**运行手册**的实体书籍。这些书是运营团队每天使用的流程和程序列表，用于保持生产环境正常运行。有时，这些运行手册会包含有关配置新服务器的信息，有时它们会专门用于故障排除。
- en: In today's world, these Runbooks have mostly been replaced by Team Wikis, these
    Wikis will often have the same content but are online. They also tend to be searchable
    and easier to keep up to date, which means they are frequently more relevant than
    a traditional printed Runbook.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在今天的世界中，这些运行手册大多被团队维基所取代，这些维基通常具有相同的内容，但是在线的。它们也往往是可搜索的，更容易保持最新，这意味着它们通常比传统的印刷运行手册更相关。
- en: The benefit of Team Wikis and Runbooks are that not only can they often address
    issues that are specific to your environment, but they can also resolve those
    issues. There are many ways to configure services such as Apache, and there are
    even more ways that external systems create dependencies on these services.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 团队维基和运行手册的好处在于它们不仅可以解决特定于您环境的问题，而且还可以解决这些问题。有许多配置服务（如Apache）的方法，外部系统对这些服务创建依赖的方式更多。
- en: In some environments, you might be able to simply restart Apache whenever there
    is an issue, but in others, you might actually have to go through several prerequisite
    steps. If there is a specific process that needs to be followed before restarting
    a service, it is a best practice to document the process in either a Team Wiki
    or Runbook.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些环境中，当出现问题时，您可能只需简单地重新启动Apache，但在其他情况下，您可能实际上需要经历几个先决步骤。如果在重新启动服务之前需要遵循特定的流程，最佳做法是将流程记录在团队Wiki或Runbook中。
- en: Google
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 谷歌
- en: Google is such a common tool for systems administrators that at one point there
    were specific search portals available at `google.com/linux`, `google.com/microsoft`,
    `google.com/mac`, and `google.com/bsd`.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌是系统管理员如此常用的工具，以至于曾经有特定的搜索门户网站可用，如`google.com/linux`，`google.com/microsoft`，`google.com/mac`和`google.com/bsd`。
- en: Google has depreciated these search portals but that doesn't mean that the number
    of times systems administrators use Google or any other search engine for troubleshooting
    has decreased.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌已经停用了这些搜索门户，但这并不意味着系统管理员使用谷歌或任何其他搜索引擎进行故障排除的次数减少了。
- en: In fact, in today's world, it is not uncommon to hear the words "I would Google
    it" in technical interviews.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，在今天的世界中，在技术面试中听到“我会谷歌一下”这样的话并不罕见。
- en: 'A few tips for those new to using Google for systems administration tasks are:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些刚开始使用谷歌进行系统管理任务的人，一些建议是：
- en: 'If you copy and paste a full error message (removing the server specific text)
    you will likely find more relevant results:'
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您复制并粘贴完整的错误消息（删除服务器特定的文本），您可能会找到更相关的结果：
- en: 'For example, searching for *kdumpctl: No memory reserved for crash kernel*
    returns 600 results, whereas searching for *memory reserved for crash kernel*
    returns 449,000 results.'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '例如，搜索*kdumpctl: No memory reserved for crash kernel*返回600个结果，而搜索*memory reserved
    for crash kernel*返回449,000个结果。'
- en: You can find an online version of any man page by searching for `man` then a
    command such as `man netstat`.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以通过搜索`man`然后是一个命令，比如`man netstat`，找到任何man页面的在线版本。
- en: You can wrap an error in double quotes to refine search results to those that
    contain the same error.
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以用双引号包裹错误以细化搜索结果，使其包含相同的错误。
- en: Asking what you're looking for in the form of a question usually results in
    tutorials. For example, *How do you restart Apache on RHEL 7?*
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通常以问题的形式询问您要找的内容通常会得到教程。例如，*如何在RHEL 7上重新启动Apache？*
- en: While Google can be a great resource, the results should always be taken with
    a grain of salt. Often while searching for an error on Google, you might find
    a suggested command that offers little explanation but simply says "run this and
    it will fix it". Be very cautious when running these commands, it is important
    that any command you execute on a system should be a command you are familiar
    with. You should always know what a command does before executing it.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然谷歌可能是一个很好的资源，但结果应该始终持保留态度。在谷歌上搜索错误时，您可能会找到一个建议的命令，它提供了很少的解释，只是简单地说“运行这个命令就会修复它”。在运行这些命令时要非常谨慎，重要的是您在执行系统上的任何命令之前都应该熟悉该命令。您应该在执行之前了解命令的作用。
- en: Man pages
  id: totrans-130
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Man页面
- en: When Google is not available or even sometimes when it is, the best source of
    information on commands or Linux, in general, are the **man pages**. The man pages
    are core Linux manual documents that are accessible via the `man` command.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 当谷歌不可用，甚至有时候它可用时，关于命令或Linux的最佳信息来源通常是**man页面**。man页面是核心Linux手册文档，可以通过`man`命令访问。
- en: 'To look up documentation for the `netstat` command, for example, simply run
    the following:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，要查找`netstat`命令的文档，只需运行以下命令：
- en: '[PRE1]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'As you can see, this command outputs not only the information on what the `netstat`
    command is, but also contains a quick synopsis of usage information such as the
    following:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您所看到的，这个命令不仅输出了`netstat`命令的信息，还包含了使用信息的快速概要，如下所示：
- en: '[PRE2]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Also, it gives detailed descriptions of each flag and what it does:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，它提供了每个标志的详细描述及其作用：
- en: '[PRE3]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: In general, the base manual pages for the core system and libraries are distributed
    with the `man-pages` package. The man pages for specific commands such as `top`,
    `netstat`, or `ps` are distributed as part of that command's installation package.
    The reason for this is because the documentation of individual commands and components
    is left to the package maintainers.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，核心系统和库的基本手册页面是通过`man-pages`软件包分发的。特定命令的man页面，如`top`，`netstat`或`ps`，是作为该命令的安装软件包的一部分分发的。这是因为个别命令和组件的文档留给了软件包维护者。
- en: This can mean that some commands are not documented to the level of others.
    In general, however, the man pages are extremely useful sources of information
    and can answer most day-to-day questions.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着有些命令的文档水平可能不如其他命令。然而，总的来说，man页面是非常有用的信息来源，可以回答大多数日常问题。
- en: Reading a man page
  id: totrans-140
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 阅读man页面
- en: 'In the previous example, we can see that the man page for `netstat` includes
    a few sections of information. In general, man pages have a consistent layout
    with some common sections that can be found within most man pages. The following
    is a simple list of some of these common sections:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的例子中，我们可以看到`netstat`的man页面包含了一些信息部分。一般来说，man页面有一个一致的布局，其中包含一些常见的部分，这些部分可以在大多数man页面中找到。以下是一些常见部分的简单列表：
- en: Name
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 名称
- en: Synopsis
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 概要
- en: Description
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述
- en: Examples
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 示例
- en: Name
  id: totrans-146
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 名称
- en: 'The **Name** section generally contains the name of the command and a very
    brief description of the command. The following is the name section from the `ps`
    command''s man page:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: '**名称**部分通常包含命令的名称和对命令的非常简要的描述。以下是`ps`命令的man页面中的名称部分：'
- en: '[PRE4]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Synopsis
  id: totrans-149
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 概要
- en: 'The **Synopsis** section of a command''s man page will generally list the command
    followed by the possible command flags or options. A very good example of this
    section can be seen in the `netstat` command''s synopsis:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 命令的man页面的**概要**部分通常会列出命令，后面是可能的命令标志或选项。这一部分的一个很好的例子可以在`netstat`命令的概要中看到：
- en: '[PRE5]'
  id: totrans-151
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '[PRE7]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The description section is very useful, since it goes beyond simply looking
    up options. This section is often where you will find documentation about the
    nuances of commands.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 描述部分非常有用，因为它不仅仅是查找选项。这部分通常是你会找到关于命令细微差别的文档的地方。
- en: Examples
  id: totrans-155
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 示例
- en: 'Often man pages will also include examples of using the command:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 通常 man 页面还会包括使用命令的示例：
- en: '[PRE8]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '[PRE9]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This section is often where I find new ways of using commands that I've used
    many times before.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 这部分通常是我发现如何使用我以前多次使用的命令的新方法的地方。
- en: Additional sections
  id: totrans-160
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 其他部分
- en: In addition to the previous section, you might also see sections such as **See
    Also**, **Files**, **Author**, and **History**. These sections can also contain
    useful information; however, not every man page will have them.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 除了前面的部分，你可能还会看到诸如**另请参阅**、**文件**、**作者**和**历史**等部分。这些部分也可能包含有用的信息；但并非每个 man 页面都会有这些部分。
- en: Info documentation
  id: totrans-162
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: Info 文档
- en: Along with man pages, Linux systems generally also contain **info documentation**,
    which are designed to contain additional documentation, which go beyond that,
    within man pages. Much like man pages, the info documentation is included with
    a command package, and the quality/quantity of the documentation can vary by package.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 man 页面，Linux 系统通常还包含**info 文档**，这些文档旨在包含超出 man 页面范围的额外文档。与 man 页面类似，info
    文档包含在一个命令包中，文档的质量/数量可以因包而异。
- en: 'The method to invoke the info documentation is similar to man pages, simply
    execute the `info` command followed by the subject you wish to view:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 调用 info 文档的方法类似于 man 页面，只需执行 `info` 命令，然后跟上你想查看的主题：
- en: '[PRE10]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: Referencing more than commands
  id: totrans-166
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 引用更多命令
- en: In addition to using man pages and info documentation to look up commands; these
    tools can also be used to view documentation around other items such as system
    calls or configuration files.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 除了使用 man 页面和 info 文档查找命令之外；这些工具也可以用来查看系统调用或配置文件等其他项目的文档。
- en: 'As an example, if you were to use `man` to search for the term `signal`, you
    would see the following:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 举例来说，如果你使用 `man` 来搜索术语 `signal`，你会看到以下内容：
- en: '[PRE11]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: '`Signal` is a very important system call and a core concept of Linux. Knowing
    that it is possible to use the `man` and `info` commands to look up core Linux
    concepts and behaviors can be very useful during troubleshooting.'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '`Signal` 是一个非常重要的系统调用和 Linux 的核心概念。知道可以使用 `man` 和 `info` 命令来查找核心 Linux 概念和行为在故障排除过程中非常有用。'
- en: Installing man pages
  id: totrans-171
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 安装 man 页面
- en: 'Red Hat Enterprise Linux based distributions generally include the `man-pages`
    package; if your system does not have the `man-pages` package installed, you can
    install it with the `yum` command:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 Red Hat Enterprise Linux 的发行版通常包括 `man-pages` 包；如果你的系统没有安装 `man-pages` 包，你可以使用
    `yum` 命令安装它：
- en: '[PRE12]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Red Hat kernel docs
  id: totrans-174
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Red Hat 内核文档
- en: In addition to man pages, the Red Hat distribution also has a package called
    **kernel-doc**. This package contains quite a bit of information on how the internals
    of the system works.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 除了 man 页面，Red Hat 发行版还有一个叫做**kernel-doc**的包。这个包包含了关于系统内部工作原理的大量信息。
- en: The kernel documentation is a set of text files that are placed into `/usr/share/doc/kernel-doc-<kernel-version>/`
    and are categorized by the topic they cover. This resource is quite useful for
    deeper troubleshooting such as adjusting kernel tunables or understanding how
    `ext4` filesystems utilize the journal.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 内核文档是一组文本文件，放置在 `/usr/share/doc/kernel-doc-<kernel-version>/` 中，并按其涵盖的主题进行分类。这个资源对于更深入的故障排除非常有用，比如调整内核可调整参数或理解
    `ext4` 文件系统如何利用日志。
- en: 'By default, the `kernel-doc` package is not installed, however, it can be easily
    installed using the `yum` command:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，`kernel-doc` 包未安装，但可以使用 `yum` 命令轻松安装：
- en: '[PRE13]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: People
  id: totrans-179
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 人员
- en: 'Whether it is a friend or a team leader, there is certain etiquette when asking
    others for help. The following is a list of things that people tend to expect
    when asked to help solve an issue. When I am asked for help, I would expect you
    to:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 无论是朋友还是团队领导，在向他人寻求帮助时都有一定的礼仪。以下是人们在被要求解决问题时通常期望的事情列表。当我被要求帮助时，我希望你能：
- en: '**Try to resolve it yourself**: When escalating an issue, it is always best
    to at least try to follow the *Understanding the problem* statement and *Forming
    a hypothesis* steps of the troubleshooting process.'
  id: totrans-181
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**尝试自己解决问题**：在升级问题时，最好至少尝试遵循故障排除过程中的*理解问题*和*形成假设*步骤。'
- en: '**Document what you''ve tried**: Documentation is key to escalating issues
    or getting help. The better you document the steps tried and errors found, the
    faster it will be for others to identify and resolve the issue.'
  id: totrans-182
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**记录你尝试过的内容**：文档是升级问题或寻求帮助的关键。你记录的步骤和发现的错误越详细，其他人就越快地能够识别和解决问题。'
- en: '**Explain what you think the issue is and what was reported**: When you escalate
    the issue, one of the first things to point out is your hypothesis. Often this
    can help expedite resolution by leading the next person to a possible solution
    without having to perform data collection activities.'
  id: totrans-183
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**解释你认为问题是什么以及报告了什么**：当你升级问题时，首先要指出的是你的假设。通常这可以帮助下一个人迅速找到可能的解决方案，而不必进行数据收集活动。'
- en: '**Mention whether there is anything else that happened to this system recently**:
    Often issues come in pairs, it is important to highlight all factors of what is
    happening on the system or systems affected.'
  id: totrans-184
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提及最近这个系统是否发生了其他事情**：问题通常是成对出现的，突出系统或受影响系统上发生的所有因素是很重要的。'
- en: The preceding list, while not extensive, is important as each of these key pieces
    of information can help the next person troubleshoot the issue effectively.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 上述列表虽然不全面，但每个关键信息都可以帮助下一个人有效地解决问题。
- en: Following up
  id: totrans-186
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 跟进
- en: When escalating issues, it is always best to follow up with that other person
    to find out what they did and how they did it. This is important as it will show
    the person you asked that you are willing to learn more, which many times will
    lead to them taking time to explain how they resolved and identified the issue.
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在升级问题时，最好跟进其他人，了解他们做了什么以及如何做的。这很重要，因为它会向你询问的人表明你愿意学习更多，这往往会导致他们花时间解释他们是如何解决和识别问题的。
- en: Interactions like these will give you more knowledge and help build your system's
    administration skills and experience.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 这样的互动将使你获得更多知识，并帮助建立你的系统管理技能和经验。
- en: Documentation
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 文档
- en: 'Documentation is a critical step in the troubleshooting process. At every step
    during the process, it is key to take note and document the actions being performed.
    Why is it important to document? Three reasons mainly:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 文档编制是故障排除过程中的关键步骤。在整个过程中，关键是要注意并记录正在执行的操作。为什么记录很重要？主要有三个原因：
- en: When escalating the issue, the more information you have written down the more
    you can pass on to another
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在升级问题时，你记录的信息越多，就能传递更多信息给其他人
- en: If the issue is a reoccurring issue, the documentation can be used to update
    a Team Wiki or Runbook
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果问题是一个再次发生的问题，文档可以用于更新团队Wiki或运行手册
- en: If, in your environment, you perform **Root Cause Analysis** (**RCA**), all
    of this information will be required for a RCA
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果在你的环境中进行**根本原因分析**（**RCA**），所有这些信息都将需要进行RCA
- en: Depending on environments, the documentation can be anything from simple notes
    saved in a text file on a local system to required notes for a ticket system.
    Each work environment is different but a general rule is *there is no such thing
    as too much documentation*.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 根据环境的不同，文档可以是从保存在本地系统文本文件中的简单笔记到票务系统所需的笔记。每个工作环境都不同，但一个普遍规则是*没有太多的文档*。
- en: For Data Collectors, this step is fairly natural. As most Data Collector personalities
    will generally keep quite a few notes for their own personal use. For Educated
    Guessers, this step might seem unnecessary. However, for any issue that is reoccurring
    or needs to be escalated, documentation is critical.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 对于数据收集者来说，这一步相当自然。因为大多数数据收集者的个性通常会为自己保留相当多的笔记。对于受过教育的猜测者来说，这一步可能看起来是不必要的。然而，对于任何再次发生或需要升级的问题，文档都是至关重要的。
- en: 'What kind of information should be documented? The following list is a good
    starting point but as with most things in troubleshooting, it depends on the environment
    and the issue:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 应该记录哪些信息？以下列表是一个很好的起点，但与大多数故障排除中的事情一样，它取决于环境和问题：
- en: The problem statement, as you understand it
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题陈述，你所理解的
- en: The hypothesis of what is causing the issue
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 导致问题的假设。
- en: 'Data collected during the information gathering steps:'
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息收集步骤中收集的数据：
- en: Specific errors found
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 找到的具体错误
- en: Relevant system metrics (for example, CPU, Memory, and Disk utilization)
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 相关系统指标（例如，CPU、内存和磁盘利用率）
- en: Commands executed during the information gathering steps (within reason, it
    is not required to include every `cd` or `ls` command executed)
  id: totrans-202
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 信息收集步骤中执行的命令（在合理范围内，不需要包括每个执行的`cd`或`ls`命令）
- en: Steps taken during attempts to resolve the issue, including specific commands
    executed
  id: totrans-203
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尝试解决问题时采取的步骤，包括执行的具体命令
- en: With the preceding items well documented, if the issue reoccurs, it is relatively
    simple to take the documentation and move it to a Team Wiki. The benefit to this
    is that a Wiki article can be used by other team members who need to resolve the
    same issue during reoccurrences.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 如果前面的项目有很好的记录，如果问题再次发生，将文档移至团队Wiki相对简单。这样做的好处是，其他需要在问题再次发生时解决相同问题的团队成员可以使用Wiki文章。
- en: One of the three reasons listed previously for documentation is to use the documentation
    during Root Cause Analysis, which leads to our next topic—Establishing a Root
    Cause Analysis.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 文档编制的三个原因之一是在根本原因分析期间使用文档，这将引出我们下一个话题——建立根本原因分析。
- en: Root cause analysis
  id: totrans-206
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 根本原因分析
- en: Root cause analysis is a process that is performed after incidents occur. The
    goal of the RCA process is to identify the root cause of an incident and identify
    any possible corrective actions to prevent the same incident from occurring again.
    These corrective actions might be as simple as establishing user training to reconfiguring
    Apache across all web servers.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 根本原因分析是在事件发生后进行的过程。RCA过程的目标是确定事件的根本原因，并确定可能的纠正措施，以防止同样的事件再次发生。这些纠正措施可能是简单的，比如建立用户培训，重新配置所有Web服务器上的Apache。
- en: The RCA process is not unique to technology and is a widely practiced process
    in fields such as aviation and occupational safety. In these fields, an incident
    is often more than simply a few computers being offline. They are incidents where
    a person's life might have been at risk.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: RCA过程并不局限于技术领域，在航空和职业安全等领域也是一种广泛实践的过程。在这些领域，事件往往不仅仅是几台计算机离线。这些事件可能会危及人的生命。
- en: The anatomy of a good RCA
  id: totrans-209
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 一个良好RCA的解剖结构
- en: 'Different work environments might implement RCA processes differently but at
    the end of the day there are a few key elements in every good RCA:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 不同的工作环境可能以不同的方式实施RCA过程，但归根结底，每个良好的RCA都有一些关键要素：
- en: The problem as it was reported
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题的报告情况
- en: The actual root cause of the problem
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题的实际根本原因
- en: A timeline of events and actions taken
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事件和采取的行动的时间表
- en: Any key data points
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何关键数据点
- en: A plan of action to prevent the incident from reoccurring
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 防止事件再次发生的行动计划
- en: The problem as it was reported
  id: totrans-216
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题的报告情况
- en: One of the first steps in the troubleshooting process is to identify the problem;
    this information is a key piece of information for RCAs. The importance can vary
    in reason depending on the issue. Sometimes, this information will show whether
    or not the issue was correctly identified. Most times, it can serve as an estimate
    of the impact of the issue.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 故障排除过程中的第一步之一是确定问题；这些信息对RCA非常重要。根据问题的原因，其重要性可能有所不同。有时，这些信息将显示问题是否被正确识别。大多数时候，它可以作为问题影响的估计。
- en: Understanding the impact of an issue can be very important, for some companies
    and issues it could mean lost revenue; for other companies, it could mean damage
    to their brand or depending on the issue, it could mean nothing at all.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 了解问题的影响可能非常重要，对于一些公司和问题，这可能意味着收入损失；对于其他公司，这可能意味着损害其品牌，或者根据问题的严重程度，可能什么都不意味着。
- en: The actual root cause of the problem
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 问题的实际根本原因
- en: This element of a Root Cause Analysis is pretty self-explanatory on its importance.
    However, sometimes it might not be possible to identify a root cause. In this
    chapter and in [Chapter 12](part0077_split_000.html#29DRA1-8ae10833f0c4428b9e1482c7fee089b4
    "Chapter 12. Root Cause Analysis of an Unexpected Reboot"), *Root Cause Analysis
    of an Unexpected Reboot*, I will discuss how to handle issues where a full root
    cause is unavailable.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 根本原因分析的这一要素在其重要性上相当不言而喻。然而，有时可能无法确定根本原因。在本章和[第12章](part0077_split_000.html#29DRA1-8ae10833f0c4428b9e1482c7fee089b4
    "第12章。意外重启的根本原因分析")中，我将讨论如何处理无法获得完整根本原因的问题。
- en: A timeline of events and actions taken
  id: totrans-221
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 事件和采取的行动的时间表
- en: If we use an aviation incident as an example, it is easy to see where a timeline
    of events such as, when did the plane take off, when were passengers boarded,
    and when did the maintenance crew finish their evaluation, can be useful. A timeline
    for technology incidents can also be very useful, as it can be used to identify
    the length of impact and when key actions are taken.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们以航空事件为例，很容易看出事件时间表的重要性，比如飞机何时起飞，何时乘客登机，以及维护人员何时完成评估，这些都可能很有用。技术事件的时间表也可能非常有用，因为它可以用来确定影响的持续时间以及采取关键行动的时间。
- en: 'A good timeline should consist of times and major events of the incident. The
    following is an example timeline of a technology incident:'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 一个良好的时间表应该包括事件的时间和主要事件。以下是技术事件的时间表示例：
- en: At 08:00, Joe B. phones the NOC helpline reporting an outage with e-mail servers
    in Tempe
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 08:00，Joe B.打电话给NOC热线，报告Tempe的电子邮件服务器中断
- en: At 08:15, John C. logged into the e-mail servers in Tempe and noticed they were
    running out of available memory
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 08:15，John C.登录到Tempe的电子邮件服务器，注意到它们的可用内存不足。
- en: At 08:17, as per the Runbook, John C. began rebooting the e-mail servers one
    by one
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 08:17，根据Runbook，John C.开始逐个重新启动Tempe的电子邮件服务器
- en: Any key data points to validate the root cause
  id: totrans-227
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 验证根本原因的任何关键数据点
- en: In addition to a timeline of events, the RCA should also include key data points.
    To use the aviation example again, a key data point would be the weather conditions
    during the incident, the work hours of those involved, or the condition of the
    aircraft.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 除了事件时间表之外，RCA还应包括关键数据点。再次以航空事故为例，关键数据点可能是事故期间的天气条件，参与人员的工作时间，或飞机的状况。
- en: 'Our timeline example included a few key data points, which include:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的时间表示例包括一些关键数据点，其中包括：
- en: 'Time of incident: 08:00'
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 事故时间：08:00
- en: 'Condition of e-mail servers: Running out of available memory'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电子邮件服务器的状况：可用内存不足
- en: 'Affected service: E-mail'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 受影响的服务：电子邮件
- en: Whether the data points are on their own or within a timeline, it is important
    to ensure those data points are well documented in the RCA.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 无论数据点是独立的还是在时间表内，都很重要确保这些数据点在RCA中得到充分记录。
- en: A plan of action to prevent the incident from reoccurring
  id: totrans-234
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 防止事故再次发生的行动计划
- en: The entire point of performing a root cause analysis is to establish why an
    incident occurred and the plan of action to prevent it from happening again.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 执行根本原因分析的整个目的是确定为什么发生了事故以及防止再次发生的行动计划。
- en: Unfortunately, this is an area that I see many RCA's neglect. An RCA process
    can be useful when implemented well; however, when implemented poorly they can
    turn into a waste of time and resources.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，我看到许多RCA忽视了这一点。RCA流程在实施良好时可能很有用；然而，当实施不当时，它们可能会变成浪费时间和资源。
- en: Often with poor implementations, you will find that RCAs are required for every
    incident big or small. The problem with this is that it leads to a reduction of
    quality in the RCAs. An RCA should only be performed when the incident causes
    significant impact. For example, hardware failures are not preventable, you can
    proactively identify hardware failure using tools such as `smartd` for hard drives
    but apart from replacing them you cannot always prevent them from failing. Requiring
    an RCA for every hardware failure and replacement is an example of a poorly implemented
    RCA process.
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，对于实施不良的情况，您会发现需要对每个大或小的事件进行RCA。这样做的问题在于，它会导致RCA的质量降低。只有在事件造成重大影响时才应执行RCA。例如，硬件故障是无法预防的，您可以使用诸如`smartd`之类的工具主动识别硬盘故障，但除了更换它们之外，您并不能总是防止它们发生故障。要求对每次硬件故障和更换进行RCA是RCA流程实施不当的一个例子。
- en: When an engineer is required to establish a root cause for something as common
    as hardware failing, they neglect the root cause process. When engineers neglect
    the RCA process for one type of incident, it can spread to other types of incidents
    causing quality of RCAs to suffer.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 当工程师需要确定像硬件故障这样常见的问题的根本原因时，他们忽视了根本原因的过程。当工程师忽视某种类型的事件的RCA过程时，它可能会扩散到其他类型的事件，导致RCA的质量下降。
- en: An RCA should only be reserved for incidents with significant impact. Minor
    incidents or routine incidents should never have an RCA requirement; they should
    however, be tracked. By tracking the number of hard drives that have been replaced
    along with the make and model of those hard drives, it is possible to identify
    hardware quality issues. The same is true with routine incidents such as resetting
    user passwords. By tracking these types of incidents, it is possible to identify
    possible areas of improvement.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 根本原因分析应该只针对具有重大影响的事件。轻微事件或例行事件不应该有根本原因分析的要求；但是，它们应该被跟踪。通过跟踪已更换的硬盘数量以及这些硬盘的品牌和型号，可以识别硬件质量问题。对于重置用户密码等例行事件也是如此。通过跟踪这些类型的事件，可以识别可能的改进领域。
- en: Establishing a root cause
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 建立根本原因
- en: To give a better understanding of the RCA process, let's use a hypothetical
    problem seen in production environments.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解根本原因分析过程，让我们使用在生产环境中看到的一个假设问题。
- en: Note
  id: totrans-242
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: A web application crashed when writing to a file
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在写入文件时，一个Web应用程序崩溃了
- en: After logging into the system, you were able to find that the application crashed
    because the file system where the application attempted to write to was full.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 登录系统后，你发现应用程序崩溃是因为应用程序尝试写入的文件系统已满。
- en: Note
  id: totrans-245
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**The root cause is not always the obvious cause**'
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: '**根本原因并不总是显而易见的原因**'
- en: Was the root cause of the issue the fact that the file system was full? No.
    While the file system being full might have caused the application to crash, this
    is what is called a contributing factor. A contributing factor, such as the filesystem
    being full can be corrected but this will not prevent the issue from reoccurring.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 问题的根本原因是文件系统满了吗？不是。虽然文件系统满可能导致应用程序崩溃，但这被称为一个促成因素。促成因素，如文件系统满，可以纠正，但这不会防止问题再次发生。
- en: At this point, it is important to identify why the filesystem was full. On further
    investigation, you find that it was due to a co-worker disabling a **cron job**
    that removes old application files. After the cron job was disabled, the available
    space on the filesystem slowly kept decreasing. Eventually, the filesystem was
    100 percent utilized.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，重要的是要确定文件系统为什么会满。进一步调查后，你发现是因为一位同事禁用了一个删除旧应用程序文件的**定时任务**。在禁用了定时任务后，文件系统上的可用空间逐渐减少。最终，文件系统被100%利用。
- en: In this case, the root cause of the issue was the disabled cron job.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，问题的根本原因是禁用的定时任务。
- en: Sometimes you must sacrifice a root cause analysis
  id: totrans-250
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 有时你必须牺牲根本原因分析
- en: Let's look at another hypothetical situation, where an issue causes an outage.
    Since the issue caused significant impact, it will absolutely require an RCA.
    The problem is, in order to resolve the issue, you will need to perform an activity
    that eliminates the possibility of performing an accurate RCA.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看另一个假设情况，一个问题导致了停机。由于问题造成了重大影响，它绝对需要进行根本原因分析。问题是，为了解决问题，你需要执行一项活动，这将消除进行准确根本原因分析的可能性。
- en: These situations sometimes require a judgment call, whether to live with the
    outage a little longer or resolve the outage and sacrifice any chance of an RCA.
    Unfortunately, there is no single answer for these situations, the correct answer
    depends on both the issue and the environment affected.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 这些情况有时需要判断，是选择忍受停机更长时间，还是解决停机并牺牲进行根本原因分析的机会。不幸的是，对于这些情况没有单一答案，正确答案取决于问题和受影响的环境。
- en: Tip
  id: totrans-253
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: While working on financial systems, I find myself having to make this decision
    often. With mission critical systems, the answer was almost always to restore
    service above performing the root cause analysis. However, whenever possible,
    it is always preferred to first capture data even if that data cannot be reviewed
    immediately.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在处理财务系统时，我经常发现自己不得不做出这个决定。对于关键任务系统，答案几乎总是恢复服务优先于进行根本原因分析。然而，只要可能，总是首选首先捕获数据，即使这些数据不能立即审查。
- en: Understanding your environment
  id: totrans-255
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 了解你的环境
- en: The final section in this chapter is one of the most important best practices
    I can suggest. The final section covers the importance of understanding your environment.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的最后一节是我能提出的最重要的最佳实践之一。最后一节涵盖了了解你的环境的重要性。
- en: Some believe that a systems administrator's job stops at the applications installed
    on the system and that the systems administrator should only be concerned with
    the operating system and the operating system's components, such as networking
    or file systems.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人认为系统管理员的工作止步于系统上安装的应用程序，系统管理员只应关注操作系统及其组件，如网络或文件系统。
- en: I do not follow this philosophy. In reality, it is often that a systems administrator
    will start to understand how an application works in production better than the
    development team who created it.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 我不赞同这种观点。事实上，通常情况下，系统管理员会开始比创建它的开发团队更好地了解应用程序在生产中的工作方式。
- en: From my experience, in order to truly support a server, you must understand
    the service and applications running within that server. For example, in many
    enterprise environments the systems administrator is expected to handle the configuration
    and management of the web server (for example, Apache and Nginx). However, the
    same system admin is not expected to manage the application (for example, Java
    and C) behind Apache.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我的经验，为了真正支持服务器，你必须了解在该服务器内运行的服务和应用程序。例如，在许多企业环境中，系统管理员被期望处理Web服务器的配置和管理（例如，Apache和Nginx）。然而，同一系统管理员不被期望管理Apache后面的应用程序（例如，Java和C）。
- en: What makes Apache different from a Java application? The answer is nothing really;
    at the end of the day they are both applications running on the server. I have
    seen many administrators simply wash their hands off an issue once the issue is
    related to an application. Yet if the issue is related to Apache, they spring
    into action.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: Apache与Java应用程序有何不同？答案实际上是没有什么不同；归根结底，它们都是在服务器上运行的应用程序。我看到许多管理员一旦问题与应用程序有关，就会简单地放手不管。然而，如果问题与Apache有关，他们就会迅速采取行动。
- en: In the end, if those administration groups were to partner with the development
    group the issues could be solved faster. It is the administrator's responsibility
    to understand and help troubleshoot issues with any software loaded on their systems.
    Whether that software was distributed with the OS or installed later by an application
    team.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，如果这些管理团队与开发团队合作，问题可以更快地得到解决。管理员有责任了解并帮助解决系统上加载的任何软件的问题，无论是操作系统分发的软件还是后来由应用团队安装的软件。
- en: Summary
  id: totrans-262
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you learned that there are two main styles of troubleshooting,
    intuitive (Educated Guessers) and systematic (Data Collectors). We covered which
    troubleshooting steps work best for those two styles and that it is possible for
    some (Adaptors) to utilize both styles of troubleshooting.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您了解到故障排除有两种主要风格，直觉式（有经验的猜测者）和系统化（数据收集者）。我们介绍了哪些故障排除步骤对这两种风格最有效，以及一些人（适应者）可以利用这两种风格的故障排除。
- en: In the following chapters of this book, as we troubleshoot real-life scenarios,
    I will utilize both the intuitive and systematic troubleshooting steps highlighted
    in the processes discussed in this chapter.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书的后续章节中，当我们排除现实生活中的场景时，我将利用本章讨论的过程中突出的直觉和系统化的故障排除步骤。
- en: This chapter did not get into technical specifics; the next chapter will be
    full of technical details, as we cover and explore common Linux commands used
    for troubleshooting.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 本章没有涉及技术细节；下一章将充满技术细节，我们将介绍和探讨用于故障排除的常见Linux命令。
