["```\n$ cd Projects/ldddc/linux/\n$ ls\narch        Documentation  Kbuild       mm               scripts   virt\nblock       drivers        Kconfig      modules.builtin  security  vmlinux\nbuilt-in.a  firmware       kernel       modules.order    sound     vmlinux.o\ncerts       fs             lib          Module.symvers   stNXtP40\nCOPYING     include        LICENSES     net System.map\nCREDITS     init           MAINTAINERS  README tools\ncrypto      ipc            Makefile     samples usr\n```", "```\n$ export ARCH=arm64\n$ export CROSS_COMPILE=aarch64-linux-gnu-\n```", "```\n$ make Image dtbs modules\n  CALL scripts/checksyscalls.sh\n...\n```", "```\n/*\n * Dummy code\n */\n\n#include <linux/module.h>\n\nstatic int __init dummy_code_init(void)\n{\n    printk(KERN_INFO \"dummy-code loaded\\n\");\n    return 0;\n}\n\nstatic void __exit dummy_code_exit(void)\n{\n    printk(KERN_INFO \"dummy-code unloaded\\n\");\n}\n\nmodule_init(dummy_code_init);\nmodule_exit(dummy_code_exit);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"Rodolfo Giometti\");\nMODULE_DESCRIPTION(\"Dummy code\");\n```", "```\n--- a/drivers/misc/Kconfig\n+++ b/drivers/misc/Kconfig\n@@ -527,4 +527,10 @@ source \"drivers/misc/echo/Kconfig\"\n source \"drivers/misc/cxl/Kconfig\"\n source \"drivers/misc/ocxl/Kconfig\"\n source \"drivers/misc/cardreader/Kconfig\"\n+\n+config DUMMY_CODE\n+       tristate \"Dummy code\"\n+       default n\n+       ---help---\n+         This module is just for demonstration purposes.\n endmenu\n```", "```\n--- a/drivers/misc/Makefile\n+++ b/drivers/misc/Makefile\n@@ -58,3 +58,4 @@ obj-$(CONFIG_ASPEED_LPC_SNOOP) += aspeed-lpc-snoop.o\n obj-$(CONFIG_PCI_ENDPOINT_TEST) += pci_endpoint_test.o\n obj-$(CONFIG_OCXL) += ocxl/\n obj-$(CONFIG_MISC_RTSX) += cardreader/\n+obj-$(CONFIG_DUMMY_CODE) += dummy-code.o\n```", "```\n$ make Image\nscripts/kconfig/conf --syncconfig Kconfig\n...\n  CC drivers/misc/dummy-code.o\n  AR drivers/misc/built-in.a\n  AR drivers/built-in.a\n...\n  LD vmlinux\n  SORTEX vmlinux\n  SYSMAP System.map\n  OBJCOPY arch/arm64/boot/Image\n```", "```\n...\nloop: module loaded\ndummy-code loaded\nahci-mvebu d00e0000.sata: AHCI 0001.0300 32 slots 1 ports 6 Gbps\n...\n```", "```\n# tail -f /var/log/kern.log\n```", "```\n# cat /proc/sys/kernel/printk\n10      4       1       7\n```", "```\n#define KERN_EMERG KERN_SOH \"0\"    /* system is unusable */\n#define KERN_ALERT KERN_SOH \"1\"    /* action must be taken immediately */\n#define KERN_CRIT KERN_SOH \"2\"     /* critical conditions */\n#define KERN_ERR KERN_SOH \"3\"      /* error conditions */\n#define KERN_WARNING KERN_SOH \"4\"  /* warning conditions */\n#define KERN_NOTICE KERN_SOH \"5\"   /* normal but significant condition */\n#define KERN_INFO KERN_SOH \"6\"     /* informational */\n#define KERN_DEBUG KERN_SOH \"7\"    /* debug-level messages */\n```", "```\n# cat /proc/sys/kernel/printk\n4       4       1       7\n```", "```\n # echo 0 > /proc/sys/kernel/printk\n```", "```\n#define pr_emerg(fmt, ...) \\\n        printk(KERN_EMERG pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_alert(fmt, ...) \\\n        printk(KERN_ALERT pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_crit(fmt, ...) \\\n        printk(KERN_CRIT pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_err(fmt, ...) \\\n        printk(KERN_ERR pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_warning(fmt, ...) \\\n        printk(KERN_WARNING pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_warn pr_warning\n#define pr_notice(fmt, ...) \\\n        printk(KERN_NOTICE pr_fmt(fmt), ##__VA_ARGS__)\n#define pr_info(fmt, ...) \\\n        printk(KERN_INFO pr_fmt(fmt), ##__VA_ARGS__)\n```", "```\nstatic int __init dummy_code_init(void)\n{\n        pr_info(\"dummy-code loaded\\n\");\n        return 0;\n}\n\nstatic void __exit dummy_code_exit(void)\n{\n        pr_info(\"dummy-code unloaded\\n\");\n}\n```", "```\n#define pr_fmt(fmt) \"%s:%s: \" fmt, KBUILD_MODNAME, __func__\n```", "```\n/*\n * Dummy code\n */\n\n#define pr_fmt(fmt) \"%s:%s: \" fmt, KBUILD_MODNAME, __func__\n#include <linux/module.h>\n```", "```\ndummy_code:dummy_code_init: dummy-code loaded\n```", "```\n# cat /var/log/kern.log | grep -i uart\nFeb 7 19:33:14 espressobin kernel: [ 0.000000] earlycon: ar3700_uart0 at MMIO 0x00000000d0012000 (options '')\nFeb 7 19:33:14 espressobin kernel: [ 0.000000] bootconsole [ar3700_uart0] enabled\nFeb 7 19:33:14 espressobin kernel: [ 0.000000] Kernel command line: console=ttyMV0,115200 earlycon=ar3700_uart,0xd0012000 loglevel=0 debug root=/dev/mmcblk0p1 rw rootwait net.ifnames=0 biosdevname=0\nFeb 7 19:33:14 espressobin kernel: [ 0.289914] Serial: AMBA PL011 UART driver\nFeb 7 19:33:14 espressobin kernel: [ 0.296443] mvebu-uart d0012000.serial: could not find pctldev for node /soc/internal-regs@d0000000/pinctrl@13800/uart1-pins, deferring probe\n...\n```", "```\n# dmesg | grep -i uart\n[ 0.000000] earlycon: ar3700_uart0 at MMIO 0x00000000d0012000 (options '')\n[ 0.000000] bootconsole [ar3700_uart0] enabled\n[ 0.000000] Kernel command line: console=ttyMV0,115200 earlycon=ar3700_uart,0\nxd0012000 loglevel=0 debug root=/dev/mmcblk0p1 rw rootwait net.ifnames=0 biosdev\nname=0\n[ 0.289914] Serial: AMBA PL011 UART driver\n[ 0.296443] mvebu-uart d0012000.serial: could not find pctldev for node /soc/\ninternal-regs@d0000000/pinctrl@13800/uart1-pins, deferring probe\n...\n```", "```\n# dmesg | head -10 \n[ 0.000000] Booting Linux on physical CPU 0x0000000000 [0x410fd034]\n[ 0.000000] Linux version 4.18.0-dirty (giometti@giometti-VirtualBox) (gcc ve\nrsion 7.3.0 (Ubuntu/Linaro 7.3.0-27ubuntu1~18.04)) #5 SMP PREEMPT Sun Jan 27 13:\n33:24 CET 2019\n[ 0.000000] Machine model: Globalscale Marvell ESPRESSOBin Board\n[ 0.000000] earlycon: ar3700_uart0 at MMIO 0x00000000d0012000 (options '')\n[ 0.000000] bootconsole [ar3700_uart0] enabled\n[ 0.000000] efi: Getting EFI parameters from FDT:\n[ 0.000000] efi: UEFI not found.\n[ 0.000000] cma: Reserved 32 MiB at 0x000000007e000000\n[ 0.000000] NUMA: No NUMA configuration found\n[ 0.000000] NUMA: Faking a node at [mem 0x0000000000000000-0x000000007fffffff]\n```", "```\n# tail -f /var/log/kern.log\n```", "```\n# dmesg | tail -10 \n```", "```\n# dmesg -w\n```", "```\n# dmesg -l 3 \n[ 1.687783] advk-pcie d0070000.pcie: link never came up\n[ 3.153849] advk-pcie d0070000.pcie: Posted PIO Response Status: CA, 0xe00 @ 0x0\n[ 3.688578] Unable to create integrity sysfs dir: -19\n```", "```\n# dmesg -l 4\n[ 3.164121] EINJ: ACPI disabled.\n[ 3.197263] cacheinfo: Unable to detect cache hierarchy for CPU 0\n[ 4.572660] xenon-sdhci d00d0000.sdhci: Timing issue might occur in DDR mode\n[ 5.316949] systemd-sysv-ge: 10 output lines suppressed due to ratelimiting\n```", "```\n# dmesg -l 3,4\n[ 1.687783] advk-pcie d0070000.pcie: link never came up\n[ 3.153849] advk-pcie d0070000.pcie: Posted PIO Response Status: CA, 0xe00 @ 0x0\n[ 3.164121] EINJ: ACPI disabled.\n[ 3.197263] cacheinfo: Unable to detect cache hierarchy for CPU 0\n[ 3.688578] Unable to create integrity sysfs dir: -19\n[ 4.572660] xenon-sdhci d00d0000.sdhci: Timing issue might occur in DDR mode\n[ 5.316949] systemd-sysv-ge: 10 output lines suppressed due to ratelimiting\n```", "```\n# dmesg -C\n```", "```\nifndef KERNEL_DIR\n$(error KERNEL_DIR must be set in the command line)\nendif\nPWD := $(shell pwd)\nARCH ?= arm64\nCROSS_COMPILE ?= aarch64-linux-gnu-\n\n# This specifies the kernel module to be compiled\nobj-m += dummy-code.o\n\n# The default action\nall: modules\n\n# The main tasks\nmodules clean:\n    make -C $(KERNEL_DIR) \\\n              ARCH=$(ARCH) \\\n              CROSS_COMPILE=$(CROSS_COMPILE) \\\n              SUBDIRS=$(PWD) $@\n```", "```\n# insmod -h\nUsage:\n        insmod [options] filename [args]\nOptions:\n        -V, --version show version\n        -h, --help show this help\n```", "```\n$ ls\ndummy-code.c  Makefile\n```", "```\n$ make KERNEL_DIR=../../../linux/\nmake -C ../../../linux/ \\\n ARCH=arm64 \\\n CROSS_COMPILE=aarch64-linux-gnu- \\\n SUBDIRS=/home/giometti/Projects/ldddc/github/chapter_2/module modules\nmake[1]: Entering directory '/home/giometti/Projects/ldddc/linux'\n CC [M] /home/giometti/Projects/ldddc/github/chapter_2/module/dummy-code.o\n Building modules, stage 2.\n MODPOST 1 modules\n CC /home/giometti/Projects/ldddc/github/chapter_2/module/dummy-code.mod.o\n LD [M] /home/giometti/Projects/ldddc/github/chapter_2/module/dummy-code.ko\nmake[1]: Leaving directory '/home/giometti/Projects/ldddc/linux'\n```", "```\n# insmod dummy-code.ko\n```", "```\n# lsmod \nModule         Size  Used by\ndummy_code    16384  0\n```", "```\n# rmmod dummy_code\n```", "```\ndummy_code: loading out-of-tree module taints kernel.\ndummy_code:dummy_code_init: dummy-code loaded\n```", "```\nstatic int var = 0x3f;\nmodule_param(var, int, S_IRUSR | S_IWUSR);\nMODULE_PARM_DESC(var, \"an integer value\");\n\nstatic char *str = \"default string\";\nmodule_param(str, charp, S_IRUSR | S_IWUSR);\nMODULE_PARM_DESC(str, \"a string value\");\n\n#define ARR_SIZE 8\nstatic int arr[ARR_SIZE];\nstatic int arr_count;\nmodule_param_array(arr, int, &arr_count, S_IRUSR | S_IWUSR);\nMODULE_PARM_DESC(arr, \"an array of \" __stringify(ARR_SIZE) \" values\");\n```", "```\nstatic int __init module_par_init(void)\n{\n    int i;\n\n    pr_info(\"loaded\\n\");\n    pr_info(\"var = 0x%02x\\n\", var);\n    pr_info(\"str = \\\"%s\\\"\\n\", str);\n    pr_info(\"arr = \");\n    for (i = 0; i < ARR_SIZE; i++)\n        pr_cont(\"%d \", arr[i]);\n    pr_cont(\"\\n\");\n\n    return 0;\n}\n\nstatic void __exit module_par_exit(void)\n{\n    pr_info(\"unloaded\\n\");\n}\n\nmodule_init(module_par_init);\nmodule_exit(module_par_exit);\n```", "```\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"Rodolfo Giometti\");\nMODULE_DESCRIPTION(\"Module with parameters\");\nMODULE_VERSION(\"0.1\");\n```", "```\n# modinfo module_par.ko \nfilename:    /root/module_par.ko\nversion:     0.1\ndescription: Module with parameters\nauthor:      Rodolfo Giometti\nlicense:     GPL\nsrcversion:  21315B65C307ABE9769814F\ndepends: \nname:        module_par\nvermagic:    4.18.0 SMP preempt mod_unload aarch64\nparm:        var:an integer value (int)\nparm:        str:a string value (charp)\nparm:        arr:an array of 8 values (array of int)\n```", "```\n# insmod module_par.ko \n[ 6021.345064] module_par:module_par_init: loaded\n[ 6021.347028] module_par:module_par_init: var = 0x3f\n[ 6021.351810] module_par:module_par_init: str = \"default string\"\n[ 6021.357904] module_par:module_par_init: arr = 0 0 0 0 0 0 0 0\n```", "```\n# insmod module_par.ko var=0x01 str=\\\"new value\\\" arr='1,2,3' \n[ 6074.175964] module_par:module_par_init: loaded\n[ 6074.177915] module_par:module_par_init: var = 0x01\n[ 6074.184932] module_par:module_par_init: str = \"new value\"\n[ 6074.189765] module_par:module_par_init: arr = 1 2 3 0 0 0 0 0 \n```", "```\nstatic int var = 0x3f;\nmodule_param(var, int, S_IRUSR | S_IWUSR);\nMODULE_PARM_DESC(var, \"an integer value\");\n```", "```\n# ls -l /sys/module/module_par/parameters/\ntotal 0\n-rw------- 1 root root 4096 Feb 1 12:46 arr\n-rw------- 1 root root 4096 Feb 1 12:46 str\n-rw------- 1 root root 4096 Feb 1 12:46 var\n```"]