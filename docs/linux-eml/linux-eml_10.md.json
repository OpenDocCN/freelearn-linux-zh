["```\n# fdisk -l > disk_layout.txt\n\n```", "```\n# df -h >> disk_layout.txt\n\n```", "```\n# mount >> disk_layout.txt\n\n```", "```\n# dpkg --get-selections > installed_software.txt\n\n```", "```\n# rpm -qa > installed_software.txt\n\n```", "```\n# dpkg --set-selections < installed_software.txt\n# dselect\n\n```", "```\n# yum -y install $(cat installed_software.txt)\n\n```", "```\n# mount\n\n```", "```\n/dev/sda1 on / type ext3 (rw,relatime,errors=remount-ro)\ntmpfs on /lib/init/rw type tmpfs (rw,nosuid,mode=0755)\n/proc on /proc type proc (rw,noexec,nosuid,nodev)\nsysfs on /sys type sysfs (rw,noexec,nosuid,nodev)\nvarrun on /var/run type tmpfs (rw,nosuid,mode=0755)\nvarlock on /var/lock type tmpfs (rw,noexec,nosuid,nodev,mode=1777)\nudev on /dev type tmpfs (rw,mode=0755)\ntmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)\ndevpts on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=620)\nfusectl on /sys/fs/fuse/connections type fusectl (rw)\nlrm on /lib/modules/2.6.27-14-generic/volatile type tmpfs (rw,mode=755)\n/dev/sdb1 on /home type ext3 (rw,relatime)\n\n```", "```\n# dump -0 -u -b 1024 -f - /dev/sdb1 | \\\ngzip -c | \\\nssh user@backup-host.domain.com \\\ndd of=/backupdirectory/$(date +%Y%m%d%H%M%S).home.dump.0.gz\n\n```", "```\n# dump -0 -u -f /backupdirectory/fulldump /dev/sdb1\n\n```", "```\n# dump -1 -u -f mon.dump.1 /dev/sdb1\n\n```", "```\n# dump -1 -u -f tue.dump.1 /dev/sdb1\n\n```", "```\n# dump -1 -u -f mon.dump.1 /dev/sdb1\n# dump -2 -u -f tue.dump.2 /dev/sdb1\n# dump -3 -u -f wed.dump.3 /dev/sdb1\n# dump -4 -u -f thu.dump.4 /dev/sdb1\n\n```", "```\n# restore -t -f filename\n\n```", "```\n# restore -i -f /backupdirectory/subdir/dumpfile\n>\n\n```", "```\n> quit\n\n```", "```\n# mke2fs -j /dev/sdb1\n# mount /dev/sdb1 /home\n\n```", "```\n# cd /home\n# ssh user@backup-host.domain.com \\\ndd if=/backupdirectory/20090601030034.home.dump.0.gz | \\\ngunzip -c | restore -r -f -\n\n```", "```\nssh user@backup-host.domain.com\n\n```", "```\ndd if=/backupdirectory/20090601030034.home.dump.0.gz\n\n```", "```\n# ssh backup@nas1 dd if=backups/20090727153909.home.dump.0.gz \\ | gunzip -c | restore -r -f -\nrestore: ./lost+found: File exists\n1629153+1 records in\n1629153+1 records out\n834126574 bytes (834 MB) copied, 71.4752 s, 11.7 MB/s\n#\n\n```", "```\n# tar cz disk_layout.txt installed_software.txt \\\n/etc /var/log /var/spool/postfix | \\\nssh user@backup-host.domain.com \\\ndd of=/backupdirectory/$(date +%Y%m%d%H%M%S).config.tar.gz\n\n```", "```\n# mkdir -p /home/config\n# chmod 600 /home/config\n# tar czf /home/config/$(date +%Y%m%d%H%M%S).config.tar.gz \\\ndisk_layout.txt installed_software.txt \\\n/etc /var/log /var/spool/postfix\n\n```", "```\n# mkdir tmpdir\n# cd tmpdir\n# tar xzf xxxxx.config.tar.gz\n\n```", "```\n#!/bin/sh\n# The name of the dump, e.g. home or users\nNAME=$1\n# The partition to dump, e.g. /dev/sdb1\nDEVICE=$2\n# The dump level, e.g. 0 or 3 etc.\nLEVEL=$3\n# ssh login name and host\n#\nUSERNAME=user\nBACKUPHOST=backuphost\n# Take a system inventory.\n#\n/sbin/fdisk -l > /tmp/disk_layout.txt\n/bin/df -h >> /tmp/disk_layout.txt\n/bin/mount >> /tmp/disk_layout.txt\n# Installed software (Debian)\n#\n/usr/bin/dpkg --get-selections > /tmp/installed_software.txt\n# Archive our system configuration and logs\n#\n/bin/tar cz /tmp/disk_layout.txt /tmp/installed_software.txt \\\n/etc /var/log /var/spool/postfix | \\\n/usr/bin/ssh $USERNAME@$BACKUPHOST \\\n/bin/dd of=$(date +%Y%m%d%H%M%S).config.tar.gz\n# Perform the dump to the remote backup server.\n#\n/usr/sbin/dump -u -$LEVEL -f - $DEVICE | \\\n/bin/gzip -c | ssh $USERNAME@$BACKUPHOST \\\n/bin/dd $(date +%Y%m%d%H%M%S).$NAME.dump.$LEVEL.gz\"\n# Remove temporary files.\n#\nrm -f /tmp/disk_layout.txt /tmp/installed_software.txt\nexit 0\n\n```", "```\n# remote-dump.sh home /home 0\n\n```", "```\n10 02 1 * * /bin/remote-dump.sh home /home 0\n10 02 2,9,16,23,30 * * /bin/remote-dump.sh home /home 3\n10 02 3,10,17,24,31 * * /bin/remote-dump.sh home /home 2\n10 02 4,11,18,25 * * /bin/remote-dump.sh home /home 5\n10 02 5,12,19,26 * * /bin/remote-dump.sh home /home 4\n10 02 6,13,20,27 * * /bin/remote-dump.sh home /home 7\n10 02 7,14,21,28 * * /bin/remote-dump.sh home /home 6\n10 02 8,15,22,29 * * /bin/remote-dump.sh home /home 1\n\n```"]